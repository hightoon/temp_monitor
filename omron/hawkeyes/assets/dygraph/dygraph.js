Dygraph=function(a,b,c){0<arguments.length&&(4==arguments.length?(this.warn("Using deprecated four-argument dygraph constructor"),this.__old_init__(a,b,arguments[2],arguments[3])):this.__init__(a,b,c))};Dygraph.NAME="Dygraph";Dygraph.VERSION="1.2";Dygraph.__repr__=function(){return"["+this.NAME+" "+this.VERSION+"]"};Dygraph.toString=function(){return this.__repr__()};Dygraph.DEFAULT_ROLL_PERIOD=1;Dygraph.DEFAULT_WIDTH=480;Dygraph.DEFAULT_HEIGHT=320;
Dygraph.DEFAULT_ATTRS={highlightCircleSize:3,pixelsPerXLabel:60,pixelsPerYLabel:30,labelsDivWidth:250,labelsDivStyles:{},labelsSeparateLines:!1,labelsShowZeroValues:!0,labelsKMB:!1,labelsKMG2:!1,showLabelsOnHighlight:!0,yValueFormatter:function(a,b){return Dygraph.numberFormatter(a,b)},digitsAfterDecimal:2,maxNumberWidth:6,sigFigs:null,strokeWidth:1,axisTickSize:3,axisLabelFontSize:14,xAxisLabelWidth:50,yAxisLabelWidth:50,xAxisLabelFormatter:Dygraph.dateAxisFormatter,rightGap:5,showRoller:!1,xValueFormatter:Dygraph.dateString_,
xValueParser:Dygraph.dateParser,xTicker:Dygraph.dateTicker,delimiter:",",sigma:2,errorBars:!1,fractions:!1,wilsonInterval:!0,customBars:!1,fillGraph:!1,fillAlpha:.15,connectSeparatedPoints:!1,stackedGraph:!1,hideOverlayOnMouseOut:!0,legend:"onmouseover",stepPlot:!1,avoidMinZero:!1,titleHeight:28,xLabelHeight:18,yLabelWidth:18,drawXAxis:!0,drawYAxis:!0,axisLineColor:"black",axisLineWidth:.3,gridLineWidth:.3,axisLabelColor:"black",axisLabelFont:"Arial",axisLabelWidth:50,drawYGrid:!0,drawXGrid:!0,gridLineColor:"rgb(128,128,128)",
interactionModel:null};Dygraph.HORIZONTAL=1;Dygraph.VERTICAL=2;Dygraph.addedAnnotationCSS=!1;Dygraph.prototype.__old_init__=function(a,b,c,d){if(null!=c){for(var e=["Date"],h=0;h<c.length;h++)e.push(c[h]);Dygraph.update(d,{labels:e})}this.__init__(a,b,d)};
Dygraph.prototype.__init__=function(a,b,c){if(/MSIE/.test(navigator.userAgent)&&!window.opera&&"undefined"!=typeof G_vmlCanvasManager&&"complete"!=document.readyState){var d=this;setTimeout(function(){d.__init__(a,b,c)},100)}null==c&&(c={});this.maindiv_=a;this.file_=b;this.rollPeriod_=c.rollPeriod||Dygraph.DEFAULT_ROLL_PERIOD;this.previousVerticalX_=-1;this.fractions_=c.fractions||!1;this.dateWindow_=c.dateWindow||null;this.wilsonInterval_=c.wilsonInterval||!0;this.is_initial_draw_=!0;this.annotations_=
[];this.zoomed_y_=this.zoomed_x_=!1;a.innerHTML="";""==a.style.width&&(a.style.width=(c.width||Dygraph.DEFAULT_WIDTH)+"px");""==a.style.height&&(a.style.height=(c.height||Dygraph.DEFAULT_HEIGHT)+"px");this.width_=parseInt(a.style.width,10);this.height_=parseInt(a.style.height,10);a.style.width.indexOf("%")==a.style.width.length-1&&(this.width_=a.offsetWidth);a.style.height.indexOf("%")==a.style.height.length-1&&(this.height_=a.offsetHeight);0==this.width_&&this.error("dygraph has zero width. Please specify a width in pixels.");
0==this.height_&&this.error("dygraph has zero height. Please specify a height in pixels.");c.stackedGraph&&(c.fillGraph=!0);this.user_attrs_={};Dygraph.update(this.user_attrs_,c);this.attrs_={};Dygraph.update(this.attrs_,Dygraph.DEFAULT_ATTRS);this.boundaryIds_=[];this.createInterface_();this.start_()};
Dygraph.prototype.isZoomed=function(a){if(null==a)return this.zoomed_x_||this.zoomed_y_;if("x"==a)return this.zoomed_x_;if("y"==a)return this.zoomed_y_;throw"axis parameter to Dygraph.isZoomed must be missing, 'x' or 'y'.";};Dygraph.prototype.toString=function(){var a=this.maindiv_;return"[Dygraph "+(a&&a.id?a.id:a)+"]"};
Dygraph.prototype.attr_=function(a,b){"undefined"===typeof Dygraph.OPTIONS_REFERENCE?this.error("Must include options reference JS for testing"):Dygraph.OPTIONS_REFERENCE.hasOwnProperty(a)||(this.error("Dygraphs is using property "+a+", which has no entry in the Dygraphs.OPTIONS_REFERENCE listing."),Dygraph.OPTIONS_REFERENCE[a]=!0);return b&&"undefined"!=typeof this.user_attrs_[b]&&null!=this.user_attrs_[b]&&"undefined"!=typeof this.user_attrs_[b][a]?this.user_attrs_[b][a]:"undefined"!=typeof this.user_attrs_[a]?
this.user_attrs_[a]:"undefined"!=typeof this.attrs_[a]?this.attrs_[a]:null};Dygraph.prototype.rollPeriod=function(){return this.rollPeriod_};Dygraph.prototype.xAxisRange=function(){return this.dateWindow_?this.dateWindow_:this.xAxisExtremes()};Dygraph.prototype.xAxisExtremes=function(){return[this.rawData_[0][0],this.rawData_[this.rawData_.length-1][0]]};
Dygraph.prototype.yAxisRange=function(a){"undefined"==typeof a&&(a=0);if(0>a||a>=this.axes_.length)return null;a=this.axes_[a];return[a.computedValueRange[0],a.computedValueRange[1]]};Dygraph.prototype.yAxisRanges=function(){for(var a=[],b=0;b<this.axes_.length;b++)a.push(this.yAxisRange(b));return a};Dygraph.prototype.toDomCoords=function(a,b,c){return[this.toDomXCoord(a),this.toDomYCoord(b,c)]};
Dygraph.prototype.toDomXCoord=function(a){if(null==a)return null;var b=this.plotter_.area,c=this.xAxisRange();return b.x+(a-c[0])/(c[1]-c[0])*b.w};Dygraph.prototype.toDomYCoord=function(a,b){var c=this.toPercentYCoord(a,b);if(null==c)return null;var d=this.plotter_.area;return d.y+c*d.h};Dygraph.prototype.toDataCoords=function(a,b,c){return[this.toDataXCoord(a),this.toDataYCoord(b,c)]};
Dygraph.prototype.toDataXCoord=function(a){if(null==a)return null;var b=this.plotter_.area,c=this.xAxisRange();return c[0]+(a-b.x)/b.w*(c[1]-c[0])};Dygraph.prototype.toDataYCoord=function(a,b){if(null==a)return null;var c=this.plotter_.area,d=this.yAxisRange(b);"undefined"==typeof b&&(b=0);if(this.axes_[b].logscale){var c=(a-c.y)/c.h,e=Dygraph.log10(d[1]),d=e-c*(e-Dygraph.log10(d[0]));return Math.pow(Dygraph.LOG_SCALE,d)}return d[0]+(c.y+c.h-a)/c.h*(d[1]-d[0])};
Dygraph.prototype.toPercentYCoord=function(a,b){if(null==a)return null;"undefined"==typeof b&&(b=0);var c=this.yAxisRange(b);if(this.axes_[b].logscale)var d=Dygraph.log10(c[1]),c=(d-Dygraph.log10(a))/(d-Dygraph.log10(c[0]));else c=(c[1]-a)/(c[1]-c[0]);return c};Dygraph.prototype.toPercentXCoord=function(a){if(null==a)return null;var b=this.xAxisRange();return(a-b[0])/(b[1]-b[0])};Dygraph.prototype.numColumns=function(){return this.rawData_[0].length};Dygraph.prototype.numRows=function(){return this.rawData_.length};
Dygraph.prototype.getValue=function(a,b){return 0>a||a>this.rawData_.length||0>b||b>this.rawData_[a].length?null:this.rawData_[a][b]};
Dygraph.prototype.createInterface_=function(){var a=this.maindiv_;this.graphDiv=document.createElement("div");this.graphDiv.style.width=this.width_+"px";this.graphDiv.style.height=this.height_+"px";a.appendChild(this.graphDiv);this.canvas_=Dygraph.createCanvas();this.canvas_.style.position="absolute";this.canvas_.width=this.width_;this.canvas_.height=this.height_;this.canvas_.style.width=this.width_+"px";this.canvas_.style.height=this.height_+"px";this.canvas_ctx_=Dygraph.getContext(this.canvas_);
this.hidden_=this.createPlotKitCanvas_(this.canvas_);this.hidden_ctx_=Dygraph.getContext(this.hidden_);this.graphDiv.appendChild(this.hidden_);this.graphDiv.appendChild(this.canvas_);this.mouseEventElement_=this.canvas_;var b=this;Dygraph.addEvent(this.mouseEventElement_,"mousemove",function(a){b.mouseMove_(a)});Dygraph.addEvent(this.mouseEventElement_,"mouseout",function(a){b.mouseOut_(a)});this.layout_=new DygraphLayout(this);this.createStatusMessage_();this.createDragInterface_()};
Dygraph.prototype.destroy=function(){var a=function(b){for(;b.hasChildNodes();)a(b.firstChild),b.removeChild(b.firstChild)};a(this.maindiv_);var b=function(a){for(var b in a)"object"===typeof a[b]&&(a[b]=null)};b(this.layout_);b(this.plotter_);b(this)};
Dygraph.prototype.createPlotKitCanvas_=function(a){var b=Dygraph.createCanvas();b.style.position="absolute";b.style.top=a.style.top;b.style.left=a.style.left;b.width=this.width_;b.height=this.height_;b.style.width=this.width_+"px";b.style.height=this.height_+"px";return b};
Dygraph.prototype.setColors_=function(){var a=this.attr_("labels").length-1;this.colors_=[];var b=this.attr_("colors");if(b)for(e=0;e<a;e++)this.visibility()[e]&&this.colors_.push(b[e%b.length]);else for(var b=this.attr_("colorSaturation")||1,c=this.attr_("colorValue")||.5,d=Math.ceil(a/2),e=1;e<=a;e++)if(this.visibility()[e-1]){var h=1*(e%2?Math.ceil(e/2):d+e/2)/(1+a);this.colors_.push(Dygraph.hsvToRGB(h,b,c))}this.plotter_.setColors(this.colors_)};Dygraph.prototype.getColors=function(){return this.colors_};
Dygraph.prototype.createStatusMessage_=function(){var a=this.user_attrs_.labelsDiv;a&&null!=a&&("string"==typeof a||a instanceof String)&&(this.user_attrs_.labelsDiv=document.getElementById(a));if(!this.attr_("labelsDiv")){a=this.attr_("labelsDivWidth");a={position:"absolute",fontSize:"14px",zIndex:10,width:a+"px",top:"0px",left:this.width_-a-2+"px",background:"white",textAlign:"left",overflow:"hidden"};Dygraph.update(a,this.attr_("labelsDivStyles"));var b=document.createElement("div"),c;for(c in a)a.hasOwnProperty(c)&&
(b.style[c]=a[c]);this.graphDiv.appendChild(b);this.attrs_.labelsDiv=b}};Dygraph.prototype.positionLabelsDiv_=function(){if(!this.user_attrs_.hasOwnProperty("labelsDiv")){var a=this.plotter_.area,b=this.attr_("labelsDiv");b.style.left=a.x+a.w-this.attr_("labelsDivWidth")-1+"px";b.style.top=a.y+"px"}};
Dygraph.prototype.createRollInterface_=function(){this.roller_||(this.roller_=document.createElement("input"),this.roller_.type="text",this.roller_.style.display="none",this.graphDiv.appendChild(this.roller_));var a=this.attr_("showRoller")?"block":"none",b=this.plotter_.area,a={position:"absolute",zIndex:10,top:b.y+b.h-25+"px",left:b.x+1+"px",display:a};this.roller_.size="2";this.roller_.value=this.rollPeriod_;for(var c in a)a.hasOwnProperty(c)&&(this.roller_.style[c]=a[c]);var d=this;this.roller_.onchange=
function(){d.adjustRoll(d.roller_.value)}};Dygraph.prototype.dragGetX_=function(a,b){return Dygraph.pageX(a)-b.px};Dygraph.prototype.dragGetY_=function(a,b){return Dygraph.pageY(a)-b.py};
Dygraph.prototype.createDragInterface_=function(){var a={isZooming:!1,isPanning:!1,is2DPan:!1,dragStartX:null,dragStartY:null,dragEndX:null,dragEndY:null,dragDirection:null,prevEndX:null,prevEndY:null,prevDragDirection:null,initialLeftmostDate:null,xUnitsPerPixel:null,dateRange:null,px:0,py:0,boundedDates:null,boundedValues:null,initializeMouseDown:function(a,b,c){a.preventDefault?a.preventDefault():(a.returnValue=!1,a.cancelBubble=!0);c.px=Dygraph.findPosX(b.canvas_);c.py=Dygraph.findPosY(b.canvas_);
c.dragStartX=b.dragGetX_(a,c);c.dragStartY=b.dragGetY_(a,c)}},b=this.attr_("interactionModel"),c=this,d=function(b){return function(d){b(d,c,a)}},e;for(e in b)b.hasOwnProperty(e)&&Dygraph.addEvent(this.mouseEventElement_,e,d(b[e]));Dygraph.addEvent(document,"mouseup",function(b){if(a.isZooming||a.isPanning)a.isZooming=!1,a.dragStartX=null,a.dragStartY=null;if(a.isPanning)for(a.isPanning=!1,a.draggingDate=null,a.dateRange=null,b=0;b<c.axes_.length;b++)delete c.axes_[b].draggingValue,delete c.axes_[b].dragValueRange})};
Dygraph.prototype.drawZoomRect_=function(a,b,c,d,e,h,f,k){var g=this.canvas_ctx_;h==Dygraph.HORIZONTAL?g.clearRect(Math.min(b,f),0,Math.abs(b-f),this.height_):h==Dygraph.VERTICAL&&g.clearRect(0,Math.min(d,k),this.width_,Math.abs(d-k));a==Dygraph.HORIZONTAL&&c&&b&&(g.fillStyle="rgba(128,128,128,0.33)",g.fillRect(Math.min(b,c),0,Math.abs(c-b),this.height_));a==Dygraph.VERTICAL&&e&&d&&(g.fillStyle="rgba(128,128,128,0.33)",g.fillRect(0,Math.min(d,e),this.width_,Math.abs(e-d)))};
Dygraph.prototype.doZoomX_=function(a,b){var c=this.toDataXCoord(a),d=this.toDataXCoord(b);this.doZoomXDates_(c,d)};Dygraph.prototype.doZoomXDates_=function(a,b){this.dateWindow_=[a,b];this.zoomed_x_=!0;this.drawGraph_();this.attr_("zoomCallback")&&this.attr_("zoomCallback")(a,b,this.yAxisRanges())};
Dygraph.prototype.doZoomY_=function(a,b){for(var c=[],d=0;d<this.axes_.length;d++){var e=this.toDataYCoord(a,d),h=this.toDataYCoord(b,d);this.axes_[d].valueWindow=[h,e];c.push([h,e])}this.zoomed_y_=!0;this.drawGraph_();this.attr_("zoomCallback")&&(c=this.xAxisRange(),this.yAxisRange(),this.attr_("zoomCallback")(c[0],c[1],this.yAxisRanges()))};
Dygraph.prototype.doUnzoom_=function(){var a=!1;null!=this.dateWindow_&&(a=!0,this.dateWindow_=null);for(var b=0;b<this.axes_.length;b++)null!=this.axes_[b].valueWindow&&(a=!0,delete this.axes_[b].valueWindow);this.clearSelection();a&&(this.zoomed_y_=this.zoomed_x_=!1,this.drawGraph_(),this.attr_("zoomCallback")&&(a=this.rawData_[0][0],b=this.rawData_[this.rawData_.length-1][0],this.attr_("zoomCallback")(a,b,this.yAxisRanges())))};
Dygraph.prototype.mouseMove_=function(a){var b=this.layout_.points;if(void 0!==b){for(var c=Dygraph.pageX(a)-Dygraph.findPosX(this.mouseEventElement_),d=-1,e=1E100,h=-1,f=0;f<b.length;f++){var k=b[f];null!=k&&(k=Math.abs(k.canvasx-c),k>e||(e=k,h=f))}0<=h&&(d=b[h].xval);this.selPoints_=[];e=b.length;if(this.attr_("stackedGraph")){c=0;for(f=e-1;0<=f;f--)if(b[f].xval==d){var e={},g;for(g in b[f])e[g]=b[f][g];e.yval-=c;c+=e.yval;this.selPoints_.push(e)}this.selPoints_.reverse()}else for(f=0;f<e;f++)b[f].xval==
d&&this.selPoints_.push(b[f]);this.attr_("highlightCallback")&&(b=this.lastx_,null!==b&&d!=b&&this.attr_("highlightCallback")(a,d,this.selPoints_,this.idxToRow_(h)));this.lastx_=d;this.updateSelection_()}};Dygraph.prototype.idxToRow_=function(a){if(0>a)return-1;for(var b in this.layout_.datasets){if(a<this.layout_.datasets[b].length)return this.boundaryIds_[0][0]+a;a-=this.layout_.datasets[b].length}return-1};
Dygraph.prototype.generateLegendHTML_=function(a,b){if("undefined"===typeof a){if("always"!=this.attr_("legend"))return"";for(var c=this.attr_("labelsSeparateLines"),d=this.attr_("labels"),e="",h=1;h<d.length;h++)if(this.visibility()[h-1]){var f=this.plotter_.colors[d[h]];""!=e&&(e+=c?"<br/>":" ");e+="<b><span style='color: "+f+";'>&mdash;"+d[h]+"</span></b>"}return e}for(var e=this.attr_("xValueFormatter")(a)+":",d=this.attr_("yValueFormatter"),k=this.attr_("labelsShowZeroValues"),c=this.attr_("labelsSeparateLines"),
h=0;h<this.selPoints_.length;h++){var g=this.selPoints_[h];if((0!=g.yval||k)&&Dygraph.isOK(g.canvasy)){c&&(e+="<br/>");var f=this.plotter_.colors[g.name],n=d(g.yval,this),e=e+(" <b><span style='color: "+f+";'>"+g.name+"</span></b>:"+n)}}return e};
Dygraph.prototype.setLegendHTML_=function(a,b){var c=this.generateLegendHTML_(a,b),d=this.attr_("labelsDiv");null!==d?d.innerHTML=c:"undefined"==typeof this.shown_legend_error_&&(this.error("labelsDiv is set to something nonexistent; legend will not be shown."),this.shown_legend_error_=!0)};
Dygraph.prototype.updateSelection_=function(){var a=this.canvas_ctx_;if(0<=this.previousVerticalX_){for(var b=0,c=this.attr_("labels"),d=1;d<c.length;d++){var e=this.attr_("highlightCircleSize",c[d]);e>b&&(b=e)}a.clearRect(this.previousVerticalX_-b-1,0,2*b+2,this.height_)}if(0<this.selPoints_.length){this.attr_("showLabelsOnHighlight")&&this.setLegendHTML_(this.lastx_,this.selPoints_);b=this.selPoints_[0].canvasx;a.save();for(d=0;d<this.selPoints_.length;d++)c=this.selPoints_[d],Dygraph.isOK(c.canvasy)&&
(e=this.attr_("highlightCircleSize",c.name),a.beginPath(),a.fillStyle=this.plotter_.colors[c.name],a.arc(b,c.canvasy,e,0,2*Math.PI,!1),a.fill());a.restore();this.previousVerticalX_=b}};
Dygraph.prototype.setSelection=function(a){this.selPoints_=[];var b=0;!1!==a&&(a-=this.boundaryIds_[0][0]);if(!1!==a&&0<=a)for(var c in this.layout_.datasets){if(a<this.layout_.datasets[c].length){var d=this.layout_.points[b+a];this.attr_("stackedGraph")&&(d=this.layout_.unstackPointAtIndex(b+a));this.selPoints_.push(d)}b+=this.layout_.datasets[c].length}this.selPoints_.length?(this.lastx_=this.selPoints_[0].xval,this.updateSelection_()):this.clearSelection()};
Dygraph.prototype.mouseOut_=function(a){this.attr_("unhighlightCallback")&&this.attr_("unhighlightCallback")(a);this.attr_("hideOverlayOnMouseOut")&&this.clearSelection()};Dygraph.prototype.clearSelection=function(){this.canvas_ctx_.clearRect(0,0,this.width_,this.height_);this.setLegendHTML_();this.selPoints_=[];this.lastx_=-1};
Dygraph.prototype.getSelection=function(){if(!this.selPoints_||1>this.selPoints_.length)return-1;for(var a=0;a<this.layout_.points.length;a++)if(this.layout_.points[a].x==this.selPoints_[0].x)return a+this.boundaryIds_[0][0];return-1};
Dygraph.numberFormatter=function(a,b){var c=b.attr_("sigFigs");if(null!==c)return Dygraph.floatFormat(a,c);var c=b.attr_("digitsAfterDecimal"),d=b.attr_("maxNumberWidth");return 0!==a&&(Math.abs(a)>=Math.pow(10,d)||Math.abs(a)<Math.pow(10,-c))?a.toExponential(c):""+Dygraph.round_(a,c)};
Dygraph.dateAxisFormatter=function(a,b){return b>=Dygraph.DECADAL?a.strftime("%Y"):b>=Dygraph.MONTHLY?a.strftime("%b %y"):0==3600*a.getHours()+60*a.getMinutes()+a.getSeconds()+a.getMilliseconds()||b>=Dygraph.DAILY?(new Date(a.getTime()+36E5)).strftime("%d%b"):Dygraph.hmsString_(a.getTime())};Dygraph.prototype.loadedEvent_=function(a){this.rawData_=this.parseCSV_(a);this.predraw_()};Dygraph.prototype.months="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");
Dygraph.prototype.quarters=["Jan","Apr","Jul","Oct"];Dygraph.prototype.addXTicks_=function(){var a;a=this.dateWindow_?[this.dateWindow_[0],this.dateWindow_[1]]:[this.rawData_[0][0],this.rawData_[this.rawData_.length-1][0]];a=this.attr_("xTicker")(a[0],a[1],this);this.layout_.setXTicks(a)};Dygraph.SECONDLY=0;Dygraph.TWO_SECONDLY=1;Dygraph.FIVE_SECONDLY=2;Dygraph.TEN_SECONDLY=3;Dygraph.THIRTY_SECONDLY=4;Dygraph.MINUTELY=5;Dygraph.TWO_MINUTELY=6;Dygraph.FIVE_MINUTELY=7;Dygraph.TEN_MINUTELY=8;
Dygraph.THIRTY_MINUTELY=9;Dygraph.HOURLY=10;Dygraph.TWO_HOURLY=11;Dygraph.SIX_HOURLY=12;Dygraph.DAILY=13;Dygraph.WEEKLY=14;Dygraph.MONTHLY=15;Dygraph.QUARTERLY=16;Dygraph.BIANNUAL=17;Dygraph.ANNUAL=18;Dygraph.DECADAL=19;Dygraph.CENTENNIAL=20;Dygraph.NUM_GRANULARITIES=21;Dygraph.SHORT_SPACINGS=[];Dygraph.SHORT_SPACINGS[Dygraph.SECONDLY]=1E3;Dygraph.SHORT_SPACINGS[Dygraph.TWO_SECONDLY]=2E3;Dygraph.SHORT_SPACINGS[Dygraph.FIVE_SECONDLY]=5E3;Dygraph.SHORT_SPACINGS[Dygraph.TEN_SECONDLY]=1E4;
Dygraph.SHORT_SPACINGS[Dygraph.THIRTY_SECONDLY]=3E4;Dygraph.SHORT_SPACINGS[Dygraph.MINUTELY]=6E4;Dygraph.SHORT_SPACINGS[Dygraph.TWO_MINUTELY]=12E4;Dygraph.SHORT_SPACINGS[Dygraph.FIVE_MINUTELY]=3E5;Dygraph.SHORT_SPACINGS[Dygraph.TEN_MINUTELY]=6E5;Dygraph.SHORT_SPACINGS[Dygraph.THIRTY_MINUTELY]=18E5;Dygraph.SHORT_SPACINGS[Dygraph.HOURLY]=36E5;Dygraph.SHORT_SPACINGS[Dygraph.TWO_HOURLY]=72E5;Dygraph.SHORT_SPACINGS[Dygraph.SIX_HOURLY]=216E5;Dygraph.SHORT_SPACINGS[Dygraph.DAILY]=864E5;
Dygraph.SHORT_SPACINGS[Dygraph.WEEKLY]=6048E5;Dygraph.prototype.NumXTicks=function(a,b,c){if(c<Dygraph.MONTHLY)return Math.floor(.5+1*(b-a)/Dygraph.SHORT_SPACINGS[c]);var d=1,e=12;c==Dygraph.QUARTERLY&&(e=3);c==Dygraph.BIANNUAL&&(e=2);c==Dygraph.ANNUAL&&(e=1);c==Dygraph.DECADAL&&(e=1,d=10);c==Dygraph.CENTENNIAL&&(e=1,d=100);return Math.floor(.5+1*(b-a)/31557807360*1*e/d)};
Dygraph.prototype.GetXAxis=function(a,b,c){var d=this.attr_("xAxisLabelFormatter"),e=[];if(c<Dygraph.MONTHLY){var h=Dygraph.SHORT_SPACINGS[c],f=h/1E3;a=new Date(a);if(60>=f){var k=a.getSeconds();a.setSeconds(k-k%f)}else a.setSeconds(0),f/=60,60>=f?(k=a.getMinutes(),a.setMinutes(k-k%f)):(a.setMinutes(0),f/=60,24>=f?(k=a.getHours(),a.setHours(k-k%f)):(a.setHours(0),7==f/24&&a.setDate(a.getDate()-a.getDay())));for(var g=a=a.getTime();g<=b;g+=h)e.push({v:g,label:d(new Date(g),c)})}else{f=1;c==Dygraph.MONTHLY?
h=[0,1,2,3,4,5,6,7,8,9,10,11,12]:c==Dygraph.QUARTERLY?h=[0,3,6,9]:c==Dygraph.BIANNUAL?h=[0,6]:c==Dygraph.ANNUAL?h=[0]:c==Dygraph.DECADAL?(h=[0],f=10):c==Dygraph.CENTENNIAL?(h=[0],f=100):this.warn("Span of dates is too long");for(var g=(new Date(a)).getFullYear(),k=(new Date(b)).getFullYear(),n=Dygraph.zeropad,l=g;l<=k;l++)if(0==l%f)for(var m=0;m<h.length;m++)g=l+"/"+n(1+h[m])+"/01",g=Dygraph.dateStrToMillis(g),g<a||g>b||e.push({v:g,label:d(new Date(g),c)})}return e};
Dygraph.dateTicker=function(a,b,c){for(var d=-1,e=0;e<Dygraph.NUM_GRANULARITIES;e++){var h=c.NumXTicks(a,b,e);if(c.width_/h>=c.attr_("pixelsPerXLabel")){d=e;break}}if(0<=d)return c.GetXAxis(a,b,d)};Dygraph.PREFERRED_LOG_TICK_VALUES=function(){for(var a=[],b=-39;39>=b;b++)for(var c=Math.pow(10,b),d=1;9>=d;d++)a.push(c*d);return a}();
Dygraph.numericTicks=function(a,b,c,d,e){var h=function(a){return d&&d.hasOwnProperty(a)?d[a]:c.attr_(a)},f=[];if(e)for(var k=0;k<e.length;k++)f.push({v:e[k]});else{if(d&&h("logscale")){e=h("pixelsPerYLabel");var g=Math.floor(c.height_/e),k=Dygraph.binarySearch(a,Dygraph.PREFERRED_LOG_TICK_VALUES,1),n=Dygraph.binarySearch(b,Dygraph.PREFERRED_LOG_TICK_VALUES,-1);-1==k&&(k=0);-1==n&&(n=Dygraph.PREFERRED_LOG_TICK_VALUES.length-1);var l=null;if(n-k>=g/4){for(var m=d.yAxisId;n>=k;n--){var q=Dygraph.PREFERRED_LOG_TICK_VALUES[n],
p=d.g.toDomYCoord(q,m),s={v:q};null==l?l={tickValue:q,domCoord:p}:p-l.domCoord>=e?l={tickValue:q,domCoord:p}:s.label="";f.push(s)}f.reverse()}}if(0==f.length){var m=h("labelsKMG2")?[1,2,4,8]:[1,2,5],r,v,t;e=h("pixelsPerYLabel");for(k=-10;50>k;k++){n=h("labelsKMG2")?Math.pow(16,k):Math.pow(10,k);for(l=0;l<m.length;l++){r=n*m[l];v=Math.floor(a/r)*r;t=Math.ceil(b/r)*r;var g=Math.abs(t-v)/r,w=c.height_/g;if(w>e)break}if(w>e)break}v>t&&(r*=-1);for(k=0;k<g;k++)a=v+k*r,f.push({v:a})}}var u,g=[];h("labelsKMB")&&
(u=1E3,g=["K","M","B","T"]);h("labelsKMG2")&&(u&&c.warn("Setting both labelsKMB and labelsKMG2. Pick one!"),u=1024,g=["k","M","G","T"]);r=h("yAxisLabelFormatter")?h("yAxisLabelFormatter"):h("yValueFormatter");for(k=0;k<f.length;k++)if(void 0===f[k].label){a=f[k].v;v=Math.abs(a);b=r(a,c);if(0<g.length)for(t=u*u*u*u,l=3;0<=l;l--,t/=u)if(v>=t){b=Dygraph.round_(a/t,h("digitsAfterDecimal"))+g[l];break}f[k].label=b}return f};
Dygraph.prototype.extremeValues_=function(a){var b=null,c=null;if(this.attr_("errorBars")||this.attr_("customBars"))for(var d=0;d<a.length;d++){var e=a[d][1][0];if(e){var h=e-a[d][1][1],f=e+a[d][1][2];h>e&&(h=e);f<e&&(f=e);if(null==c||f>c)c=f;if(null==b||h<b)b=h}}else for(d=0;d<a.length;d++)if(e=a[d][1],null!==e&&!isNaN(e)){if(null==c||e>c)c=e;if(null==b||e<b)b=e}return[b,c]};
Dygraph.prototype.predraw_=function(){this.computeYAxes_();this.plotter_&&this.plotter_.clear();this.plotter_=new DygraphCanvasRenderer(this,this.hidden_,this.hidden_ctx_,this.layout_);this.createRollInterface_();this.positionLabelsDiv_();this.drawGraph_()};
Dygraph.prototype.drawGraph_=function(a){"undefined"===typeof a&&(a=!0);var b=this.rawData_,c=this.is_initial_draw_;this.is_initial_draw_=!1;this.layout_.removeAllDatasets();this.setColors_();this.attrs_.pointSize=.5*this.attr_("highlightCircleSize");for(var d=[],e=[],h={},f=b[0].length-1;1<=f;f--)if(this.visibility()[f-1]){for(var k=this.attr_("labels")[f],g=this.attr_("connectSeparatedPoints",f),n=this.attr_("logscale",f),l=[],m=0;m<b.length;m++){var q=b[m][0],p=b[m][f];n?(0>=p&&(p=null),l.push([q,
p])):null==p&&g||l.push([q,p])}l=this.rollingAverage(l,this.rollPeriod_);m=this.attr_("errorBars")||this.attr_("customBars");if(this.dateWindow_){for(var g=this.dateWindow_[0],n=this.dateWindow_[1],q=[],s=p=null,r=0;r<l.length;r++)l[r][0]>=g&&null===p&&(p=r),l[r][0]<=n&&(s=r);null===p&&(p=0);0<p&&p--;null===s&&(s=l.length-1);s<l.length-1&&s++;this.boundaryIds_[f-1]=[p,s];for(r=p;r<=s;r++)q.push(l[r]);l=q}else this.boundaryIds_[f-1]=[0,l.length-1];g=this.extremeValues_(l);if(m)for(m=0;m<l.length;m++)val=
[l[m][0],l[m][1][0],l[m][1][1],l[m][1][2]],l[m]=val;else if(this.attr_("stackedGraph"))for(n=l.length,m=0;m<n;m++)p=l[m][0],void 0===d[p]&&(d[p]=0),q=l[m][1],d[p]+=q,l[m]=[p,d[p]],d[p]>g[1]&&(g[1]=d[p]),d[p]<g[0]&&(g[0]=d[p]);h[k]=g;e[f]=l}for(f=1;f<e.length;f++)this.visibility()[f-1]&&this.layout_.addDataset(this.attr_("labels")[f],e[f]);this.computeYAxisRanges_(h);this.layout_.setYAxes(this.axes_);this.addXTicks_();b=this.zoomed_x_;this.layout_.setDateWindow(this.dateWindow_);this.zoomed_x_=b;this.layout_.evaluateWithError();
this.plotter_.clear();this.plotter_.render();this.canvas_.getContext("2d").clearRect(0,0,this.canvas_.width,this.canvas_.height);c?this.setLegendHTML_():a&&this.clearSelection();null!==this.attr_("drawCallback")&&this.attr_("drawCallback")(this,c)};
Dygraph.prototype.computeYAxes_=function(){var a;if(void 0!=this.axes_&&0==this.user_attrs_.hasOwnProperty("valueRange")){a=[];for(var b=0;b<this.axes_.length;b++)a.push(this.axes_[b].valueWindow)}this.axes_=[{yAxisId:0,g:this}];this.seriesToAxisMap_={};for(var b=this.attr_("labels"),c={},d=1;d<b.length;d++)c[b[d]]=d-1;for(var e="includeZero valueRange labelsKMB labelsKMG2 pixelsPerYLabel yAxisLabelWidth axisLabelFontSize axisTickSize logscale".split(" "),d=0;d<e.length;d++){var h=e[d],f=this.attr_(h);
f&&(this.axes_[0][h]=f)}for(var k in c)c.hasOwnProperty(k)&&(d=this.attr_("axis",k),null==d?this.seriesToAxisMap_[k]=0:"object"==typeof d&&(e={},Dygraph.update(e,this.axes_[0]),Dygraph.update(e,{valueRange:null}),h=this.axes_.length,e.yAxisId=h,e.g=this,Dygraph.update(e,d),this.axes_.push(e),this.seriesToAxisMap_[k]=h));for(k in c)if(c.hasOwnProperty(k)&&(d=this.attr_("axis",k),"string"==typeof d)){if(!this.seriesToAxisMap_.hasOwnProperty(d))return this.error("Series "+k+" wants to share a y-axis with series "+
d+", which does not define its own axis."),null;this.seriesToAxisMap_[k]=this.seriesToAxisMap_[d]}k={};c=this.visibility();for(d=1;d<b.length;d++)e=b[d],c[d-1]&&(k[e]=this.seriesToAxisMap_[e]);this.seriesToAxisMap_=k;if(void 0!=a)for(b=0;b<a.length;b++)this.axes_[b].valueWindow=a[b]};Dygraph.prototype.numAxes=function(){var a=0,b;for(b in this.seriesToAxisMap_)if(this.seriesToAxisMap_.hasOwnProperty(b)){var c=this.seriesToAxisMap_[b];c>a&&(a=c)}return 1+a};
Dygraph.prototype.axisPropertiesForSeries=function(a){return this.axes_[this.seriesToAxisMap_[a]]};
Dygraph.prototype.computeYAxisRanges_=function(a){var b=[],c;for(c in this.seriesToAxisMap_)if(this.seriesToAxisMap_.hasOwnProperty(c)){for(var d=this.seriesToAxisMap_[c];b.length<=d;)b.push([]);b[d].push(c)}for(d=0;d<this.axes_.length;d++){var e=this.axes_[d];if(b[d]){c=b[d];for(var h=Infinity,f=-Infinity,k,g=0;g<c.length;g++)k=a[c[g]][0],null!=k&&(h=Math.min(k,h)),k=a[c[g]][1],null!=k&&(f=Math.max(k,f));e.includeZero&&0<h&&(h=0);Infinity==h&&(h=0);-Infinity==f&&(f=0);g=f-h;0==g&&(g=f);e.logscale?
(c=f+.1*g,g=h):(c=f+.1*g,g=h-.1*g,this.attr_("avoidMinZero")||(0>g&&0<=h&&(g=0),0<c&&0>=f&&(c=0)),this.attr_("includeZero")&&(0>f&&(c=0),0<h&&(g=0)));e.extremeRange=[g,c]}else e.extremeRange=[0,1];e.computedValueRange=e.valueWindow?[e.valueWindow[0],e.valueWindow[1]]:e.valueRange?[e.valueRange[0],e.valueRange[1]]:e.extremeRange;if(0==d||e.independentTicks)e.ticks=Dygraph.numericTicks(e.computedValueRange[0],e.computedValueRange[1],this,e);else{h=this.axes_[0];f=h.ticks;c=h.computedValueRange[1]-h.computedValueRange[0];
g=e.computedValueRange[1]-e.computedValueRange[0];k=[];for(var n=0;n<f.length;n++)k.push(e.computedValueRange[0]+(f[n].v-h.computedValueRange[0])/c*g);e.ticks=Dygraph.numericTicks(e.computedValueRange[0],e.computedValueRange[1],this,e,k)}}};
Dygraph.prototype.rollingAverage=function(a,b){if(2>a.length)return a;b=Math.min(b,a.length-1);var c=[],d=this.attr_("sigma");if(this.fractions_)for(var e=0,h=0,f=0;f<a.length;f++){e+=a[f][1][0];h+=a[f][1][1];0<=f-b&&(e-=a[f-b][1][0],h-=a[f-b][1][1]);var k=a[f][0],g=h?e/h:0;if(this.attr_("errorBars"))if(this.wilsonInterval_)if(h){var n=0>g?0:g,l=h,g=d*Math.sqrt(n*(1-n)/l+d*d/(4*l*l)),m=1+d*d/h,l=(n+d*d/(2*h)-g)/m,g=(n+d*d/(2*h)+g)/m;c[f]=[k,[100*n,100*(n-l),100*(g-n)]]}else c[f]=[k,[0,0,0]];else l=
h?d*Math.sqrt(g*(1-g)/h):1,c[f]=[k,[100*g,100*l,100*l]];else c[f]=[k,100*g]}else if(this.attr_("customBars"))for(f=h=g=d=l=0;f<a.length;f++)k=a[f][1],e=k[1],c[f]=[a[f][0],[e,e-k[0],k[2]-e]],null==e||isNaN(e)||(l+=k[0],d+=e,g+=k[2],h+=1),0<=f-b&&(e=a[f-b],null==e[1][1]||isNaN(e[1][1])||(l-=e[1][0],d-=e[1][1],g-=e[1][2],--h)),c[f]=[a[f][0],[1*d/h,1*(d-l)/h,1*(g-d)/h]];else if(Math.min(b-1,a.length-2),this.attr_("errorBars"))for(f=0;f<a.length;f++){k=l=h=0;for(g=Math.max(0,f-b+1);g<f+1;g++)e=a[g][1][0],
null==e||isNaN(e)||(k++,h+=a[g][1][0],l+=Math.pow(a[g][1][1],2));k?(l=Math.sqrt(l)/k,c[f]=[a[f][0],[h/k,d*l,d*l]]):c[f]=[a[f][0],[null,null,null]]}else{if(1==b)return a;for(f=0;f<a.length;f++){k=h=0;for(g=Math.max(0,f-b+1);g<f+1;g++)e=a[g][1],null==e||isNaN(e)||(k++,h+=a[g][1]);c[f]=k?[a[f][0],h/k]:[a[f][0],null]}}return c};
Dygraph.prototype.detectTypeFromString_=function(a){var b=!1;0<a.indexOf("-")||0<=a.indexOf("/")||isNaN(parseFloat(a))?b=!0:8==a.length&&"19700101"<a&&"20371231">a&&(b=!0);b?(this.attrs_.xValueFormatter=Dygraph.dateString_,this.attrs_.xValueParser=Dygraph.dateParser,this.attrs_.xTicker=Dygraph.dateTicker,this.attrs_.xAxisLabelFormatter=Dygraph.dateAxisFormatter):(this.attrs_.xValueFormatter=function(a){return a},this.attrs_.xValueParser=function(a){return parseFloat(a)},this.attrs_.xTicker=Dygraph.numericTicks,
this.attrs_.xAxisLabelFormatter=this.attrs_.xValueFormatter)};Dygraph.prototype.parseFloat_=function(a,b,c){var d=parseFloat(a);if(!isNaN(d))return d;if(/^ *$/.test(a))return null;if(/^ *nan *$/i.test(a))return NaN;a="Unable to parse '"+a+"' as a number";null!==c&&null!==b&&(a+=" on line "+(1+b)+" ('"+c+"') of CSV.");this.error(a);return null};
Dygraph.prototype.parseCSV_=function(a){var b=[];a=a.split("\n");var c=this.attr_("delimiter");-1==a[0].indexOf(c)&&0<=a[0].indexOf("\t")&&(c="\t");var d=0;"labels"in this.user_attrs_||(d=1,this.attrs_.labels=a[0].split(c));for(var e,h=!1,f=this.attr_("labels").length,k=!1;d<a.length;d++){var g=a[d];if(0!=g.length&&"#"!=g[0]){var n=g.split(c);if(!(2>n.length)){var l=[];h||(this.detectTypeFromString_(n[0]),e=this.attr_("xValueParser"),h=!0);l[0]=e(n[0],this);if(this.fractions_)for(var m=1;m<n.length;m++){var q=
n[m].split("/");2!=q.length?(this.error('Expected fractional "num/den" values in CSV data but found a value \''+n[m]+"' on line "+(1+d)+" ('"+g+"') which is not of this form."),l[m]=[0,0]):l[m]=[this.parseFloat_(q[0],d,g),this.parseFloat_(q[1],d,g)]}else if(this.attr_("errorBars"))for(1!=n.length%2&&this.error("Expected alternating (value, stdev.) pairs in CSV data but line "+(1+d)+" has an odd number of values ("+(n.length-1)+"): '"+g+"'"),m=1;m<n.length;m+=2)l[(m+1)/2]=[this.parseFloat_(n[m],d,
g),this.parseFloat_(n[m+1],d,g)];else if(this.attr_("customBars"))for(m=1;m<n.length;m++){var p=n[m];/^ *$/.test(p)?l[m]=[null,null,null]:(q=p.split(";"),3==q.length?l[m]=[this.parseFloat_(q[0],d,g),this.parseFloat_(q[1],d,g),this.parseFloat_(q[2],d,g)]:this.warning('When using customBars, values must be either blank or "low;center;high" tuples (got "'+p+'" on line '+(1+d)))}else for(m=1;m<n.length;m++)l[m]=this.parseFloat_(n[m],d,g);0<b.length&&l[0]<b[b.length-1][0]&&(k=!0);l.length!=f&&this.error("Number of columns in line "+
d+" ("+l.length+") does not agree with number of labels ("+f+") "+g);if(0==d&&this.attr_("labels")){n=!0;for(m=0;n&&m<l.length;m++)l[m]&&(n=!1);if(n){this.warn("The dygraphs 'labels' option is set, but the first row of CSV data ('"+g+"') appears to also contain labels. Will drop the CSV labels and use the option labels.");continue}}b.push(l)}}}k&&(this.warn("CSV is out of order; order it correctly to speed loading."),b.sort(function(a,b){return a[0]-b[0]}));return b};
Dygraph.prototype.parseArray_=function(a){if(0==a.length)return this.error("Can't plot empty data set"),null;if(0==a[0].length)return this.error("Data set cannot contain an empty row"),null;if(null==this.attr_("labels")){this.warn("Using default labels. Set labels explicitly via 'labels' in the options parameter");this.attrs_.labels=["X"];for(var b=1;b<a[0].length;b++)this.attrs_.labels.push("Y"+b)}if(Dygraph.isDateLike(a[0][0])){this.attrs_.xValueFormatter=Dygraph.dateString_;this.attrs_.xAxisLabelFormatter=
Dygraph.dateAxisFormatter;this.attrs_.xTicker=Dygraph.dateTicker;for(var c=Dygraph.clone(a),b=0;b<a.length;b++){if(0==c[b].length)return this.error("Row "+(1+b)+" of data is empty"),null;if(null==c[b][0]||"function"!=typeof c[b][0].getTime||isNaN(c[b][0].getTime()))return this.error("x value in row "+(1+b)+" is not a Date"),null;c[b][0]=c[b][0].getTime()}return c}this.attrs_.xValueFormatter=function(a){return a};this.attrs_.xTicker=Dygraph.numericTicks;return a};
Dygraph.prototype.parseDataTable_=function(a){var b=a.getNumberOfColumns(),c=a.getNumberOfRows(),d=a.getColumnType(0);if("date"==d||"datetime"==d)this.attrs_.xValueFormatter=Dygraph.dateString_,this.attrs_.xValueParser=Dygraph.dateParser,this.attrs_.xTicker=Dygraph.dateTicker,this.attrs_.xAxisLabelFormatter=Dygraph.dateAxisFormatter;else if("number"==d)this.attrs_.xValueFormatter=function(a){return a},this.attrs_.xValueParser=function(a){return parseFloat(a)},this.attrs_.xTicker=Dygraph.numericTicks,
this.attrs_.xAxisLabelFormatter=this.attrs_.xValueFormatter;else return this.error("only 'date', 'datetime' and 'number' types are supported for column 1 of DataTable input (Got '"+d+"')"),null;for(var e=[],h={},f=!1,k=1;k<b;k++){var g=a.getColumnType(k);"number"==g?e.push(k):"string"==g&&this.attr_("displayAnnotations")?(f=e[e.length-1],h.hasOwnProperty(f)?h[f].push(k):h[f]=[k],f=!0):this.error("Only 'number' is supported as a dependent type with Gviz. 'string' is only supported if displayAnnotations is true")}b=
[a.getColumnLabel(0)];for(k=0;k<e.length;k++)b.push(a.getColumnLabel(e[k])),this.attr_("errorBars")&&(k+=1);this.attrs_.labels=b;for(var b=b.length,g=[],n=!1,l=[],k=0;k<c;k++){var m=[];if("undefined"===typeof a.getValue(k,0)||null===a.getValue(k,0))this.warn("Ignoring row "+k+" of DataTable because of undefined or null first column.");else{"date"==d||"datetime"==d?m.push(a.getValue(k,0).getTime()):m.push(a.getValue(k,0));if(this.attr_("errorBars"))for(q=0;q<b-1;q++)m.push([a.getValue(k,1+2*q),a.getValue(k,
2+2*q)]);else{for(var q=0;q<e.length;q++){var p=e[q];m.push(a.getValue(k,p));if(f&&h.hasOwnProperty(p)&&null!=a.getValue(k,h[p][0])){var s={};s.series=a.getColumnLabel(p);s.xval=m[0];s.shortText=String.fromCharCode(65+l.length);s.text="";for(var r=0;r<h[p].length;r++)r&&(s.text+="\n"),s.text+=a.getValue(k,h[p][r]);l.push(s)}}for(q=0;q<m.length;q++)isFinite(m[q])||(m[q]=null)}0<g.length&&m[0]<g[g.length-1][0]&&(n=!0);g.push(m)}}n&&(this.warn("DataTable is out of order; order it correctly to speed loading."),
g.sort(function(a,b){return a[0]-b[0]}));this.rawData_=g;0<l.length&&this.setAnnotations(l,!0)};
Dygraph.prototype.start_=function(){if("function"==typeof this.file_)this.loadedEvent_(this.file_());else if(Dygraph.isArrayLike(this.file_))this.rawData_=this.parseArray_(this.file_),this.predraw_();else if("object"==typeof this.file_&&"function"==typeof this.file_.getColumnRange)this.parseDataTable_(this.file_),this.predraw_();else if("string"==typeof this.file_)if(0<=this.file_.indexOf("\n"))this.loadedEvent_(this.file_);else{var a=new XMLHttpRequest,b=this;a.onreadystatechange=function(){4==a.readyState&&
(200!=a.status&&0!=a.status||b.loadedEvent_(a.responseText))};a.open("GET",this.file_,!0);a.send(null)}else this.error("Unknown data format: "+typeof this.file_)};
Dygraph.prototype.updateOptions=function(a,b){"undefined"==typeof b&&(b=!1);"rollPeriod"in a&&(this.rollPeriod_=a.rollPeriod);"dateWindow"in a&&(this.dateWindow_=a.dateWindow,"isZoomedIgnoreProgrammaticZoom"in a||(this.zoomed_x_=null!=a.dateWindow));"valueRange"in a&&!("isZoomedIgnoreProgrammaticZoom"in a)&&(this.zoomed_y_=null!=a.valueRange);Dygraph.update(this.user_attrs_,a);a.file?(this.file_=a.file,b||this.start_()):b||this.predraw_()};
Dygraph.prototype.resize=function(a,b){this.resize_lock||(this.resize_lock=!0,null===a!=(null===b)&&(this.warn("Dygraph.resize() should be called with zero parameters or two non-NULL parameters. Pretending it was zero."),a=b=null),this.maindiv_.innerHTML="",this.attrs_.labelsDiv=null,a?(this.maindiv_.style.width=a+"px",this.maindiv_.style.height=b+"px",this.width_=a,this.height_=b):(this.width_=this.maindiv_.offsetWidth,this.height_=this.maindiv_.offsetHeight),this.createInterface_(),this.predraw_(),
this.resize_lock=!1)};Dygraph.prototype.adjustRoll=function(a){this.rollPeriod_=a;this.predraw_()};Dygraph.prototype.visibility=function(){for(this.attr_("visibility")||(this.attrs_.visibility=[]);this.attr_("visibility").length<this.rawData_[0].length-1;)this.attr_("visibility").push(!0);return this.attr_("visibility")};Dygraph.prototype.setVisibility=function(a,b){var c=this.visibility();0>a||a>=c.length?this.warn("invalid series number in setVisibility: "+a):(c[a]=b,this.predraw_())};
Dygraph.prototype.setAnnotations=function(a,b){Dygraph.addAnnotationRule();this.annotations_=a;this.layout_.setAnnotations(this.annotations_);b||this.predraw_()};Dygraph.prototype.annotations=function(){return this.annotations_};Dygraph.prototype.indexFromSetName=function(a){for(var b=this.attr_("labels"),c=0;c<b.length;c++)if(b[c]==a)return c;return null};
Dygraph.addAnnotationRule=function(){if(!Dygraph.addedAnnotationCSS){var a=document.createElement("style");a.type="text/css";document.getElementsByTagName("head")[0].appendChild(a);for(a=0;a<document.styleSheets.length;a++)if(!document.styleSheets[a].disabled){var b=document.styleSheets[a];try{b.insertRule?b.insertRule(".dygraphDefaultAnnotation { border: 1px solid black; background-color: white; text-align: center; }",b.cssRules?b.cssRules.length:0):b.addRule&&b.addRule(".dygraphDefaultAnnotation",
"border: 1px solid black; background-color: white; text-align: center;");Dygraph.addedAnnotationCSS=!0;return}catch(c){}}this.warn("Unable to add default annotation CSS rule; display may be off.")}};DateGraph=Dygraph;