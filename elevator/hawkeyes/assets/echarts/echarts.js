define("echarts/config",[],function(){return{CHART_TYPE_LINE:"line",CHART_TYPE_BAR:"bar",CHART_TYPE_SCATTER:"scatter",CHART_TYPE_PIE:"pie",CHART_TYPE_RADAR:"radar",CHART_TYPE_MAP:"map",CHART_TYPE_K:"k",CHART_TYPE_ISLAND:"island",CHART_TYPE_FORCE:"force",CHART_TYPE_CHORD:"chord",CHART_TYPE_GAUGE:"gauge",CHART_TYPE_FUNNEL:"funnel",COMPONENT_TYPE_TITLE:"title",COMPONENT_TYPE_LEGEND:"legend",COMPONENT_TYPE_DATARANGE:"dataRange",COMPONENT_TYPE_DATAVIEW:"dataView",COMPONENT_TYPE_DATAZOOM:"dataZoom",COMPONENT_TYPE_TOOLBOX:"toolbox",
COMPONENT_TYPE_TOOLTIP:"tooltip",COMPONENT_TYPE_GRID:"grid",COMPONENT_TYPE_AXIS:"axis",COMPONENT_TYPE_POLAR:"polar",COMPONENT_TYPE_X_AXIS:"xAxis",COMPONENT_TYPE_Y_AXIS:"yAxis",COMPONENT_TYPE_AXIS_CATEGORY:"categoryAxis",COMPONENT_TYPE_AXIS_VALUE:"valueAxis",COMPONENT_TYPE_TIMELINE:"timeline",backgroundColor:"rgba(0,0,0,0)",color:"#ff7f50 #87cefa #da70d6 #32cd32 #6495ed #ff69b4 #ba55d3 #cd5c5c #ffa500 #40e0d0 #1e90ff #ff6347 #7b68ee #00fa9a #ffd700 #6699FF #ff6666 #3cb371 #b8860b #30e0e0".split(" "),
title:{text:"",subtext:"",x:"left",y:"top",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:5,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}},legend:{orient:"horizontal",x:"center",y:"top",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemWidth:20,itemHeight:14,textStyle:{color:"#333"},selectedMode:!0},dataRange:{orient:"vertical",x:"left",y:"bottom",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",
borderWidth:0,padding:5,itemGap:10,itemWidth:20,itemHeight:14,precision:0,splitNumber:5,calculable:!1,realtime:!0,color:["#006edd","#e0ffff"],textStyle:{color:"#333"}},toolbox:{show:!1,orient:"horizontal",x:"right",y:"top",color:["#1e90ff","#22bb22","#4b0082","#d2691e"],disableColor:"#ddd",effectiveColor:"red",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemSize:16,showTitle:!0,feature:{mark:{show:!1,title:{mark:"\u8f85\u52a9\u7ebf\u5f00\u5173",markUndo:"\u5220\u9664\u8f85\u52a9\u7ebf",
markClear:"\u6e05\u7a7a\u8f85\u52a9\u7ebf"},lineStyle:{width:1,color:"#1e90ff",type:"dashed"}},dataZoom:{show:!1,title:{dataZoom:"\u533a\u57df\u7f29\u653e",dataZoomReset:"\u533a\u57df\u7f29\u653e\u540e\u9000"}},dataView:{show:!1,title:"\u6570\u636e\u89c6\u56fe",readOnly:!1,lang:["Data View","close","refresh"]},magicType:{show:!1,title:{line:"\u6298\u7ebf\u56fe\u5207\u6362",bar:"\u67f1\u5f62\u56fe\u5207\u6362",stack:"\u5806\u79ef",tiled:"\u5e73\u94fa"},type:[]},restore:{show:!1,title:"\u8fd8\u539f"},
saveAsImage:{show:!1,title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",type:"png",lang:["\u70b9\u51fb\u4fdd\u5b58"]}}},tooltip:{show:!0,showContent:!0,trigger:"item",islandFormatter:"{a} <br/>{b} : {c}",showDelay:20,hideDelay:100,transitionDuration:.4,backgroundColor:"rgba(0,0,0,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,axisPointer:{type:"line",lineStyle:{color:"#48b",width:2,type:"solid"},crossStyle:{color:"#1e90ff",width:1,type:"dashed"},shadowStyle:{color:"rgba(150,150,150,0.3)",width:"auto",
type:"default"}},textStyle:{color:"#fff"}},dataZoom:{show:!1,orient:"horizontal",backgroundColor:"rgba(0,0,0,0)",dataBackgroundColor:"#eee",fillerColor:"rgba(144,197,237,0.2)",handleColor:"rgba(70,130,180,0.8)",realtime:!0},grid:{x:80,y:60,x2:80,y2:60,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},categoryAxis:{position:"bottom",name:"",nameLocation:"end",nameTextStyle:{},boundaryGap:!0,axisLine:{show:!0,onZero:!0,lineStyle:{color:"#48b",width:2,type:"solid"}},axisTick:{show:!0,
interval:"auto",inside:!1,length:5,lineStyle:{color:"#333",width:1}},axisLabel:{show:!0,interval:"auto",rotate:0,margin:8,textStyle:{color:"#333"}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},valueAxis:{position:"left",name:"",nameLocation:"end",nameTextStyle:{},boundaryGap:[0,0],precision:0,power:100,splitNumber:5,axisLine:{show:!0,onZero:!0,lineStyle:{color:"#48b",width:2,type:"solid"}},
axisTick:{show:!1,inside:!1,length:5,lineStyle:{color:"#333",width:1}},axisLabel:{show:!0,rotate:0,margin:8,textStyle:{color:"#333"}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},polar:{center:["50%","50%"],radius:"75%",startAngle:90,splitNumber:5,name:{show:!0,textStyle:{color:"#333"}},axisLine:{show:!0,lineStyle:{color:"#ccc",width:1,type:"solid"}},axisLabel:{show:!1,textStyle:{color:"#333"}},
splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}},splitLine:{show:!0,lineStyle:{width:1,color:"#ccc"}},type:"polygon"},timeline:{show:!0,type:"time",notMerge:!1,realtime:!0,x:80,x2:80,y2:0,height:50,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,controlPosition:"left",autoPlay:!1,loop:!0,playInterval:2E3,lineStyle:{width:1,color:"#666",type:"dashed"},label:{show:!0,interval:"auto",rotate:0,textStyle:{color:"#333"}},checkpointStyle:{symbol:"auto",
symbolSize:"auto",color:"auto",borderColor:"auto",borderWidth:"auto",label:{show:!1,textStyle:{color:"auto"}}},controlStyle:{normal:{color:"#333"},emphasis:{color:"#1e90ff"}},symbol:"emptyDiamond",symbolSize:4,currentIndex:0},bar:{xAxisIndex:0,yAxisIndex:0,barMinHeight:0,barGap:"30%",barCategoryGap:"20%",itemStyle:{normal:{borderColor:"#fff",borderRadius:0,borderWidth:0,label:{show:!1}},emphasis:{borderColor:"#fff",borderRadius:0,borderWidth:0,label:{show:!1}}}},line:{xAxisIndex:0,yAxisIndex:0,itemStyle:{normal:{label:{show:!1},
lineStyle:{width:2,type:"solid",shadowColor:"rgba(0,0,0,0)",shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0}},emphasis:{label:{show:!1}}},symbolSize:2,showAllSymbol:!1},k:{xAxisIndex:0,yAxisIndex:0,itemStyle:{normal:{color:"#fff",color0:"#00aa11",lineStyle:{width:1,color:"#ff3200",color0:"#00aa11"}},emphasis:{}}},scatter:{xAxisIndex:0,yAxisIndex:0,symbolSize:4,large:!1,largeThreshold:2E3,itemStyle:{normal:{label:{show:!1,formatter:function(a,q,r){return"undefined"!=typeof r[2]?r[2]:r[0]+" , "+r[1]}}},
emphasis:{label:{show:!1,formatter:function(a,q,r){return"undefined"!=typeof r[2]?r[2]:r[0]+" , "+r[1]}}}}},radar:{polarIndex:0,itemStyle:{normal:{label:{show:!1},lineStyle:{width:2,type:"solid"}},emphasis:{label:{show:!1}}},symbolSize:2},pie:{center:["50%","50%"],radius:[0,"75%"],clockWise:!0,startAngle:90,minAngle:0,selectedOffset:10,itemStyle:{normal:{borderColor:"rgba(0,0,0,0)",borderWidth:1,label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1,type:"solid"}}},emphasis:{borderColor:"rgba(0,0,0,0)",
borderWidth:1,label:{show:!1},labelLine:{show:!1,length:20,lineStyle:{width:1,type:"solid"}}}}},map:{mapType:"china",mapValuePrecision:0,showLegendSymbol:!0,hoverable:!0,itemStyle:{normal:{borderColor:"rgba(0,0,0,0)",borderWidth:1,areaStyle:{color:"#ccc"},label:{show:!1,textStyle:{color:"rgb(139,69,19)"}}},emphasis:{borderColor:"rgba(0,0,0,0)",borderWidth:1,areaStyle:{color:"rgba(255,215,0,0.8)"},label:{show:!1,textStyle:{color:"rgb(100,0,0)"}}}}},force:{center:["50%","50%"],size:"100%",coolDown:.99,
minRadius:10,maxRadius:20,ratioScaling:!1,large:!1,useWorker:!1,steps:1,scaling:1,gravity:1,symbol:"circle",symbolSize:0,linkSymbol:null,linkSymbolSize:[10,15],draggable:!0,categories:[{}],itemStyle:{normal:{label:{show:!1},nodeStyle:{brushType:"both",color:"#f08c2e",strokeColor:"#5182ab",lineWidth:1},linkStyle:{strokeColor:"#5182ab"}},emphasis:{label:{show:!1},nodeStyle:{},linkStyle:{opacity:0}}}},chord:{radius:["65%","75%"],center:["50%","50%"],padding:2,sort:"none",sortSub:"none",startAngle:90,
clockWise:!0,showScale:!1,showScaleText:!1,itemStyle:{normal:{label:{show:!0,rotate:!1,distance:10},lineStyle:{width:0,color:"#000"},chordStyle:{lineStyle:{width:1,color:"#999"}}},emphasis:{lineStyle:{width:0,color:"#000"},chordStyle:{lineStyle:{width:1,color:"#666"}}}},matrix:[]},gauge:{center:["50%","50%"],radius:"75%",startAngle:225,endAngle:-45,min:0,max:100,precision:0,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#228b22"],[.8,"#48b"],[1,"#ff4500"]],width:30}},axisTick:{show:!0,splitNumber:5,
length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,textStyle:{color:"auto"}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},pointer:{show:!0,length:"80%",width:8,color:"auto"},title:{show:!0,offsetCenter:[0,"-40%"],textStyle:{color:"#333",fontSize:15}},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:40,offsetCenter:[0,"40%"],textStyle:{color:"auto",fontSize:30}}},funnel:{x:80,y:60,x2:80,y2:60,min:0,
max:100,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,itemStyle:{normal:{borderColor:"#fff",borderWidth:1,label:{show:!0,position:"outer"},labelLine:{show:!0,length:10,lineStyle:{width:1,type:"solid"}}},emphasis:{borderColor:"rgba(0,0,0,0)",borderWidth:1,label:{show:!0},labelLine:{show:!0}}}},island:{r:15,calculateStep:.1},markPoint:{symbol:"pin",symbolSize:10,large:!1,effect:{show:!1,loop:!0,period:15,scaleSize:2},itemStyle:{normal:{borderWidth:2,label:{show:!0,position:"inside"}},emphasis:{label:{show:!0}}}},
markLine:{symbol:["circle","arrow"],symbolSize:[2,4],large:!1,effect:{show:!1,loop:!0,period:15,scaleSize:2},itemStyle:{normal:{borderWidth:1.5,label:{show:!0,position:"end"},lineStyle:{type:"dashed"}},emphasis:{label:{show:!1},lineStyle:{}}}},textStyle:{decoration:"none",fontFamily:"Arial, Verdana, sans-serif",fontFamily2:"\u5fae\u8f6f\u96c5\u9ed1",fontSize:12,fontStyle:"normal",fontWeight:"normal"},EVENT:{REFRESH:"refresh",RESTORE:"restore",RESIZE:"resize",CLICK:"click",HOVER:"hover",DATA_CHANGED:"dataChanged",
DATA_ZOOM:"dataZoom",DATA_RANGE:"dataRange",LEGEND_SELECTED:"legendSelected",MAP_SELECTED:"mapSelected",PIE_SELECTED:"pieSelected",MAGIC_TYPE_CHANGED:"magicTypeChanged",DATA_VIEW_CHANGED:"dataViewChanged",TIMELINE_CHANGED:"timelineChanged",MAP_ROAM:"mapRoam",TOOLTIP_HOVER:"tooltipHover",TOOLTIP_IN_GRID:"tooltipInGrid",TOOLTIP_OUT_GRID:"tooltipOutGrid"},DRAG_ENABLE_TIME:120,EFFECT_ZLEVEL:7,symbolList:"circle rectangle triangle diamond emptyCircle emptyRectangle emptyTriangle emptyDiamond".split(" "),
loadingText:"Loading...",calculable:!1,calculableColor:"rgba(255,165,0,0.6)",calculableHolderColor:"#ccc",nameConnector:" & ",valueConnector:" : ",animation:!0,addDataAnimation:!0,animationThreshold:2E3,animationDuration:2E3,animationEasing:"ExponentialOut"}});
define("zrender/lib/excanvas",["require"],function(a){return document.createElement("canvas").getContext?G_vmlCanvasManager=!1:function(){function a(){return this.context_||(this.context_=new g(this))}function r(c,g,b){var h=I.call(arguments,2);return function(){return c.apply(g,h.concat(I.call(arguments)))}}function s(c){return String(c).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function p(c){c.namespaces.g_vml_||c.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML");c.namespaces.g_o_||
c.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML");c.styleSheets.ex_canvas_||(c=c.createStyleSheet(),c.owningElement.id="ex_canvas_",c.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}")}function f(c){var g=c.srcElement;switch(c.propertyName){case "width":g.getContext().clearRect();g.style.width=g.attributes.width.nodeValue+"px";g.firstChild.style.width=g.clientWidth+"px";break;case "height":g.getContext().clearRect(),g.style.height=
g.attributes.height.nodeValue+"px",g.firstChild.style.height=g.clientHeight+"px"}}function e(c){c=c.srcElement;c.firstChild&&(c.firstChild.style.width=c.clientWidth+"px",c.firstChild.style.height=c.clientHeight+"px")}function m(){return[[1,0,0],[0,1,0],[0,0,1]]}function n(c,g){for(var b=m(),h=0;3>h;h++)for(var k=0;3>k;k++){for(var t=0,y=0;3>y;y++)t+=c[h][y]*g[y][k];b[h][k]=t}return b}function l(c,g){g.fillStyle=c.fillStyle;g.lineCap=c.lineCap;g.lineJoin=c.lineJoin;g.lineWidth=c.lineWidth;g.miterLimit=
c.miterLimit;g.shadowBlur=c.shadowBlur;g.shadowColor=c.shadowColor;g.shadowOffsetX=c.shadowOffsetX;g.shadowOffsetY=c.shadowOffsetY;g.strokeStyle=c.strokeStyle;g.globalAlpha=c.globalAlpha;g.font=c.font;g.textAlign=c.textAlign;g.textBaseline=c.textBaseline;g.arcScaleX_=c.arcScaleX_;g.arcScaleY_=c.arcScaleY_;g.lineScale_=c.lineScale_}function d(c){var g=c.indexOf("(",3),b=c.indexOf(")",g+1),g=c.substring(g+1,b).split(",");if(4!=g.length||"a"!=c.charAt(3))g[3]=1;return g}function b(c,g,b){return Math.min(b,
Math.max(g,c))}function k(c,g,b){return 0>b&&b++,1<b&&b--,1>6*b?c+6*(g-c)*b:1>2*b?g:2>3*b?c+(g-c)*(2/3-b)*6:c}function h(c){if(c in O)return O[c];var g,h=1;c=String(c);if("#"==c.charAt(0))g=c;else if(/^rgb/.test(c)){h=d(c);g="#";for(var t,y=0;3>y;y++)-1!=h[y].indexOf("%")?t=Math.floor(parseFloat(h[y])/100*255):t=+h[y],g+=J[b(t,0,255)];h=+h[3]}else if(/^hsl/.test(c)){y=h=d(c);g=parseFloat(y[0])/360%360;0>g&&g++;t=b(parseFloat(y[1])/100,0,1);y=b(parseFloat(y[2])/100,0,1);if(0==t)t=y=g=y;else{var v=
.5>y?y*(1+t):y+t-y*t,l=2*y-v;t=k(l,v,g+1/3);y=k(l,v,g);g=k(l,v,g-1/3)}g="#"+J[Math.floor(255*t)]+J[Math.floor(255*y)]+J[Math.floor(255*g)];h=h[3]}else g=N[c]||c;return O[c]={color:g,alpha:h}}function g(c){this.m_=m();this.mStack_=[];this.aStack_=[];this.currentPath_=[];this.fillStyle=this.strokeStyle="#000";this.lineWidth=1;this.lineJoin="miter";this.lineCap="butt";this.miterLimit=1*z;this.globalAlpha=1;this.font="12px \u5fae\u8f6f\u96c5\u9ed1";this.textAlign="left";this.textBaseline="alphabetic";
this.canvas=c;var g="width:"+c.clientWidth+"px;height:"+c.clientHeight+"px;overflow:hidden;position:absolute",b=c.ownerDocument.createElement("div");b.style.cssText=g;c.appendChild(b);g=b.cloneNode(!1);g.style.backgroundColor="#fff";g.style.filter="alpha(opacity=0)";c.appendChild(g);this.element_=b;this.lineScale_=this.arcScaleY_=this.arcScaleX_=1}function c(c,g,b,h){c.currentPath_.push({type:"bezierCurveTo",cp1x:g.x,cp1y:g.y,cp2x:b.x,cp2y:b.y,x:h.x,y:h.y});c.currentX_=h.x;c.currentY_=h.y}function t(c,
g){var b=h(c.strokeStyle),t=b.color,b=b.alpha*c.globalAlpha,k=c.lineScale_*c.lineWidth;1>k&&(b*=k);g.push("<g_vml_:stroke",' opacity="',b,'"',' joinstyle="',c.lineJoin,'"',' miterlimit="',c.miterLimit,'"',' endcap="',W[c.lineCap]||"square",'"',' weight="',k,'px"',' color="',t,'" />')}function y(c,g,b,t){var k=c.fillStyle,y=c.arcScaleX_,d=c.arcScaleY_,l=t.x-b.x,e=t.y-b.y;if(k instanceof L){var n=0,f=t=0,F=0,p=1;if("gradient"==k.type_){n=k.x1_/y;b=k.y1_/d;var m=v(c,k.x0_/y,k.y0_/d),n=v(c,n,b),n=180*
Math.atan2(n.x-m.x,n.y-m.y)/Math.PI;0>n&&(n+=360);1E-6>n&&(n=0)}else m=v(c,k.x0_,k.y0_),t=(m.x-b.x)/l,f=(m.y-b.y)/e,l/=y*z,e/=d*z,p=A.max(l,e),F=2*k.r0_/p,p=2*k.r1_/p-F;y=k.colors_;y.sort(function(c,g){return c.offset-g.offset});d=y.length;m=y[0].color;b=y[d-1].color;l=y[0].alpha*c.globalAlpha;c=y[d-1].alpha*c.globalAlpha;for(var e=[],E=0;E<d;E++){var a=y[E];e.push(a.offset*p+F+" "+a.color)}g.push('<g_vml_:fill type="',k.type_,'"',' method="none" focus="100%"',' color="',m,'"',' color2="',b,'"',' colors="',
e.join(","),'"',' opacity="',c,'"',' g_o_:opacity2="',l,'"',' angle="',n,'"',' focusposition="',t,",",f,'" />')}else k instanceof M?l&&e&&g.push("<g_vml_:fill",' position="',-b.x/l*y*y,",",-b.y/e*d*d,'"',' type="tile"',' src="',k.src_,'" />'):(k=h(c.fillStyle),g.push('<g_vml_:fill color="',k.color,'" opacity="',k.alpha*c.globalAlpha,'" />'))}function v(c,g,b){c=c.m_;return{x:z*(g*c[0][0]+b*c[1][0]+c[2][0])-D,y:z*(g*c[0][1]+b*c[1][1]+c[2][1])-D}}function F(c,g,b){isFinite(g[0][0])&&isFinite(g[0][1])&&
isFinite(g[1][0])&&isFinite(g[1][1])&&isFinite(g[2][0])&&isFinite(g[2][1])&&(c.m_=g,b&&(c.lineScale_=x(w(g[0][0]*g[1][1]-g[0][1]*g[1][0]))))}function L(c){this.type_=c;this.r1_=this.y1_=this.x1_=this.r0_=this.y0_=this.x0_=0;this.colors_=[]}function M(c,g){if(!c||1!=c.nodeType||"IMG"!=c.tagName)throw new E("TYPE_MISMATCH_ERR");if("complete"!=c.readyState)throw new E("INVALID_STATE_ERR");switch(g){case "repeat":case null:case "":this.repetition_="repeat";break;case "repeat-x":case "repeat-y":case "no-repeat":this.repetition_=
g;break;default:throw new E("SYNTAX_ERR");}this.src_=c.src;this.width_=c.width;this.height_=c.height}function E(c){this.code=this[c];this.message=c+": DOM Exception "+this.code}var A=Math,B=A.round,C=A.sin,u=A.cos,w=A.abs,x=A.sqrt,z=10,D=z/2;navigator.userAgent.match(/MSIE ([\d.]+)?/);var I=Array.prototype.slice;p(document);var H={init:function(c){c=c||document;c.createElement("canvas");c.attachEvent("onreadystatechange",r(this.init_,this,c))},init_:function(c){c=c.getElementsByTagName("canvas");
for(var g=0;g<c.length;g++)this.initElement(c[g])},initElement:function(c){if(!c.getContext){c.getContext=a;p(c.ownerDocument);c.innerHTML="";c.attachEvent("onpropertychange",f);c.attachEvent("onresize",e);var g=c.attributes;g.width&&g.width.specified?c.style.width=g.width.nodeValue+"px":c.width=c.clientWidth;g.height&&g.height.specified?c.style.height=g.height.nodeValue+"px":c.height=c.clientHeight}return c}};H.init();for(var J=[],G=0;16>G;G++)for(var K=0;16>K;K++)J[16*G+K]=G.toString(16)+K.toString(16);
var N={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",
darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",
grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",
lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",
orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",
tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},O={},Q={},W={butt:"flat",round:"round"},G=g.prototype;G.clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null);this.element_.innerHTML=""};G.beginPath=function(){this.currentPath_=[]};G.moveTo=function(c,g){var b=v(this,c,g);this.currentPath_.push({type:"moveTo",x:b.x,y:b.y});this.currentX_=b.x;this.currentY_=
b.y};G.lineTo=function(c,g){var b=v(this,c,g);this.currentPath_.push({type:"lineTo",x:b.x,y:b.y});this.currentX_=b.x;this.currentY_=b.y};G.bezierCurveTo=function(g,b,h,k,t,y){t=v(this,t,y);g=v(this,g,b);h=v(this,h,k);c(this,g,h,t)};G.quadraticCurveTo=function(g,b,h,k){g=v(this,g,b);h=v(this,h,k);k={x:this.currentX_+2/3*(g.x-this.currentX_),y:this.currentY_+2/3*(g.y-this.currentY_)};c(this,k,{x:k.x+(h.x-this.currentX_)/3,y:k.y+(h.y-this.currentY_)/3},h)};G.arc=function(c,g,b,h,k,t){b*=z;var y=t?"at":
"wa",d=c+u(h)*b-D,l=g+C(h)*b-D;h=c+u(k)*b-D;k=g+C(k)*b-D;d==h&&!t&&(d+=.125);c=v(this,c,g);d=v(this,d,l);h=v(this,h,k);this.currentPath_.push({type:y,x:c.x,y:c.y,radius:b,xStart:d.x,yStart:d.y,xEnd:h.x,yEnd:h.y})};G.rect=function(c,g,b,h){this.moveTo(c,g);this.lineTo(c+b,g);this.lineTo(c+b,g+h);this.lineTo(c,g+h);this.closePath()};G.strokeRect=function(c,g,b,h){var k=this.currentPath_;this.beginPath();this.moveTo(c,g);this.lineTo(c+b,g);this.lineTo(c+b,g+h);this.lineTo(c,g+h);this.closePath();this.stroke();
this.currentPath_=k};G.fillRect=function(c,g,b,h){var k=this.currentPath_;this.beginPath();this.moveTo(c,g);this.lineTo(c+b,g);this.lineTo(c+b,g+h);this.lineTo(c,g+h);this.closePath();this.fill();this.currentPath_=k};G.createLinearGradient=function(c,g,b,h){var k=new L("gradient");return k.x0_=c,k.y0_=g,k.x1_=b,k.y1_=h,k};G.createRadialGradient=function(c,g,b,h,k,t){var y=new L("gradientradial");return y.x0_=c,y.y0_=g,y.r0_=b,y.x1_=h,y.y1_=k,y.r1_=t,y};G.drawImage=function(c,g){var b,h,k,t,y,d,l,
e;k=c.runtimeStyle.width;t=c.runtimeStyle.height;c.runtimeStyle.width="auto";c.runtimeStyle.height="auto";var n=c.width,f=c.height;c.runtimeStyle.width=k;c.runtimeStyle.height=t;if(3==arguments.length)b=arguments[1],h=arguments[2],y=d=0,l=k=n,e=t=f;else if(5==arguments.length)b=arguments[1],h=arguments[2],k=arguments[3],t=arguments[4],y=d=0,l=n,e=f;else{if(9!=arguments.length)throw Error("Invalid number of arguments");y=arguments[1];d=arguments[2];l=arguments[3];e=arguments[4];b=arguments[5];h=arguments[6];
k=arguments[7];t=arguments[8]}var L=v(this,b,h),F=[],p=scaleY=1;F.push(" <g_vml_:group",' coordsize="',10*z,",",10*z,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;");if(1!=this.m_[0][0]||this.m_[0][1]||1!=this.m_[1][1]||this.m_[1][0]){var m=[],p=Math.sqrt(this.m_[0][0]*this.m_[0][0]+this.m_[0][1]*this.m_[0][1]);scaleY=Math.sqrt(this.m_[1][0]*this.m_[1][0]+this.m_[1][1]*this.m_[1][1]);m.push("M11=",this.m_[0][0]/p,",","M12=",this.m_[1][0]/scaleY,",","M21=",this.m_[0][1]/
p,",","M22=",this.m_[1][1]/scaleY,",","Dx=",B(L.x/z),",","Dy=",B(L.y/z),"");var M=v(this,b+k,h),E=v(this,b,h+t);b=v(this,b+k,h+t);L.x=A.max(L.x,M.x,E.x,b.x);L.y=A.max(L.y,M.y,E.y,b.y);F.push("padding:0 ",B(L.x/z),"px ",B(L.y/z),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",m.join(""),", sizingmethod='clip');")}else F.push("top:",B(L.y/z),"px;left:",B(L.x/z),"px;");F.push(' ">');(y||d)&&F.push('<div style="overflow: hidden; width:',Math.ceil((k+y*k/l)*p),"px;"," height:",Math.ceil((t+d*t/
e)*scaleY),"px;"," filter:progid:DxImageTransform.Microsoft.Matrix(Dx=",-y*k/l*p,",Dy=",-d*t/e*scaleY,');">');F.push('<div style="width:',Math.round(p*n*k/l),"px;"," height:",Math.round(scaleY*f*t/e),"px;"," filter:");1>this.globalAlpha&&F.push(" progid:DXImageTransform.Microsoft.Alpha(opacity="+100*this.globalAlpha+")");F.push(" progid:DXImageTransform.Microsoft.AlphaImageLoader(src=",c.src,',sizingMethod=scale)">');(y||d)&&F.push("</div>");F.push("</div></div>");this.element_.insertAdjacentHTML("BeforeEnd",
F.join(""))};G.stroke=function(c){var g=[];g.push("<g_vml_:shape",' filled="',!!c,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0,0"',' coordsize="',10*z,",",10*z,'"',' stroked="',!c,'"',' path="');for(var b={x:null,y:null},h={x:null,y:null},k=0;k<this.currentPath_.length;k++){var d=this.currentPath_[k];switch(d.type){case "moveTo":g.push(" m ",B(d.x),",",B(d.y));break;case "lineTo":g.push(" l ",B(d.x),",",B(d.y));break;case "close":g.push(" x ");d=null;break;case "bezierCurveTo":g.push(" c ",
B(d.cp1x),",",B(d.cp1y),",",B(d.cp2x),",",B(d.cp2y),",",B(d.x),",",B(d.y));break;case "at":case "wa":g.push(" ",d.type," ",B(d.x-this.arcScaleX_*d.radius),",",B(d.y-this.arcScaleY_*d.radius)," ",B(d.x+this.arcScaleX_*d.radius),",",B(d.y+this.arcScaleY_*d.radius)," ",B(d.xStart),",",B(d.yStart)," ",B(d.xEnd),",",B(d.yEnd))}if(d){if(null==b.x||d.x<b.x)b.x=d.x;if(null==h.x||d.x>h.x)h.x=d.x;if(null==b.y||d.y<b.y)b.y=d.y;if(null==h.y||d.y>h.y)h.y=d.y}}g.push(' ">');c?y(this,g,b,h):t(this,g);g.push("</g_vml_:shape>");
this.element_.insertAdjacentHTML("beforeEnd",g.join(""))};G.fill=function(){this.stroke(!0)};G.closePath=function(){this.currentPath_.push({type:"close"})};G.save=function(){var c={};l(this,c);this.aStack_.push(c);this.mStack_.push(this.m_);this.m_=n(m(),this.m_)};G.restore=function(){this.aStack_.length&&(l(this.aStack_.pop(),this),this.m_=this.mStack_.pop())};G.translate=function(c,g){F(this,n([[1,0,0],[0,1,0],[c,g,1]],this.m_),!1)};G.rotate=function(c){var g=u(c);c=C(c);F(this,n([[g,c,0],[-c,g,
0],[0,0,1]],this.m_),!1)};G.scale=function(c,g){this.arcScaleX_*=c;this.arcScaleY_*=g;F(this,n([[c,0,0],[0,g,0],[0,0,1]],this.m_),!0)};G.transform=function(c,g,b,h,k,t){F(this,n([[c,g,0],[b,h,0],[k,t,1]],this.m_),!0)};G.setTransform=function(c,g,b,h,k,t){F(this,[[c,g,0],[b,h,0],[k,t,1]],!0)};G.drawText_=function(c,g,b,h,k){var d=this.m_;h=0;var l=1E3,e=0,n=[],f;var L=this.font;if(Q[L])f=Q[L];else{var F=document.createElement("div").style;try{F.font=L,f=F.fontFamily.split(",")[0]}catch(p){}f=Q[L]=
{style:F.fontStyle||"normal",variant:F.fontVariant||"normal",weight:F.fontWeight||"normal",size:F.fontSize||12,family:f||"\u5fae\u8f6f\u96c5\u9ed1"}}var F=this.element_,L={},m;for(m in f)L[m]=f[m];m=parseFloat(F.currentStyle.fontSize);F=parseFloat(f.size);L=("number"==typeof f.size?L.size=f.size:-1!=f.size.indexOf("px")?L.size=F:-1!=f.size.indexOf("em")?L.size=m*F:-1!=f.size.indexOf("%")?L.size=m/100*F:-1!=f.size.indexOf("pt")?L.size=F/.75:L.size=m,L);m=L.style+" "+L.variant+" "+L.weight+" "+L.size+
"px '"+L.family+"'";F=this.element_.currentStyle;f=this.textAlign.toLowerCase();switch(f){case "left":case "center":case "right":break;case "end":f="ltr"==F.direction?"right":"left";break;case "start":f="rtl"==F.direction?"right":"left";break;default:f="left"}switch(this.textBaseline){case "hanging":case "top":e=L.size/1.75;break;case "middle":break;default:case null:case "alphabetic":case "ideographic":case "bottom":e=-L.size/2.25}switch(f){case "right":h=1E3;l=.05;break;case "center":h=l=500}g=
v(this,g+0,b+e);n.push('<g_vml_:line from="',-h,' 0" to="',l,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!k,'" stroked="',!!k,'" style="position:absolute;width:1px;height:1px;">');k?t(this,n):y(this,n,{x:-h,y:0},{x:l,y:L.size});k=d[0][0].toFixed(3)+","+d[1][0].toFixed(3)+","+d[0][1].toFixed(3)+","+d[1][1].toFixed(3)+",0,0";g=B(g.x/z)+","+B(g.y/z);n.push('<g_vml_:skew on="t" matrix="',k,'" ',' offset="',g,'" origin="',h,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',
s(c),'" style="v-text-align:',f,";font:",s(m),'" /></g_vml_:line>');this.element_.insertAdjacentHTML("beforeEnd",n.join(""))};G.fillText=function(c,g,b,h){this.drawText_(c,g,b,h,!1)};G.strokeText=function(c,g,b,h){this.drawText_(c,g,b,h,!0)};G.measureText=function(c){this.textMeasureEl_||(this.element_.insertAdjacentHTML("beforeEnd",'<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>'),this.textMeasureEl_=this.element_.lastChild);var g=this.element_.ownerDocument;
return this.textMeasureEl_.innerHTML="",this.textMeasureEl_.style.font=this.font,this.textMeasureEl_.appendChild(g.createTextNode(c)),{width:this.textMeasureEl_.offsetWidth}};G.clip=function(){};G.arcTo=function(){};G.createPattern=function(c,g){return new M(c,g)};L.prototype.addColorStop=function(c,g){g=h(g);this.colors_.push({offset:c,color:g.color,alpha:g.alpha})};G=E.prototype=Error();G.INDEX_SIZE_ERR=1;G.DOMSTRING_SIZE_ERR=2;G.HIERARCHY_REQUEST_ERR=3;G.WRONG_DOCUMENT_ERR=4;G.INVALID_CHARACTER_ERR=
5;G.NO_DATA_ALLOWED_ERR=6;G.NO_MODIFICATION_ALLOWED_ERR=7;G.NOT_FOUND_ERR=8;G.NOT_SUPPORTED_ERR=9;G.INUSE_ATTRIBUTE_ERR=10;G.INVALID_STATE_ERR=11;G.SYNTAX_ERR=12;G.INVALID_MODIFICATION_ERR=13;G.NAMESPACE_ERR=14;G.INVALID_ACCESS_ERR=15;G.VALIDATION_ERR=16;G.TYPE_MISMATCH_ERR=17;G_vmlCanvasManager=H;CanvasRenderingContext2D=g;CanvasGradient=L;CanvasPattern=M;DOMException=E}(),G_vmlCanvasManager});
define("zrender/tool/util",["require","../lib/excanvas"],function(a){function q(b){if("object"==typeof b&&null!==b){var k=b;if(b instanceof Array)for(var k=[],h=0,g=b.length;h<g;h++)k[h]=q(b[h]);else if(!s[Object.prototype.toString.call(b)])for(h in k={},b)b.hasOwnProperty(h)&&(k[h]=q(b[h]));return k}return b}function r(b,k,h){for(var g in k){var c=b,t=k,d=g,v=h;t.hasOwnProperty(d)&&("object"!=typeof c[d]||s[Object.prototype.toString.call(c[d])]?!v&&d in c||(c[d]=t[d]):r(c[d],t[d],v))}return b}var s=
{"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1},p,f,e,m,n,l=0,d=0;return{inherits:function(b,k){function h(){}var g=b.prototype;h.prototype=k.prototype;b.prototype=new h;for(var c in g)b.prototype[c]=g[c];b.constructor=b},clone:q,merge:r,getContext:function(){if(!p)if(a("../lib/excanvas"),G_vmlCanvasManager){var b=document.createElement("div");b.style.position="absolute";b.style.top="-1000px";document.body.appendChild(b);p=G_vmlCanvasManager.initElement(b).getContext("2d")}else p=
document.createElement("canvas").getContext("2d");return p},getPixelContext:function(){return e||(f=document.createElement("canvas"),m=f.width,n=f.height,e=f.getContext("2d")),e},getPixelOffset:function(){return{x:l,y:d}},adjustCanvasSize:function(b,k){var h;b+l>m&&(m=b+l+100,f.width=m,h=!0);k+d>n&&(n=k+d+100,f.height=n,h=!0);b<-l&&(l=100*Math.ceil(-b/100),m+=l,f.width=m,h=!0);k<-d&&(d=100*Math.ceil(-k/100),n+=d,f.height=n,h=!0);h&&e.translate(l,d)},indexOf:function(b,k){if(b.indexOf)return b.indexOf(k);
for(var h=0,g=b.length;h<g;h++)if(b[h]===k)return h;return-1}}});
define("zrender/tool/event",[],function(){function a(){this._handlers={}}var q="function"==typeof window.addEventListener?function(a){a.preventDefault();a.stopPropagation()}:function(a){a.returnValue=!1;a.cancelBubble=!0};return a.prototype.one=function(a,s,p){var f=this._handlers;return s&&a?(f[a]||(f[a]=[]),f[a].push({h:s,one:!0,ctx:p||this}),this):this},a.prototype.bind=function(a,s,p){var f=this._handlers;return s&&a?(f[a]||(f[a]=[]),f[a].push({h:s,one:!1,ctx:p||this}),this):this},a.prototype.unbind=
function(a,s){var p=this._handlers;if(!a)return this._handlers={},this;if(s){if(p[a]){for(var f=[],e=0,m=p[a].length;e<m;e++)p[a][e].h!=s&&f.push(p[a][e]);p[a]=f}p[a]&&0===p[a].length&&delete p[a]}else delete p[a];return this},a.prototype.dispatch=function(a){var s=arguments,p=s.length;3<p&&(s=Array.prototype.slice.call(s,1));if(this._handlers[a])for(var f=this._handlers[a],e=f.length,m=0;m<e;){switch(p){case 1:f[m].h.call(f[m].ctx);break;case 2:f[m].h.call(f[m].ctx,s[1]);break;case 3:f[m].h.call(f[m].ctx,
s[1],s[2]);break;default:f[m].h.apply(f[m].ctx,s)}f[m].one?(f.splice(m,1),e--):m++}return this},a.prototype.dispatchWithContext=function(a){var s=arguments,p=s.length;4<p&&(s=Array.prototype.slice.call(s,1,s.length-1));var f=s[s.length-1];if(this._handlers[a])for(var e=this._handlers[a],m=e.length,n=0;n<m;){switch(p){case 1:e[n].h.call(f);break;case 2:e[n].h.call(f,s[1]);break;case 3:e[n].h.call(f,s[1],s[2]);break;default:e[n].h.apply(f,s)}e[n].one?(e.splice(n,1),m--):n++}return this},{getX:function(a){return"undefined"!=
typeof a.zrenderX&&a.zrenderX||"undefined"!=typeof a.offsetX&&a.offsetX||"undefined"!=typeof a.layerX&&a.layerX||"undefined"!=typeof a.clientX&&a.clientX},getY:function(a){return"undefined"!=typeof a.zrenderY&&a.zrenderY||"undefined"!=typeof a.offsetY&&a.offsetY||"undefined"!=typeof a.layerY&&a.layerY||"undefined"!=typeof a.clientY&&a.clientY},getDelta:function(a){return"undefined"!=typeof a.wheelDelta&&a.wheelDelta||"undefined"!=typeof a.detail&&-a.detail},stop:q,Dispatcher:a}});
define("zrender/tool/env",[],function(){return function(a){var q=this.os={},r=this.browser={},s=a.match(/Web[kK]it[\/]{0,1}([\d.]+)/),p=a.match(/(Android);?[\s\/]+([\d.]+)?/),f=a.match(/(iPad).*OS\s([\d_]+)/),e=a.match(/(iPod)(.*OS\s([\d_]+))?/),m=!f&&a.match(/(iPhone\sOS)\s([\d_]+)/),n=a.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),l=n&&a.match(/TouchPad/),d=a.match(/Kindle\/([\d.]+)/),b=a.match(/Silk\/([\d._]+)/),k=a.match(/(BlackBerry).*Version\/([\d.]+)/),h=a.match(/(BB10).*Version\/([\d.]+)/),g=a.match(/(RIM\sTablet\sOS)\s([\d.]+)/),
c=a.match(/PlayBook/),t=a.match(/Chrome\/([\d.]+)/)||a.match(/CriOS\/([\d.]+)/),y=a.match(/Firefox\/([\d.]+)/),v=a.match(/MSIE ([\d.]+)/),F=s&&a.match(/Mobile\//)&&!t,L=a.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/)&&!t,v=a.match(/MSIE\s([\d.]+)/);if(r.webkit=!!s)r.version=s[1];return p&&(q.android=!0,q.version=p[2]),m&&!e&&(q.ios=q.iphone=!0,q.version=m[2].replace(/_/g,".")),f&&(q.ios=q.ipad=!0,q.version=f[2].replace(/_/g,".")),e&&(q.ios=q.ipod=!0,q.version=e[3]?e[3].replace(/_/g,"."):null),
n&&(q.webos=!0,q.version=n[2]),l&&(q.touchpad=!0),k&&(q.blackberry=!0,q.version=k[2]),h&&(q.bb10=!0,q.version=h[2]),g&&(q.rimtabletos=!0,q.version=g[2]),c&&(r.playbook=!0),d&&(q.kindle=!0,q.version=d[1]),b&&(r.silk=!0,r.version=b[1]),!b&&q.android&&a.match(/Kindle Fire/)&&(r.silk=!0),t&&(r.chrome=!0,r.version=t[1]),y&&(r.firefox=!0,r.version=y[1]),v&&(r.ie=!0,r.version=v[1]),F&&(a.match(/Safari/)||!!q.ios)&&(r.safari=!0),L&&(r.webview=!0),v&&(r.ie=!0,r.version=v[1]),q.tablet=!!(f||c||p&&!a.match(/Mobile/)||
y&&a.match(/Tablet/)||v&&!a.match(/Phone/)&&a.match(/Touch/)),q.phone=!(q.tablet||q.ipod||!(p||m||n||k||h||t&&a.match(/Android/)||t&&a.match(/CriOS\/([\d.]+)/)||y&&a.match(/Mobile/)||v&&a.match(/Touch/))),{browser:r,os:q,canvasSupported:document.createElement("canvas").getContext?!0:!1}}(navigator.userAgent)});
define("zrender/config",{EVENT:{RESIZE:"resize",CLICK:"click",MOUSEWHEEL:"mousewheel",MOUSEMOVE:"mousemove",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",GLOBALOUT:"globalout",DRAGSTART:"dragstart",DRAGEND:"dragend",DRAGENTER:"dragenter",DRAGOVER:"dragover",DRAGLEAVE:"dragleave",DROP:"drop",touchClickDelay:300},catchBrushException:!1,debugMode:0});
define("zrender/tool/log",["require","../config"],function(a){var q=a("../config");return function(){if(0!==q.debugMode)if(1==q.debugMode)for(var a in arguments)throw Error(arguments[a]);else if(1<q.debugMode)for(a in arguments)console.log(arguments[a])}});define("zrender/tool/guid",[],function(){var a=2311;return function(){return"zrender__"+a++}});
define("zrender/Handler",["require","./config","./tool/env","./tool/event","./tool/util"],function(a){function q(b,k){return function(h){return b.call(k,h)}}function r(b,k,h){e.Dispatcher.call(this);this.root=b;this.storage=k;this.painter=h;this._lastX=this._lastY=this._mouseX=this._mouseY=0;this._findHover=q(s,this);this._domHover=h.getDomHover();for(k=n.length;k--;)h=n[k],this["_"+h+"Handler"]=q(l[h],this);window.addEventListener?(window.addEventListener("resize",this._resizeHandler),f.os.tablet||
f.os.phone?(b.addEventListener("touchstart",this._touchstartHandler),b.addEventListener("touchmove",this._touchmoveHandler),b.addEventListener("touchend",this._touchendHandler)):(b.addEventListener("click",this._clickHandler),b.addEventListener("mousewheel",this._mousewheelHandler),b.addEventListener("mousemove",this._mousemoveHandler),b.addEventListener("mousedown",this._mousedownHandler),b.addEventListener("mouseup",this._mouseupHandler)),b.addEventListener("DOMMouseScroll",this._mousewheelHandler),
b.addEventListener("mouseout",this._mouseoutHandler)):(window.attachEvent("onresize",this._resizeHandler),b.attachEvent("onclick",this._clickHandler),b.attachEvent("onmousewheel",this._mousewheelHandler),b.attachEvent("onmousemove",this._mousemoveHandler),b.attachEvent("onmouseout",this._mouseoutHandler),b.attachEvent("onmousedown",this._mousedownHandler),b.attachEvent("onmouseup",this._mouseupHandler))}function s(b){if(this._draggingTarget&&this._draggingTarget.id==b.id||b.isSilent())return!1;var k=
this._event;if(b.isCover(this._mouseX,this._mouseY)){b.hoverable&&this.storage.addHover(b);for(var h=b.parent;h;){if(h.clipShape&&!h.clipShape.isCover(this._mouseX,this._mouseY))return!1;h=h.parent}return this._lastHover!=b&&(this._processOutShape(k),this._processDragLeave(k),this._lastHover=b,this._processDragEnter(k)),this._processOverShape(k),this._processDragOver(k),this._hasfound=1,!0}return!1}var p=a("./config"),f=a("./tool/env"),e=a("./tool/event");a=a("./tool/util");var m=p.EVENT,n="resize click mousewheel mousemove mouseout mouseup mousedown touchstart touchend touchmove".split(" "),
l={resize:function(b){b=b||window.event;this._lastHover=null;this._isMouseDown=0;this.dispatch(m.RESIZE,b)},click:function(b){b=this._zrenderEventFixed(b);var k=this._lastHover;(k&&k.clickable||!k)&&this._dispatchAgency(k,m.CLICK,b);this._mousemoveHandler(b)},mousewheel:function(b){b=this._zrenderEventFixed(b);this._dispatchAgency(this._lastHover,m.MOUSEWHEEL,b);this._mousemoveHandler(b)},mousemove:function(b){if(!this.painter.isLoading()){b=this._zrenderEventFixed(b);this._lastX=this._mouseX;this._lastY=
this._mouseY;this._mouseX=e.getX(b);this._mouseY=e.getY(b);this._processDragStart(b);this._hasfound=0;this._event=b;this.storage.iterShape(this._findHover,{normal:"down"});if(!this._hasfound){if(!this._draggingTarget||this._lastHover&&this._lastHover!=this._draggingTarget)this._processOutShape(b),this._processDragLeave(b);this._lastHover=null;this.storage.delHover();this.painter.clearHover()}this._draggingTarget&&(this.storage.drift(this._draggingTarget.id,this._mouseX-this._lastX,this._mouseY-this._lastY),
this.storage.addHover(this._draggingTarget));var k="default";this._draggingTarget||this._hasfound&&this._lastHover.draggable?k="move":this._hasfound&&this._lastHover.clickable&&(k="pointer");this.root.style.cursor=k;this._dispatchAgency(this._lastHover,m.MOUSEMOVE,b);(this._draggingTarget||this._hasfound||this.storage.hasHoverShape())&&this.painter.refreshHover()}},mouseout:function(b){b=this._zrenderEventFixed(b);var k=b.toElement||b.relatedTarget;if(k!=this.root)for(;k&&9!=k.nodeType;){if(k==this.root){this._mousemoveHandler(b);
return}k=k.parentNode}b.zrenderX=this._lastX;b.zrenderY=this._lastY;this.root.style.cursor="default";this._isMouseDown=0;this._processOutShape(b);this._processDrop(b);this._processDragEnd(b);this.painter.isLoading()||this.painter.refreshHover();this.dispatch(m.GLOBALOUT,b)},mousedown:function(b){2==this._lastDownButton?(this._lastDownButton=b.button,this._mouseDownTarget=null):(this._lastMouseDownMoment=new Date,b=this._zrenderEventFixed(b),this._isMouseDown=1,this._mouseDownTarget=this._lastHover,
this._dispatchAgency(this._lastHover,m.MOUSEDOWN,b),this._lastDownButton=b.button)},mouseup:function(b){b=this._zrenderEventFixed(b);this.root.style.cursor="default";this._isMouseDown=0;this._mouseDownTarget=null;this._dispatchAgency(this._lastHover,m.MOUSEUP,b);this._processDrop(b);this._processDragEnd(b)},touchstart:function(b){b=this._zrenderEventFixed(b,!0);this._lastTouchMoment=new Date;this._mobildFindFixed(b);this._mousedownHandler(b)},touchmove:function(b){b=this._zrenderEventFixed(b,!0);
this._mousemoveHandler(b);this._isDragging&&e.stop(b)},touchend:function(b){b=this._zrenderEventFixed(b,!0);this._mouseupHandler(b);new Date-this._lastTouchMoment<m.touchClickDelay&&(this._mobildFindFixed(b),this._clickHandler(b));this.painter.clearHover()}};r.prototype.on=function(b,k){return this.bind(b,k),this};r.prototype.un=function(b,k){return this.unbind(b,k),this};r.prototype.trigger=function(b,k){switch(b){case m.RESIZE:case m.CLICK:case m.MOUSEWHEEL:case m.MOUSEMOVE:case m.MOUSEDOWN:case m.MOUSEUP:case m.MOUSEOUT:this["_"+
b+"Handler"](k)}};r.prototype.dispose=function(){var b=this.root;window.removeEventListener?(window.removeEventListener("resize",this._resizeHandler),f.os.tablet||f.os.phone?(b.removeEventListener("touchstart",this._touchstartHandler),b.removeEventListener("touchmove",this._touchmoveHandler),b.removeEventListener("touchend",this._touchendHandler)):(b.removeEventListener("click",this._clickHandler),b.removeEventListener("mousewheel",this._mousewheelHandler),b.removeEventListener("mousemove",this._mousemoveHandler),
b.removeEventListener("mousedown",this._mousedownHandler),b.removeEventListener("mouseup",this._mouseupHandler)),b.removeEventListener("DOMMouseScroll",this._mousewheelHandler),b.removeEventListener("mouseout",this._mouseoutHandler)):(window.detachEvent("onresize",this._resizeHandler),b.detachEvent("onclick",this._clickHandler),b.detachEvent("onmousewheel",this._mousewheelHandler),b.detachEvent("onmousemove",this._mousemoveHandler),b.detachEvent("onmouseout",this._mouseoutHandler),b.detachEvent("onmousedown",
this._mousedownHandler),b.detachEvent("onmouseup",this._mouseupHandler));this.root=this._domHover=this.storage=this.painter=null;this.un()};r.prototype._processDragStart=function(b){var k=this._lastHover;!(this._isMouseDown&&k&&k.draggable)||this._draggingTarget||this._mouseDownTarget!=k||k.dragEnableTime&&new Date-this._lastMouseDownMoment<k.dragEnableTime||(this._draggingTarget=k,this._isDragging=1,k.invisible=!0,this.storage.mod(k.id),this._dispatchAgency(k,m.DRAGSTART,b),this.painter.refresh())};
r.prototype._processDragEnter=function(b){this._draggingTarget&&this._dispatchAgency(this._lastHover,m.DRAGENTER,b,this._draggingTarget)};r.prototype._processDragOver=function(b){this._draggingTarget&&this._dispatchAgency(this._lastHover,m.DRAGOVER,b,this._draggingTarget)};r.prototype._processDragLeave=function(b){this._draggingTarget&&this._dispatchAgency(this._lastHover,m.DRAGLEAVE,b,this._draggingTarget)};r.prototype._processDrop=function(b){this._draggingTarget&&(this._draggingTarget.invisible=
!1,this.storage.mod(this._draggingTarget.id),this.painter.refresh(),this._dispatchAgency(this._lastHover,m.DROP,b,this._draggingTarget))};r.prototype._processDragEnd=function(b){this._draggingTarget&&(this._dispatchAgency(this._draggingTarget,m.DRAGEND,b),this._lastHover=null);this._isDragging=0;this._draggingTarget=null};r.prototype._processOverShape=function(b){this._dispatchAgency(this._lastHover,m.MOUSEOVER,b)};r.prototype._processOutShape=function(b){this._dispatchAgency(this._lastHover,m.MOUSEOUT,
b)};r.prototype._dispatchAgency=function(b,k,h,g){var c="on"+k,t={type:k,event:h,target:b,cancelBubble:!1},d=b;for(g&&(t.dragged=g);d&&(d[c]&&d[c](t),d.dispatch(k,t),d=d.parent,!t.cancelBubble););b?t.cancelBubble||this.dispatch(k,t):g||this.dispatch(k,{type:k,event:h})};var d=[{x:10},{x:-20},{x:10,y:10},{y:-20}];return r.prototype._mobildFindFixed=function(b){this._lastHover=null;this._mouseX=b.zrenderX;this._mouseY=b.zrenderY;this._event=b;this.storage.iterShape(this._findHover,{normal:"down"});
for(var k=0;!this._lastHover&&k<d.length;k++){var h=d[k];h.x&&(this._mouseX+=h.x);h.y&&(this._mouseX+=h.y);this.storage.iterShape(this._findHover,{normal:"down"})}this._lastHover&&(b.zrenderX=this._mouseX,b.zrenderY=this._mouseY)},r.prototype._zrenderEventFixed=function(b,k){if(b.zrenderFixed)return b;if(k){var h="touchend"!=b.type?b.targetTouches[0]:b.changedTouches[0];if(h){var g=this.root.getBoundingClientRect();b.zrenderX=h.clientX-g.left;b.zrenderY=h.clientY-g.top}}else b=b||window.event,(h=
b.toElement||b.relatedTarget||b.srcElement||b.target)&&h!=this._domHover&&(b.zrenderX=("undefined"!=typeof b.offsetX?b.offsetX:b.layerX)+h.offsetLeft,b.zrenderY=("undefined"!=typeof b.offsetY?b.offsetY:b.layerY)+h.offsetTop);return b.zrenderFixed=1,b},a.merge(r.prototype,e.Dispatcher.prototype,!0),r});
define("zrender/tool/matrix",[],function(){var a="undefined"==typeof Float32Array?Array:Float32Array,q={create:function(){var r=new a(6);return q.identity(r),r},identity:function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=1;a[4]=0;a[5]=0},copy:function(a,s){a[0]=s[0];a[1]=s[1];a[2]=s[2];a[3]=s[3];a[4]=s[4];a[5]=s[5]},mul:function(a,s,p){return a[0]=s[0]*p[0]+s[2]*p[1],a[1]=s[1]*p[0]+s[3]*p[1],a[2]=s[0]*p[2]+s[2]*p[3],a[3]=s[1]*p[2]+s[3]*p[3],a[4]=s[0]*p[4]+s[2]*p[5]+s[4],a[5]=s[1]*p[4]+s[3]*p[5]+s[5],a},translate:function(a,
s,p){return a[0]=s[0],a[1]=s[1],a[2]=s[2],a[3]=s[3],a[4]=s[4]+p[0],a[5]=s[5]+p[1],a},rotate:function(a,s,p){var f=s[0],e=s[2],m=s[4],n=s[1],l=s[3];s=s[5];var d=Math.sin(p);p=Math.cos(p);return a[0]=f*p+n*d,a[1]=-f*d+n*p,a[2]=e*p+l*d,a[3]=-e*d+p*l,a[4]=p*m+d*s,a[5]=p*s-d*m,a},scale:function(a,s,p){var f=p[0];p=p[1];return a[0]=s[0]*f,a[1]=s[1]*p,a[2]=s[2]*f,a[3]=s[3]*p,a[4]=s[4]*f,a[5]=s[5]*p,a},invert:function(a,s){var p=s[0],f=s[2],e=s[4],m=s[1],n=s[3],l=s[5],d=p*n-m*f;return d?(d=1/d,a[0]=n*d,a[1]=
-m*d,a[2]=-f*d,a[3]=p*d,a[4]=(f*l-n*e)*d,a[5]=(m*e-p*l)*d,a):null},mulVector:function(a,s,p){var f=s[1],e=s[3],m=s[5];return a[0]=p[0]*s[0]+p[1]*s[2]+s[4],a[1]=p[0]*f+p[1]*e+m,a}};return q});
define("zrender/shape/mixin/Transformable",["require","../../tool/matrix"],function(a){var q=a("../../tool/matrix"),r=[0,0];a=function(){this.position||(this.position=[0,0]);"undefined"==typeof this.rotation&&(this.rotation=[0,0,0]);this.scale||(this.scale=[1,1,0,0]);this.needTransform=this.needLocalTransform=!1};return a.prototype={constructor:a,updateNeedTransform:function(){this.needLocalTransform=1E-4<Math.abs(this.rotation[0])||1E-4<Math.abs(this.position[0])||1E-4<Math.abs(this.position[1])||
1E-4<Math.abs(this.scale[0]-1)||1E-4<Math.abs(this.scale[1]-1)},updateTransform:function(){this.updateNeedTransform();this.parent?this.needTransform=this.needLocalTransform||this.parent.needTransform:this.needTransform=this.needLocalTransform;if(this.needTransform){var a=this.transform||q.create();q.identity(a);this.needLocalTransform&&(this.scale&&(1!==this.scale[0]||1!==this.scale[1])&&(r[0]=-this.scale[2]||0,r[1]=-this.scale[3]||0,(r[0]||r[1])&&q.translate(a,a,r),q.scale(a,a,this.scale),r[0]||
r[1])&&(r[0]=-r[0],r[1]=-r[1],q.translate(a,a,r)),this.rotation&&(this.rotation instanceof Array?0!==this.rotation[0]&&(r[0]=-this.rotation[1]||0,r[1]=-this.rotation[2]||0,(r[0]||r[1])&&q.translate(a,a,r),q.rotate(a,a,this.rotation[0]),r[0]||r[1])&&(r[0]=-r[0],r[1]=-r[1],q.translate(a,a,r)):0!==this.rotation&&q.rotate(a,a,this.rotation)),this.position&&(0!==this.position[0]||0!==this.position[1])&&q.translate(a,a,this.position));this.transform=a;this.parent&&this.parent.needTransform&&(this.needLocalTransform?
q.mul(this.transform,this.parent.transform,this.transform):q.copy(this.transform,this.parent.transform))}},setTransform:function(a){if(this.needTransform){var p=this.transform;a.transform(p[0],p[1],p[2],p[3],p[4],p[5])}}},a});
define("zrender/tool/color",["require","../tool/util"],function(a){function q(c,g,h){c=p(c);g=p(g);c=l(c);g=l(g);var k=[],t=(g[0]-c[0])/h,d=(g[1]-c[1])/h,y=(g[2]-c[2])/h,v=0,e=c[0],n=c[1];for(c=c[2];v<h;v++)k[v]=r([b(Math.floor(e),[0,255]),b(Math.floor(n),[0,255]),b(Math.floor(c),[0,255])]),e+=t,n+=d,c+=y;return e=g[0],n=g[1],c=g[2],k[v]=r([e,n,c]),k}function r(c,g){g=g||"rgb";if(c&&(3===c.length||4===c.length)){c=d(c,function(c){return 1<c?Math.ceil(c):c});if(-1<g.indexOf("hex"))return"#"+(16777216+
(c[0]<<16)+(c[1]<<8)+ +c[2]).toString(16).slice(1);if(-1<g.indexOf("hs")){var h=d(c.slice(1,3),function(c){return c+"%"});c[1]=h[0];c[2]=h[1]}return-1<g.indexOf("a")?(3===c.length&&c.push(1),c[3]=b(c[3],[0,1]),g+"("+c.slice(0,4).join(",")+")"):g+"("+c.slice(0,3).join(",")+")"}}function s(c,g){var b=l(c),h=b[3];"undefined"==typeof h&&(h=1);if(-1<c.indexOf("hsb")){var t=b[0],d=b[1],b=b[2],y;if(0===d)t=255*b,y=255*b,b*=255;else{var v=6*t;6===v&&(v=0);t=v|0;y=b*(1-d);var e=b*(1-d*(v-t)),n=b*(1-d*(1-(v-
t))),f=0,d=v=0;0===t?(f=b,v=n,d=y):1===t?(f=e,v=b,d=y):2===t?(f=y,v=b,d=n):3===t?(f=y,v=e,d=b):4===t?(f=n,v=y,d=b):(f=b,v=y,d=e);t=255*f;y=255*v;b=255*d}b=[t,y,b]}else-1<c.indexOf("hsl")&&(t=b[0],e=b[1],d=b[2],0===e?(b=255*d,e=255*d,t=255*d):(.5>d?y=d*(1+e):y=d+e-e*d,d=2*d-y,b=255*k(d,y,t+1/3),e=255*k(d,y,t),t=255*k(d,y,t-1/3)),b=[b,e,t]);if(-1<g.indexOf("hsb")||-1<g.indexOf("hsv")){var F=b[0]/255,p=b[1]/255,b=b[2]/255;y=Math.min(F,p,b);t=Math.max(F,p,b);n=t-y;y=t;var m;0===n?e=m=0:(e=n/t,d=((t-F)/
6+n/2)/n,v=((t-p)/6+n/2)/n,n=((t-b)/6+n/2)/n,F===t?m=n-v:p===t?m=1/3+d-n:b===t&&(m=2/3+v-d),0>m&&(m+=1),1<m&&--m);b=(m*=360,e*=100,y*=100,[m,e,y])}else-1<g.indexOf("hsl")&&(m=b[0]/255,t=b[1]/255,b=b[2]/255,v=Math.min(m,t,b),e=Math.max(m,t,b),d=e-v,y=(e+v)/2,0===d?p=F=0:(.5>y?p=d/(e+v):p=d/(2-e-v),v=((e-m)/6+d/2)/d,n=((e-t)/6+d/2)/d,d=((e-b)/6+d/2)/d,m===e?F=d-n:t===e?F=1/3+v-d:b===e&&(F=2/3+n-v),0>F&&(F+=1),1<F&&--F),b=(F*=360,p*=100,y*=100,[F,p,y]));return b[3]=h,r(b,g)}function p(c){return s(c,
"rgba")}function f(c){return s(c,"rgb")}function e(c){return s(c,"hex")}function m(c){return String(c).replace(/\s+/g,"")}function n(c){F[c]&&(c=F[c]);c=m(c);c=c.replace(/hsv/i,"hsb");if(/^#[\da-f]{3}$/i.test(c)){c=parseInt(c.slice(1),16);var g=(c&3840)<<8,b=(c&240)<<4;c&=15;c="#"+(16777216+(g<<4)+g+(b<<4)+b+(c<<4)+c).toString(16).slice(1)}return c}function l(c){c=n(c);c=c.match(v);if(null===c)throw Error("The color format error");var g=[],h;if(c[2])c=c[2].replace("#","").split(""),h=[c[0]+c[1],c[2]+
c[3],c[4]+c[5]],g=d(h,function(c){return b(parseInt(c,16),[0,255])});else if(c[4])h=c[4].split(","),c=h[3],h=h.slice(0,3),g=d(h,function(c){return c=Math.floor(0<c.indexOf("%")?2.55*parseInt(c,0):c),b(c,[0,255])}),"undefined"!=typeof c&&g.push(b(parseFloat(c),[0,1]));else if(c[5]||c[6]){c=(c[5]||c[6]).split(",");h=parseInt(c[0],0)/360;var g=c[1],t=c[2];c=c[3];g=d([g,t],function(c){return b(parseFloat(c)/100,[0,1])});g.unshift(h);"undefined"!=typeof c&&g.push(b(parseFloat(c),[0,1]))}return g}function d(c,
g){if("function"!=typeof g)throw new TypeError;for(var b=c?c.length:0,h=0;h<b;h++)c[h]=g(c[h]);return c}function b(c,g){return c<=g[0]?c=g[0]:c>=g[1]&&(c=g[1]),c}function k(c,g,b){return 0>b&&(b+=1),1<b&&--b,1>6*b?c+6*(g-c)*b:1>2*b?g:2>3*b?c+(g-c)*(2/3-b)*6:c}var h=a("../tool/util"),g,c="#ff9277; #dddd00; #ffc877; #bbe3ff; #d5ffbb;#bbbbff; #ddb000; #b0dd00; #e2bbff; #ffbbe3;#ff7777; #ff9900; #83dd00; #77e3ff; #778fff;#c877ff; #ff77ab; #ff6600; #aa8800; #77c7ff;#ad77ff; #ff77ff; #dd0083; #777700; #00aa00;#0088aa; #8400dd; #aa0088; #dd0000; #772e00".split(";"),
t=c,y="rgba(255,255,0,0.5)",v=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,F={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#0ff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000",blanchedalmond:"#ffebcd",
blue:"#00f",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",
darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#f0f",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",
ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#0f0",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#f0f",
maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",
paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#f00",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",
teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#fff",whitesmoke:"#f5f5f5",yellow:"#ff0",yellowgreen:"#9acd32"};return{customPalette:function(g){c=g},resetPalette:function(){c=t},getColor:function(g,b){return g|=0,b=b||c,b[g%b.length]},getHighlightColor:function(){return y},customHighlight:function(c){y=c},resetHighlight:function(){},getRadialGradient:function(c,b,t,k,d,y,v){g||(g=h.getContext());c=g.createRadialGradient(c,b,t,k,d,y);b=
0;for(t=v.length;b<t;b++)c.addColorStop(v[b][0],v[b][1]);return c.__nonRecursion=!0,c},getLinearGradient:function(c,b,t,k,d){g||(g=h.getContext());c=g.createLinearGradient(c,b,t,k);b=0;for(t=d.length;b<t;b++)c.addColorStop(d[b][0],d[b][1]);return c.__nonRecursion=!0,c},getGradientColors:function(c,g){var b=[],h=c.length;void 0===g&&(g=20);if(1===h)b=q(c[0],c[0],g);else if(1<h)for(var t=0,h=h-1;t<h;t++){var k=q(c[t],c[t+1],g);t<h-1&&k.pop();b=b.concat(k)}return b},getStepColors:q,reverse:function(c){c=
l(p(c));return c=d(c,function(c){return 255-c}),r(c,"rgb")},mix:function(c,g,h){"undefined"==typeof h&&(h=.5);h=1-b(h,[0,1]);var t=2*h-1;c=l(p(c));g=l(p(g));for(var k=c[3]-g[3],k=((-1===t*k?t:(t+k)/(1+t*k))+1)/2,d=1-k,t=[],y=0;3>y;y++)t[y]=c[y]*k+g[y]*d;h=c[3]*h+g[3]*(1-h);return h=Math.max(0,Math.min(1,h)),1===c[3]&&1===g[3]?r(t,"rgb"):(t[3]=h,r(t,"rgba"))},lift:function(c,g){var b=0<g?1:-1;"undefined"==typeof g&&(g=0);g=1<Math.abs(g)?1:Math.abs(g);c=f(c);for(var h=l(c),t=0;3>t;t++)1===b?h[t]=h[t]*
(1-g)|0:h[t]=(255-h[t])*g+h[t]|0;return"rgb("+h.join(",")+")"},trim:m,random:function(){return"#"+Math.random().toString(16).slice(2,8)},toRGB:f,toRGBA:p,toHex:e,toHSL:function(c){return s(c,"hsl")},toHSLA:function(c){return s(c,"hsla")},toHSB:function(c){return s(c,"hsb")},toHSBA:function(c){return s(c,"hsba")},toHSV:function(c){return s(c,"hsv")},toHSVA:function(c){return s(c,"hsva")},toName:function(c){for(var g in F)if(e(F[g])===e(c))return g;return null},toColor:r,toArray:function(c){c=m(c);
0>c.indexOf("rgba")&&(c=p(c));var g=[],b=0;return c.replace(/[\d.]+/g,function(c){3>b?c|=0:c=+c;g[b++]=c}),g},alpha:function(c,g){null===g&&(g=1);var h=l(p(c));return h[3]=b(Number(g).toFixed(4),[0,1]),r(h,"rgba")},getData:l}});
define("zrender/shape/Base","require ../tool/matrix ../tool/guid ../tool/util ./mixin/Transformable ../tool/event ../tool/area ../tool/area ../tool/color ../tool/area".split(" "),function(a){function q(n){n=n||{};this.id=n.id||s();for(var l in n)this[l]=n[l];this.style=this.style||{};this.parent=null;this.__dirty=!0;f.call(this);e.call(this)}var r=a("../tool/matrix"),s=a("../tool/guid"),p=a("../tool/util"),f=a("./mixin/Transformable"),e=a("../tool/event").Dispatcher;q.prototype.invisible=!1;q.prototype.ignore=
!1;q.prototype.zlevel=0;q.prototype.draggable=!1;q.prototype.clickable=!1;q.prototype.hoverable=!0;q.prototype.z=0;q.prototype.brush=function(e,l){var d=this.style;this.brushTypeOnly&&(d.brushType=this.brushTypeOnly);l&&(d=this.getHighlightStyle(d,this.highlightStyle||{},this.brushTypeOnly));"stroke"==this.brushTypeOnly&&(d.strokeColor=d.strokeColor||d.color);e.save();this.setContext(e,d);this.setTransform(e);e.beginPath();this.buildPath(e,d);"stroke"!=this.brushTypeOnly&&e.closePath();switch(d.brushType){case "both":e.fill();
case "stroke":0<d.lineWidth&&e.stroke();break;default:e.fill()}this.drawText(e,d,this.style);e.restore()};var m=[["color","fillStyle"],["strokeColor","strokeStyle"],["opacity","globalAlpha"],["lineCap","lineCap"],["lineJoin","lineJoin"],["miterLimit","miterLimit"],["lineWidth","lineWidth"],["shadowBlur","shadowBlur"],["shadowColor","shadowColor"],["shadowOffsetX","shadowOffsetX"],["shadowOffsetY","shadowOffsetY"]];return q.prototype.setContext=function(e,l){for(var d=0,b=m.length;d<b;d++){var k=l[m[d][0]],
h=m[d][1];"undefined"!=typeof k&&(e[h]=k)}},q.prototype.getHighlightStyle=function(e,l,d){var b={},k;for(k in e)b[k]=e[k];var h=a("../tool/color"),g=h.getHighlightColor();"stroke"!=e.brushType?(b.strokeColor=g,b.lineWidth=(e.lineWidth||1)+this.getHighlightZoom(),b.brushType="both"):"stroke"!=d?(b.strokeColor=g,b.lineWidth=(e.lineWidth||1)+this.getHighlightZoom()):b.strokeColor=l.strokeColor||h.mix(e.strokeColor,h.toRGB(g));for(k in l)"undefined"!=typeof l[k]&&(b[k]=l[k]);return b},q.prototype.getHighlightZoom=
function(){return"text"!=this.type?6:2},q.prototype.drift=function(e,l){this.position[0]+=e;this.position[1]+=l},q.prototype.getTansform=function(){var e=[];return function(l,d){var b=[l,d];return this.needTransform&&this.transform&&(r.invert(e,this.transform),r.mulVector(b,e,[l,d,1]),l==b[0]&&d==b[1]&&this.updateNeedTransform()),b}}(),q.prototype.isCover=function(e,l){var d=this.getTansform(e,l);e=d[0];l=d[1];d=this.style.__rect;return d||(d=this.style.__rect=this.getRect(this.style)),e>=d.x&&e<=
d.x+d.width&&l>=d.y&&l<=d.y+d.height?a("../tool/area").isInside(this,this.style,e,l):!1},q.prototype.drawText=function(e,l,d){var b;if("undefined"!=typeof l.text&&!1!==l.text){var k=l.textColor||l.color||l.strokeColor;e.fillStyle=k;var h=10,g,c,t,y=l.textPosition||this.textPosition||"top";switch(y){case "inside":case "top":case "bottom":case "left":case "right":if(this.getRect){var v=(d||l).__rect||this.getRect(d||l);switch(y){case "inside":c=v.x+v.width/2;t=v.y+v.height/2;g="center";b="middle";"stroke"!=
l.brushType&&k==l.color&&(e.fillStyle="#fff");break;case "left":c=v.x-h;t=v.y+v.height/2;g="end";b="middle";break;case "right":c=v.x+v.width+h;t=v.y+v.height/2;g="start";b="middle";break;case "top":c=v.x+v.width/2;t=v.y-h;g="center";b="bottom";break;case "bottom":c=v.x+v.width/2,t=v.y+v.height+h,g="center",b="top"}}break;case "start":case "end":var f,p,m;if("undefined"!=typeof l.pointList){k=l.pointList;if(2>k.length)return;d=k.length;switch(y){case "start":v=k[0][0];f=k[1][0];p=k[0][1];m=k[1][1];
break;case "end":v=k[d-2][0],f=k[d-1][0],p=k[d-2][1],m=k[d-1][1]}}else v=l.xStart||0,f=l.xEnd||0,p=l.yStart||0,m=l.yEnd||0;switch(y){case "start":g=v<f?"end":"start";b=p<m?"bottom":"top";c=v;t=p;break;case "end":g=v<f?"start":"end",b=p<m?"top":"bottom",c=f,t=m}h-=4;v!=f?c-="end"==g?h:-h:g="center";p!=m?t-="bottom"==b?h:-h:b="middle";break;case "specific":c=l.textX||0,t=l.textY||0,g="start",b="middle"}if(null!=c&&null!=t){h=l.text;y=l.textFont;g=l.textAlign||g;l=l.textBaseline||b;y&&(e.font=y);e.textAlign=
g;e.textBaseline=l;b=h;g=a("../tool/area");g.getTextWidth(b,y);g=g.getTextHeight("\u56fd",y);b=(b+"").split("\n");switch(l){case "top":break;case "bottom":t-=g*b.length;break;default:t-=g*b.length/2}b=t;h=(h+"").split("\n");t=a("../tool/area").getTextHeight("\u56fd",y);switch(l){case "top":l=b;break;case "bottom":l=b+t;break;default:l=b+t/2}b=0;for(g=h.length;b<g;b++)e.fillText(h[b],c,l),l+=t}}},q.prototype.isSilent=function(){return!(this.hoverable||this.draggable||this.onmousemove||this.onmouseover||
this.onmouseout||this.onmousedown||this.onmouseup||this.onclick||this.ondragenter||this.ondragover||this.ondragleave||this.ondrop)},p.merge(q.prototype,f.prototype,!0),p.merge(q.prototype,e.prototype,!0),q});
define("zrender/shape/Path",["require","./Base","../tool/util"],function(a){function q(a){r.call(this,a)}var r=a("./Base");return q.prototype={type:"path",_parsePathData:function(a){if(!a)return[];var p,f="mMlLvVhHzZcCqQtTsSaA".split("");p=a.replace(/-/g," -");p=p.replace(/  /g," ");p=p.replace(/ /g,",");p=p.replace(/,,/g,",");for(a=0;a<f.length;a++)p=p.replace(new RegExp(f[a],"g"),"|"+f[a]);f=p.split("|");p=[];var e=0,m=0;for(a=1;a<f.length;a++){var n=f[a],l=n.charAt(0),n=n.slice(1),n=n.replace(/e,-/g,
"e-"),n=n.split(",");0<n.length&&""===n[0]&&n.shift();for(var d=0;d<n.length;d++)n[d]=parseFloat(n[d]);for(;0<n.length&&!isNaN(n[0]);){var d=null,b=[],k,h,g,c,t,y;k=e;h=m;switch(l){case "l":e+=n.shift();m+=n.shift();d="L";b.push(e,m);break;case "L":e=n.shift();m=n.shift();b.push(e,m);break;case "m":e+=n.shift();m+=n.shift();d="M";b.push(e,m);l="l";break;case "M":e=n.shift();m=n.shift();d="M";b.push(e,m);l="L";break;case "h":e+=n.shift();d="L";b.push(e,m);break;case "H":e=n.shift();d="L";b.push(e,
m);break;case "v":m+=n.shift();d="L";b.push(e,m);break;case "V":m=n.shift();d="L";b.push(e,m);break;case "C":b.push(n.shift(),n.shift(),n.shift(),n.shift());e=n.shift();m=n.shift();b.push(e,m);break;case "c":b.push(e+n.shift(),m+n.shift(),e+n.shift(),m+n.shift());e+=n.shift();m+=n.shift();d="C";b.push(e,m);break;case "S":k=e;h=m;d=p[p.length-1];"C"===d.command&&(k=e+(e-d.points[2]),h=m+(m-d.points[3]));b.push(k,h,n.shift(),n.shift());e=n.shift();m=n.shift();d="C";b.push(e,m);break;case "s":k=e;h=
m;d=p[p.length-1];"C"===d.command&&(k=e+(e-d.points[2]),h=m+(m-d.points[3]));b.push(k,h,e+n.shift(),m+n.shift());e+=n.shift();m+=n.shift();d="C";b.push(e,m);break;case "Q":b.push(n.shift(),n.shift());e=n.shift();m=n.shift();b.push(e,m);break;case "q":b.push(e+n.shift(),m+n.shift());e+=n.shift();m+=n.shift();d="Q";b.push(e,m);break;case "T":k=e;h=m;d=p[p.length-1];"Q"===d.command&&(k=e+(e-d.points[0]),h=m+(m-d.points[1]));e=n.shift();m=n.shift();d="Q";b.push(k,h,e,m);break;case "t":k=e;h=m;d=p[p.length-
1];"Q"===d.command&&(k=e+(e-d.points[0]),h=m+(m-d.points[1]));e+=n.shift();m+=n.shift();d="Q";b.push(k,h,e,m);break;case "A":b=n.shift();g=n.shift();c=n.shift();t=n.shift();y=n.shift();k=e;h=m;e=n.shift();m=n.shift();d="A";b=this._convertPoint(k,h,e,m,t,y,b,g,c);break;case "a":b=n.shift(),g=n.shift(),c=n.shift(),t=n.shift(),y=n.shift(),k=e,h=m,e+=n.shift(),m+=n.shift(),d="A",b=this._convertPoint(k,h,e,m,t,y,b,g,c)}p.push({command:d||l,points:b})}"z"!==l&&"Z"!==l||p.push({command:"z",points:[]})}return p},
_convertPoint:function(a,p,f,e,m,n,l,d,b){b*=Math.PI/180;var k=Math.cos(b)*(a-f)/2+Math.sin(b)*(p-e)/2,h=-1*Math.sin(b)*(a-f)/2+Math.cos(b)*(p-e)/2,g=k*k/(l*l)+h*h/(d*d);1<g&&(l*=Math.sqrt(g),d*=Math.sqrt(g));g=Math.sqrt((l*l*d*d-l*l*h*h-d*d*k*k)/(l*l*h*h+d*d*k*k));m===n&&(g*=-1);isNaN(g)&&(g=0);m=g*l*h/d;g=g*-d*k/l;a=(a+f)/2+Math.cos(b)*m-Math.sin(b)*g;p=(p+e)/2+Math.sin(b)*m+Math.cos(b)*g;var c=function(c,g){return(c[0]*g[0]+c[1]*g[1])/(Math.sqrt(c[0]*c[0]+c[1]*c[1])*Math.sqrt(g[0]*g[0]+g[1]*g[1]))},
t=function(g,b){return(g[0]*b[1]<g[1]*b[0]?-1:1)*Math.acos(c(g,b))};e=t([1,0],[(k-m)/l,(h-g)/d]);f=[(k-m)/l,(h-g)/d];k=[(-1*k-m)/l,(-1*h-g)/d];h=t(f,k);return-1>=c(f,k)&&(h=Math.PI),1<=c(f,k)&&(h=0),0===n&&0<h&&(h-=2*Math.PI),1===n&&0>h&&(h+=2*Math.PI),[a,p,l,d,e,h,b,n]},buildPath:function(a,p){for(var f=p.path,f=this.pathArray||this._parsePathData(f),e=p.x||0,m=p.y||0,n,l=p.pointList=[],d=[],b=0,k=f.length;b<k;b++){"M"==f[b].command.toUpperCase()&&(0<d.length&&l.push(d),d=[]);n=f[b].points;for(var h=
0,g=n.length;h<g;h+=2)d.push([n[h]+e,n[h+1]+m])}0<d.length&&l.push(d);b=0;for(k=f.length;b<k;b++){l=f[b].command;n=f[b].points;h=0;for(g=n.length;h<g;h++)0===h%2?n[h]+=e:n[h]+=m;switch(l){case "L":a.lineTo(n[0],n[1]);break;case "M":a.moveTo(n[0],n[1]);break;case "C":a.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5]);break;case "Q":a.quadraticCurveTo(n[0],n[1],n[2],n[3]);break;case "A":var h=n[0],g=n[1],c=n[2],t=n[3],l=n[4],d=n[5],y=n[6];n=n[7];var v=c>t?c:t,F=c>t?1:c/t,c=c>t?t/c:1;a.translate(h,g);a.rotate(y);
a.scale(F,c);a.arc(0,0,v,l,l+d,1-n);a.scale(1/F,1/c);a.rotate(-y);a.translate(-h,-g);break;case "z":a.closePath()}}},getRect:function(a){if(a.__rect)return a.__rect;var p;"stroke"==a.brushType||"fill"==a.brushType?p=a.lineWidth||1:p=0;for(var f=Number.MAX_VALUE,e=Number.MIN_VALUE,m=Number.MAX_VALUE,n=Number.MIN_VALUE,l=a.x||0,d=a.y||0,b=this.pathArray||this._parsePathData(a.path),k=0;k<b.length;k++)for(var h=b[k].points,g=0;g<h.length;g++)0===g%2?(h[g]+l<f&&(f=h[g]+l),h[g]+l>e&&(e=h[g]+l)):(h[g]+
d<m&&(m=h[g]+d),h[g]+d>n&&(n=h[g]+d));var c;return f===Number.MAX_VALUE||e===Number.MIN_VALUE||m===Number.MAX_VALUE||n===Number.MIN_VALUE?c={x:0,y:0,width:0,height:0}:c={x:Math.round(f-p/2),y:Math.round(m-p/2),width:e-f+p,height:n-m+p},a.__rect=c,c}},a("../tool/util").inherits(q,r),q});
define("zrender/tool/area",["require","../tool/util","../shape/Path"],function(a){function q(b,h,g,c){if(!h||!b)return!1;var t=b.type;m=m||e.getContext();var d=h.__rect||b.getRect(h);if(!(g>=d.x&&g<=d.x+d.width&&c>=d.y&&c<=d.y+d.height))return!1;d=r(t,h,g,c);if("undefined"!=typeof d)return d;if("bezier-curve"!=t&&b.buildPath&&m.isPointInPath){var v=m;return v.beginPath(),b.buildPath(v,h),v.closePath(),v.isPointInPath(g,c)}if(m.getImageData){var l=h.__rect||b.getRect(h),t=e.getPixelContext(),d=e.getPixelOffset();
e.adjustCanvasSize(g,c);t.clearRect(l.x,l.y,l.width,l.height);t.beginPath();b.brush(t,{style:h});t.closePath();a:{b=g+d.x;c+=d.y;h=void 0;"undefined"!=typeof h?(h=(h||1)>>1,v=t.getImageData(b-h,c-h,h+h,h+h).data):v=t.getImageData(b,c,1,1).data;for(c=v.length;c--;)if(0!==v[c]){v=!0;break a}v=!1}return v}switch(t){case "heart":case "droplet":case "ellipse":return!0;case "trochoid":return p(h,g,c,"out"==h.location?h.r1+h.r2+h.d:h.r1-h.r2+h.d);case "rose":return p(h,g,c,h.maxr);default:return!1}}function r(b,
h,g,c){switch(b){case "line":return s(h,g,c);case "broken-line":a:{b=h.pointList;for(var t={xStart:0,yStart:0,xEnd:0,yEnd:0,lineWidth:0},d=0,v=b.length-1;d<v;d++)if(t.xStart=b[d][0],t.yStart=b[d][1],t.xEnd=b[d+1][0],t.yEnd=b[d+1][1],t.lineWidth=Math.max(h.lineWidth,10),s(t,g,c)){g=!0;break a}g=!1}return g;case "text":return!0;case "ring":return p(h,g,c,h.r)&&!p({x:h.x,y:h.y},g,c,h.r0||0);case "rectangle":return!0;case "circle":return p(h,g,c,h.r);case "sector":return!p(h,g,c,h.r)||0<h.r0&&p({x:h.x,
y:h.y},g,c,h.r0)?g=!1:360<=Math.abs(h.endAngle-h.startAngle)?g=!0:(g=(360-Math.atan2(c-h.y,g-h.x)/Math.PI*180)%360,c=(360+h.endAngle)%360,h=(360+h.startAngle)%360,g=c>h?g>=h&&g<=c:!(g>=c&&g<=h)),g;case "path":h.pointList||a("../shape/Path").prototype.buildPath(m,h);h=h.pointList;b=!1;t=0;for(d=h.length;t<d&&!(b=f({pointList:h[t]},g,c));t++);return b;case "polygon":case "star":case "isogon":return f(h,g,c);case "image":return!0}}function s(b,h,g){var c=b.xStart,t=b.yStart,d=b.xEnd,v=b.yEnd;b=Math.max(b.lineWidth,
5);var l=0,e=c,n,f;c<d?(n=c-b,f=d+b):(n=d-b,f=c+b);var p,m;t<v?(p=t-b,m=v+b):(p=v-b,m=t+b);if(h<n||h>f||g<p||g>m)return!1;if(c===d)return Math.abs(h-c)<=b/2;l=(t-v)/(c-d);e=(c*v-d*t)/(c-d);return(l*h-g+e)*(l*h-g+e)/(l*l+1)<=b/2*b/2}function p(b,h,g,c){return(h-b.x)*(h-b.x)+(g-b.y)*(g-b.y)<c*c}function f(b,h,g){var c,t=b.pointList,d=t.length,v=!1;c=!0;for(b=0;b<d;++b)if(t[b][0]==h&&t[b][1]==g){c=!1;v=!0;break}if(c)for(v=!1,b=0,c=d-1;b<d;c=b++)if(t[b][1]<g&&g<t[c][1]||t[c][1]<g&&g<t[b][1]){if(h<=t[b][0]||
h<=t[c][0])if(c=(g-t[b][1])*(t[c][0]-t[b][0])/(t[c][1]-t[b][1])+t[b][0],h<c)v=!v;else if(h==c){v=!0;break}}else if(g==t[b][1]){if(h<t[b][0]){t[b][1]>t[c][1]?--g:++g;break}}else if(t[b][1]==t[c][1]&&g==t[b][1]&&(t[b][0]<h&&h<t[c][0]||t[c][0]<h&&h<t[b][0])){v=!0;break}return v}var e=a("../tool/util"),m,n={},l={},d=0,b=0;return{isInside:q,isOutside:function(b,h,g,c){return!q(b,h,g,c)},getTextWidth:function(b,h){var g=b+":"+h;if(n[g])return n[g];m=m||e.getContext();m.save();h&&(m.font=h);b=(b+"").split("\n");
for(var c=0,t=0,y=b.length;t<y;t++)c=Math.max(m.measureText(b[t]).width,c);return m.restore(),n[g]=c,2E4<++d&&(d=0,n={}),c},getTextHeight:function(d,h){var g=d+":"+h;if(l[g])return l[g];m=m||e.getContext();m.save();h&&(m.font=h);d=(d+"").split("\n");var c=(m.measureText("\u56fd").width+2)*d.length;return m.restore(),l[g]=c,2E4<++b&&(b=0,l={}),c}}});
define("zrender/shape/Text",["require","../tool/area","./Base","../tool/util"],function(a){function q(p){s.call(this,p)}var r=a("../tool/area"),s=a("./Base");return q.prototype={type:"text",brush:function(p,f){var e=this.style;f&&(e=this.getHighlightStyle(e,this.highlightStyle||{}));if("undefined"!=typeof e.text&&!1!==e.text){p.save();this.setContext(p,e);this.setTransform(p);e.textFont&&(p.font=e.textFont);p.textAlign=e.textAlign||"start";p.textBaseline=e.textBaseline||"middle";var m=(e.text+"").split("\n"),
n=r.getTextHeight("\u56fd",e.textFont),l=this.getRect(e),d=e.x,b;"top"==e.textBaseline?b=l.y:"bottom"==e.textBaseline?b=l.y+n:b=l.y+n/2;for(var l=0,k=m.length;l<k;l++){if(e.maxWidth)switch(e.brushType){case "fill":p.fillText(m[l],d,b,e.maxWidth);break;case "stroke":p.strokeText(m[l],d,b,e.maxWidth);break;case "both":p.fillText(m[l],d,b,e.maxWidth);p.strokeText(m[l],d,b,e.maxWidth);break;default:p.fillText(m[l],d,b,e.maxWidth)}else switch(e.brushType){case "fill":p.fillText(m[l],d,b);break;case "stroke":p.strokeText(m[l],
d,b);break;case "both":p.fillText(m[l],d,b);p.strokeText(m[l],d,b);break;default:p.fillText(m[l],d,b)}b+=n}p.restore()}},getRect:function(p){if(p.__rect)return p.__rect;var f=r.getTextWidth(p.text,p.textFont),e=r.getTextHeight(p.text,p.textFont),m=p.x;"end"==p.textAlign||"right"==p.textAlign?m-=f:"center"==p.textAlign&&(m-=f/2);var n;return"top"==p.textBaseline?n=p.y:"bottom"==p.textBaseline?n=p.y-e:n=p.y-e/2,p.__rect={x:m,y:n,width:f,height:e},p.__rect}},a("../tool/util").inherits(q,s),q});
define("zrender/shape/Rectangle",["require","./Base","../tool/util"],function(a){function q(a){r.call(this,a)}var r=a("./Base");return q.prototype={type:"rectangle",_buildRadiusPath:function(a,p){var f=p.x,e=p.y,m=p.width,n=p.height,l=p.radius,d,b,k,h;"number"==typeof l?d=b=k=h=l:l instanceof Array?1===l.length?d=b=k=h=l[0]:2===l.length?(d=k=l[0],b=h=l[1]):3===l.length?(d=l[0],b=h=l[1],k=l[2]):(d=l[0],b=l[1],k=l[2],h=l[3]):d=b=k=h=0;a.moveTo(f+d,e);a.lineTo(f+m-b,e);0!==b&&a.quadraticCurveTo(f+m,
e,f+m,e+b);a.lineTo(f+m,e+n-k);0!==k&&a.quadraticCurveTo(f+m,e+n,f+m-k,e+n);a.lineTo(f+h,e+n);0!==h&&a.quadraticCurveTo(f,e+n,f,e+n-h);a.lineTo(f,e+d);0!==d&&a.quadraticCurveTo(f,e,f+d,e)},buildPath:function(a,p){p.radius?this._buildRadiusPath(a,p):(a.moveTo(p.x,p.y),a.lineTo(p.x+p.width,p.y),a.lineTo(p.x+p.width,p.y+p.height),a.lineTo(p.x,p.y+p.height),a.lineTo(p.x,p.y))},getRect:function(a){if(a.__rect)return a.__rect;var p;return"stroke"==a.brushType||"fill"==a.brushType?p=a.lineWidth||1:p=0,a.__rect=
{x:Math.round(a.x-p/2),y:Math.round(a.y-p/2),width:a.width+p,height:a.height+p},a.__rect}},a("../tool/util").inherits(q,r),q});
define("zrender/loadingEffect/Base",["require","../tool/util","../shape/Text","../shape/Rectangle"],function(a){function q(f){this.setOptions(f)}var r=a("../tool/util"),s=a("../shape/Text"),p=a("../shape/Rectangle");return q.prototype.createTextShape=function(f){return new s({highlightStyle:r.merge({x:this.canvasWidth/2,y:this.canvasHeight/2,text:"Loading...",textAlign:"center",textBaseline:"middle",textFont:"normal 16px Arial",color:"#333",brushType:"fill"},f,!0)})},q.prototype.createBackgroundShape=
function(f){return new p({highlightStyle:{x:0,y:0,width:this.canvasWidth,height:this.canvasHeight,brushType:"fill",color:f}})},q.prototype.start=function(f){this.canvasWidth=f._width;this.canvasHeight=f._height;this.loadingTimer=this._start(function(e){f.storage.addHover(e)},function(){f.refreshHover()})},q.prototype._start=function(){return setInterval(function(){},1E4)},q.prototype.stop=function(){clearInterval(this.loadingTimer)},q.prototype.setOptions=function(f){this.options=f||{}},q.prototype.adjust=
function(f,e){return f<=e[0]?f=e[0]:f>=e[1]&&(f=e[1]),f},q});
define("zrender/shape/Image",["require","./Base","../tool/util"],function(a){function q(e){f.call(this,e)}var r={},s=[],p,f=a("./Base");return q.prototype={type:"image",brush:function(e,f,n){var l=this.style||{};f&&(l=this.getHighlightStyle(l,this.highlightStyle||{}));var d=l.image,b=this;"string"==typeof d&&(f=d,r[f]?d=r[f]:(d=new Image,d.onload=function(){d.onload=null;clearTimeout(p);s.push(b);p=setTimeout(function(){n&&n(s);s=[]},10)},r[f]=d,d.src=f));if(d){if("IMG"==d.nodeName.toUpperCase())if(window.ActiveXObject){if("complete"!=
d.readyState)return}else if(!d.complete)return;f=l.width||d.width;var k=l.height||d.height,h=l.x,g=l.y;if(d.width&&d.height){e.save();this.setContext(e,l);this.setTransform(e);if(l.sWidth&&l.sHeight){var c=l.sx||0,t=l.sy||0;e.drawImage(d,c,t,l.sWidth,l.sHeight,h,g,f,k)}else l.sx&&l.sy?(c=l.sx,t=l.sy,e.drawImage(d,c,t,f-c,k-t,h,g,f,k)):e.drawImage(d,h,g,f,k);l.width=f;l.height=k;this.style.width=f;this.style.height=k;this.drawText(e,l,this.style);e.restore()}}},buildPath:function(e,f){e.rect(f.x,f.y,
f.width,f.height)},getRect:function(e){return{x:e.x,y:e.y,width:e.width,height:e.height}}},a("../tool/util").inherits(q,f),q});
define("zrender/Painter","require ./config ./tool/util ./tool/log ./tool/matrix ./loadingEffect/Base ./shape/Image".split(" "),function(a){function q(){return!1}function r(){}function s(b,g){this.root=b;this.storage=g;b.innerHTML="";this._width=this._getWidth();this._height=this._getHeight();var c=document.createElement("div");this._domRoot=c;c.style.position="relative";c.style.overflow="hidden";c.style.width=this._width+"px";c.style.height=this._height+"px";b.appendChild(c);this._layers={};this._layerConfig=
{};this._loadingEffect=new d({});this.shapeToImage=this._createShapeToImageProcessor();this._bgDom=p("bg","div",this);c.appendChild(this._bgDom);var t=new f("_zrender_hover_",this);this._layers.hover=t;c.appendChild(t.dom);t.initContext();t.onselectstart=q;var k=this;this.updatePainter=function(c,g){k.update(c,g)}}function p(h,g,c){g=document.createElement(g);var t=c._width;c=c._height;return g.style.position="absolute",g.style.left=0,g.style.top=0,g.style.width=t+"px",g.style.height=c+"px",g.setAttribute("width",
t*b),g.setAttribute("height",c*b),g.setAttribute("data-zr-dom-id",h),g}function f(b,g){this.dom=p(b,"canvas",g);k&&k.initElement(this.dom);this.ctxBack=this.domBack=null;this.painter=g;this.unusedCount=0;this.config=null;this.dirty=!0;this.elCount=0}var e=a("./config"),m=a("./tool/util"),n=a("./tool/log"),l=a("./tool/matrix"),d=a("./loadingEffect/Base"),b=window.devicePixelRatio||1,b=Math.max(b,1),k=window.G_vmlCanvasManager;return s.prototype.render=function(b){return this.isLoading()&&this.hideLoading(),
this.refresh(b,!0),this},s.prototype.refresh=function(b,g){var c=this.storage.getShapeList(!0);return this._paintList(c,g),"function"==typeof b&&b(),this},s.prototype._paintList=function(b,g){"undefined"==typeof g&&(g=!1);this._updateLayerStatus(b);var c,t,d,v;for(v in this._layers)"hover"!==v&&this._layers[v].unusedCount++;for(var f=[],p=0,m=b.length;p<m;p++){var a=b[p];t!==a.zlevel&&(c=this.getLayer(a.zlevel,c),d=c.ctx,t=a.zlevel,c.unusedCount=0,(c.dirty||g)&&c.clear());if(a.__startClip&&!k){var A=
a.__startClip;d.save();if(A.needTransform){var q=A.transform;l.invert(f,q);d.transform(q[0],q[1],q[2],q[3],q[4],q[5])}d.beginPath();A.buildPath(d,A.style);d.clip();A.needTransform&&(q=f,d.transform(q[0],q[1],q[2],q[3],q[4],q[5]))}if((c.dirty||g)&&!a.invisible&&(!a.onbrush||a.onbrush&&!a.onbrush(d,!1)))if(e.catchBrushException)try{a.brush(d,!1,this.updatePainter)}catch(s){n(s,"brush error of "+a.type,a)}else a.brush(d,!1,this.updatePainter);a.__stopClip&&!k&&d.restore();a.__dirty=!1}for(v in this._layers)"hover"!==
v&&(c=this._layers[v],c.dirty=!1,500<=c.unusedCount?(delete this._layers[v],c.dom.parentNode.removeChild(c.dom)):1==c.unusedCount&&c.clear())},s.prototype.getLayer=function(b,g){var c=this._layers[b];if(!c){var c=new f(b,this),t=g?g.dom:this._bgDom;t.nextSibling?t.parentNode.insertBefore(c.dom,t.nextSibling):t.parentNode.appendChild(c.dom);c.initContext();this._layers[b]=c;c.config=this._layerConfig[b]}return c},s.prototype._updateLayerStatus=function(b){var g=this._layers,c={},t;for(t in g)"hover"!==
t&&(c[t]=g[t].elCount,g[t].elCount=0);for(var d=0,k=b.length;d<k;d++){var l=b[d],e=g[l.zlevel];e&&(e.elCount++,e.dirty||(e.dirty=l.__dirty))}for(t in g)"hover"!==t&&c[t]!==g[t].elCount&&(g[t].dirty=!0)},s.prototype.update=function(b,g){for(var c=0,t=b.length;c<t;c++)this.storage.mod(b[c].id);return this.refresh(g),this},s.prototype.setLoadingEffect=function(b){return this._loadingEffect=b,this},s.prototype.clear=function(){for(var b in this._layers)"hover"!=b&&this._layers[b].clear();return this},
s.prototype.modLayer=function(b,g){if(g){this._layerConfig[b]?m.merge(this._layerConfig[b],g,!0):this._layerConfig[b]=g;var c=this._layers[b];c&&(c.config=this._layerConfig[b])}},s.prototype.refreshHover=function(){this.clearHover();for(var b=this.storage.getHoverShapes(!0),g=0,c=b.length;g<c;g++)this._brushHover(b[g]);return this.storage.delHover(),this},s.prototype.clearHover=function(){var b=this._layers.hover;return b&&b.clear(),this},s.prototype.showLoading=function(b){return this._loadingEffect&&
this._loadingEffect.stop(),b&&this.setLoadingEffect(b),this._loadingEffect.start(this),this.loading=!0,this},s.prototype.hideLoading=function(){return this._loadingEffect.stop(),this.clearHover(),this.loading=!1,this},s.prototype.isLoading=function(){return this.loading},s.prototype.resize=function(){var b=this._domRoot;b.style.display="none";var g=this._getWidth(),c=this._getHeight();b.style.display="";if(this._width!=g||c!=this._height){this._width=g;this._height=c;b.style.width=g+"px";b.style.height=
c+"px";for(var t in this._layers)this._layers[t].resize(g,c);this.refresh(null,!0)}return this},s.prototype.clearLayer=function(b){(b=this._layers[b])&&b.clear()},s.prototype.dispose=function(){this.isLoading()&&this.hideLoading();this.root.innerHTML="";this.root=this.storage=this._domRoot=this._layers=null},s.prototype.getDomHover=function(){return this._layers.hover.dom},s.prototype.toDataURL=function(h,g,c){if(k)return null;var t=p("image","canvas",this);this._bgDom.appendChild(t);var d=t.getContext("2d");
1!=b&&d.scale(b,b);d.fillStyle=g||"#fff";d.rect(0,0,this._width*b,this._height*b);d.fill();this.storage.iterShape(function(c){if(!c.invisible&&(!c.onbrush||c.onbrush&&!c.onbrush(d,!1)))if(e.catchBrushException)try{c.brush(d,!1,this.updatePainter)}catch(b){n(b,"brush error of "+c.type,c)}else c.brush(d,!1,this.updatePainter)},{normal:"up",update:!0});h=t.toDataURL(h,c);return d=null,this._bgDom.removeChild(t),h},s.prototype.getWidth=function(){return this._width},s.prototype.getHeight=function(){return this._height},
s.prototype._getWidth=function(){var b=this.root,g=b.currentStyle||document.defaultView.getComputedStyle(b);return((b.clientWidth||parseInt(g.width,10))-parseInt(g.paddingLeft,10)-parseInt(g.paddingRight,10)).toFixed(0)-0},s.prototype._getHeight=function(){var b=this.root,g=b.currentStyle||document.defaultView.getComputedStyle(b);return((b.clientHeight||parseInt(g.height,10))-parseInt(g.paddingTop,10)-parseInt(g.paddingBottom,10)).toFixed(0)-0},s.prototype._brushHover=function(b){var g=this._layers.hover.ctx;
if(!b.onbrush||b.onbrush&&!b.onbrush(g,!0))if(e.catchBrushException)try{b.brush(g,!0,this.updatePainter)}catch(c){n(c,"hoverBrush error of "+b.type,b)}else b.brush(g,!0,this.updatePainter)},s.prototype._shapeToImage=function(b,g,c,t,d){var k=document.createElement("canvas"),l=k.getContext("2d");d=window.devicePixelRatio||1;k.style.width=c+"px";k.style.height=t+"px";k.setAttribute("width",c*d);k.setAttribute("height",t*d);l.clearRect(0,0,c*d,t*d);c=g.position;t=g.rotation;d=g.scale;g.position=[0,0,
0];g.rotation=0;g.scale=[1,1];g&&g.brush(l,!1);b=new (a("./shape/Image"))({id:b,style:{x:0,y:0,image:k}});return null!=c&&(b.position=g.position=c),null!=t&&(b.rotation=g.rotation=t),null!=d&&(b.scale=g.scale=d),b},s.prototype._createShapeToImageProcessor=function(){if(k)return r;var h=this;return function(g,c,t,d){return h._shapeToImage(g,c,t,d,b)}},f.prototype.initContext=function(){this.ctx=this.dom.getContext("2d");1!=b&&this.ctx.scale(b,b)},f.prototype.createBackBuffer=function(){k||(this.domBack=
p("back-"+this.id,"canvas",this.painter),this.ctxBack=this.domBack.getContext("2d"),1!=b&&this.ctxBack.scale(b,b))},f.prototype.resize=function(h,g){this.dom.style.width=h+"px";this.dom.style.height=g+"px";this.dom.setAttribute("width",h*b);this.dom.setAttribute("height",g*b);1!=b&&this.ctx.scale(b,b);this.domBack&&(this.domBack.setAttribute("width",h*b),this.domBack.setAttribute("height",g*b),1!=b&&this.ctxBack.scale(b,b))},f.prototype.clear=function(){var h=this.config,g=this.dom,c=this.ctx,t=g.width,
d=g.height;if(h){var v="undefined"!=typeof h.clearColor&&!k,l=h.motionBlur&&!k,h=h.lastFrameAlpha;"undefined"==typeof h&&(h=.7);l&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(g,0,0,t/b,d/b));v?(c.save(),c.fillStyle=this.config.clearColor,c.fillRect(0,0,t/b,d/b),c.restore()):c.clearRect(0,0,t/b,d/b);l&&(g=this.domBack,c.save(),c.globalAlpha=h,c.drawImage(g,0,0,t/b,d/b),c.restore())}else c.clearRect(0,0,t/b,d/b)},s});
define("zrender/shape/Group",["require","../tool/guid","../tool/util","../tool/event","./mixin/Transformable"],function(a){function q(e){e=e||{};this.id=e.id||r();for(var m in e)this[m]=e[m];this.type="group";this.clipShape=null;this._children=[];this._storage=null;this.__dirty=!0;f.call(this);p.call(this)}var r=a("../tool/guid"),s=a("../tool/util"),p=a("../tool/event").Dispatcher,f=a("./mixin/Transformable");return q.prototype.ignore=!1,q.prototype.children=function(){return this._children.slice()},
q.prototype.childAt=function(e){return this._children[e]},q.prototype.addChild=function(e){e!=this&&e.parent!=this&&(e.parent&&e.parent.removeChild(e),this._children.push(e),e.parent=this,this._storage&&this._storage!==e._storage&&(this._storage.addToMap(e),e instanceof q&&e.addChildrenToStorage(this._storage)))},q.prototype.removeChild=function(e){var f=s.indexOf(this._children,e);this._children.splice(f,1);e.parent=null;e._storage&&(this._storage.delFromMap(e.id),e instanceof q&&e.delChildrenFromStorage(e._storage))},
q.prototype.each=function(e,f){for(var n=!!f,l=0;l<this._children.length;l++){var d=this._children[l];n?e.call(f,d):e(d)}},q.prototype.iterate=function(e,f){for(var n=!!f,l=0;l<this._children.length;l++){var d=this._children[l];n?e.call(f,d):e(d);"group"===d.type&&d.iterate(e,f)}},q.prototype.addChildrenToStorage=function(e){for(var f=0;f<this._children.length;f++){var n=this._children[f];e.addToMap(n);"group"===n.type&&n.addChildrenToStorage(e)}},q.prototype.delChildrenFromStorage=function(e){for(var f=
0;f<this._children.length;f++){var n=this._children[f];e.delFromMap(n);"group"===n.type&&n.delChildrenFromStorage(e)}},s.merge(q.prototype,f.prototype,!0),s.merge(q.prototype,p.prototype,!0),q});
define("zrender/Storage",["require","./tool/util","./shape/Group"],function(a){function q(e,f){return e.zlevel==f.zlevel?e.z==f.z?e.__renderidx-f.__renderidx:e.z-f.z:e.zlevel-f.zlevel}function r(){this._elements={};this._hoverElements=[];this._roots=[];this._shapeList=[];this._shapeListOffset=0}var s=a("./tool/util"),p=a("./shape/Group"),f={hover:!1,normal:"down",update:!1};return r.prototype.iterShape=function(e,p){p||(p=f);if(p.hover)for(var n=0,l=this._hoverElements.length;n<l;n++){var d=this._hoverElements[n];
d.updateTransform();if(e(d))return this}p.update&&this.updateShapeList();switch(p.normal){case "down":for(l=this._shapeList.length;l--;)if(e(this._shapeList[l]))return this;break;default:for(n=0,l=this._shapeList.length;n<l&&!e(this._shapeList[n]);n++);}return this},r.prototype.getHoverShapes=function(e){if(e){e=0;for(var f=this._hoverElements.length;e<f;e++)this._hoverElements[e].updateTransform()}return this._hoverElements},r.prototype.getShapeList=function(e){return e&&this.updateShapeList(),this._shapeList},
r.prototype.updateShapeList=function(){for(var e=this._shapeListOffset=0,f=this._roots.length;e<f;e++)this._updateAndAddShape(this._roots[e]);this._shapeList.length=this._shapeListOffset;e=0;for(f=this._shapeList.length;e<f;e++)this._shapeList[e].__renderidx=e;this._shapeList.sort(q)},r.prototype._updateAndAddShape=function(e){if(!e.ignore)if(e.updateTransform(),"group"==e.type){if(e.clipShape){e.clipShape.parent=e;e.clipShape.updateTransform();var f=e._children[0];f&&(f.__startClip=e.clipShape)}for(f=
0;f<e._children.length;f++){var n=e._children[f];n.__dirty=e.__dirty||n.__dirty;this._updateAndAddShape(n)}e.clipShape&&(f=this._shapeList[this._shapeListOffset-1])&&(f.__stopClip=!0);e.__dirty=!1}else this._shapeList[this._shapeListOffset++]=e},r.prototype.mod=function(e,f){var n=this._elements[e];if(n&&(n instanceof p||(n.style.__rect=null),n.__dirty=!0,f))if(f.parent||f._storage||f.__startClip){var l={},d;for(d in f)"parent"!=d&&"_storage"!=d&&"__startClip"!=d&&f.hasOwnProperty(d)&&(l[d]=f[d]);
s.merge(n,l,!0)}else s.merge(n,f,!0);return this},r.prototype.drift=function(e,f,n){e=this._elements[e];return e&&(e.needTransform=!0,(!e.ondrift||e.ondrift&&!e.ondrift(f,n))&&e.drift(f,n)),this},r.prototype.addHover=function(e){return e.updateNeedTransform(),this._hoverElements.push(e),this},r.prototype.delHover=function(){return this._hoverElements=[],this},r.prototype.hasHoverShape=function(){return 0<this._hoverElements.length},r.prototype.addRoot=function(e){e instanceof p&&e.addChildrenToStorage(this);
this.addToMap(e);this._roots.push(e)},r.prototype.delRoot=function(e){if("undefined"==typeof e){for(var f=0;f<this._roots.length;f++)e=this._roots[f],e instanceof p&&e.delChildrenFromStorage(this);this._elements={};this._hoverElements=[];this._roots=[]}else if(e instanceof Array)for(var f=0,n=e.length;f<n;f++)this.delRoot(e[f]);else"string"==typeof e?f=this._elements[e]:f=e,e=s.indexOf(this._roots,f),0<=e&&(this.delFromMap(f.id),this._roots.splice(e,1),f instanceof p&&f.delChildrenFromStorage(this))},
r.prototype.addToMap=function(e){return e instanceof p?e._storage=this:e.style.__rect=null,this._elements[e.id]=e,this},r.prototype.get=function(e){return this._elements[e]},r.prototype.delFromMap=function(e){var f=this._elements[e];return f&&(delete this._elements[e],f instanceof p&&(f._storage=null)),this},r.prototype.dispose=function(){this._elements=this._renderList=this._roots=this._hoverElements=null},r});
define("zrender/animation/easing",[],function(){var a={Linear:function(a){return a},QuadraticIn:function(a){return a*a},QuadraticOut:function(a){return a*(2-a)},QuadraticInOut:function(a){return 1>(a*=2)?.5*a*a:-.5*(--a*(a-2)-1)},CubicIn:function(a){return a*a*a},CubicOut:function(a){return--a*a*a+1},CubicInOut:function(a){return 1>(a*=2)?.5*a*a*a:.5*((a-=2)*a*a+2)},QuarticIn:function(a){return a*a*a*a},QuarticOut:function(a){return 1- --a*a*a*a},QuarticInOut:function(a){return 1>(a*=2)?.5*a*a*a*
a:-.5*((a-=2)*a*a*a-2)},QuinticIn:function(a){return a*a*a*a*a},QuinticOut:function(a){return--a*a*a*a*a+1},QuinticInOut:function(a){return 1>(a*=2)?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)},SinusoidalIn:function(a){return 1-Math.cos(a*Math.PI/2)},SinusoidalOut:function(a){return Math.sin(a*Math.PI/2)},SinusoidalInOut:function(a){return.5*(1-Math.cos(Math.PI*a))},ExponentialIn:function(a){return 0===a?0:Math.pow(1024,a-1)},ExponentialOut:function(a){return 1===a?1:1-Math.pow(2,-10*a)},ExponentialInOut:function(a){return 0===
a?0:1===a?1:1>(a*=2)?.5*Math.pow(1024,a-1):.5*(-Math.pow(2,-10*(a-1))+2)},CircularIn:function(a){return 1-Math.sqrt(1-a*a)},CircularOut:function(a){return Math.sqrt(1- --a*a)},CircularInOut:function(a){return 1>(a*=2)?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},ElasticIn:function(a){var r,s=.1;return 0===a?0:1===a?1:(!s||1>s?(s=1,r=.1):r=.4*Math.asin(1/s)/(2*Math.PI),-(s*Math.pow(2,10*--a)*Math.sin(2*(a-r)*Math.PI/.4)))},ElasticOut:function(a){var r,s=.1;return 0===a?0:1===a?1:(!s||1>s?
(s=1,r=.1):r=.4*Math.asin(1/s)/(2*Math.PI),s*Math.pow(2,-10*a)*Math.sin(2*(a-r)*Math.PI/.4)+1)},ElasticInOut:function(a){var r,s=.1;return 0===a?0:1===a?1:(!s||1>s?(s=1,r=.1):r=.4*Math.asin(1/s)/(2*Math.PI),1>(a*=2)?-.5*s*Math.pow(2,10*--a)*Math.sin(2*(a-r)*Math.PI/.4):s*Math.pow(2,-10*--a)*Math.sin(2*(a-r)*Math.PI/.4)*.5+1)},BackIn:function(a){return a*a*(2.70158*a-1.70158)},BackOut:function(a){return--a*a*(2.70158*a+1.70158)+1},BackInOut:function(a){return 1>(a*=2)?.5*a*a*(3.5949095*a-2.5949095):
.5*((a-=2)*a*(3.5949095*a+2.5949095)+2)},BounceIn:function(q){return 1-a.BounceOut(1-q)},BounceOut:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},BounceInOut:function(q){return.5>q?.5*a.BounceIn(2*q):.5*a.BounceOut(2*q-1)+.5}};return a});
define("zrender/animation/Clip",["require","./easing"],function(a){function q(a){this._targetPool=a.target||{};this._targetPool instanceof Array||(this._targetPool=[this._targetPool]);this._life=a.life||1E3;this._delay=a.delay||0;this._startTime=(new Date).getTime()+this._delay;this._endTime=this._startTime+1E3*this._life;this.loop="undefined"==typeof a.loop?!1:a.loop;this.gap=a.gap||0;this.easing=a.easing||"Linear";this.onframe=a.onframe;this.ondestroy=a.ondestroy;this.onrestart=a.onrestart}var r=
a("./easing");return q.prototype={step:function(a){a=(a-this._startTime)/this._life;if(!(0>a)){a=Math.min(a,1);var p="string"==typeof this.easing?r[this.easing]:this.easing,p="function"==typeof p?p(a):a;return this.fire("frame",p),1==a?this.loop?(this.restart(),"restart"):(this._needsRemove=!0,"destroy"):null}},restart:function(){var a=((new Date).getTime()-this._startTime)%this._life;this._startTime=(new Date).getTime()-a+this.gap},fire:function(a,p){for(var f=0,e=this._targetPool.length;f<e;f++)this["on"+
a]&&this["on"+a](this._targetPool[f],p)},constructor:q},q});
define("zrender/animation/Animation",["require","./Clip","../tool/color","../tool/util","../tool/event"],function(a){function q(c){c=c||{};this.stage=c.stage||{};this.onframe=c.onframe||function(){};this._clips=[];this._running=!1;this._time=0;g.call(this)}function r(c,b){return c[b]}function s(c,b,g){c[b]=g}function p(c,b,g,h,t){var d=c.length;if(1==t)for(t=0;t<d;t++){var k=c[t];h[t]=(b[t]-k)*g+k}else for(k=c[0].length,t=0;t<d;t++)for(var l=0;l<k;l++){var e=c[t][l];h[t][l]=(b[t][l]-e)*g+e}}function f(c){switch(typeof c){case "undefined":case "string":return!1}return"undefined"!=
typeof c.length}function e(c,b,g,h,t,d,k,l,e){var f=c.length;if(1==e)for(e=0;e<f;e++)l[e]=m(c[e],b[e],g[e],h[e],t,d,k);else{var n=c[0].length;for(e=0;e<f;e++)for(var a=0;a<n;a++)l[e][a]=m(c[e][a],b[e][a],g[e][a],h[e][a],t,d,k)}}function m(c,b,g,h,t,d,k){c=.5*(g-c);h=.5*(h-b);return(2*(b-g)+c+h)*k+(-3*(b-g)-2*c-h)*d+c*t+b}function n(c){if(f(c)){var b=c.length;if(f(c[0])){for(var g=[],h=0;h<b;h++)g.push(t.call(c[h]));return g}return t.call(c)}return c}function l(c){return c[0]=Math.floor(c[0]),c[1]=
Math.floor(c[1]),c[2]=Math.floor(c[2]),"rgba("+c.join(",")+")"}function d(c,b,g,h){this._tracks={};this._target=c;this._loop=b||!1;this._getter=g||r;this._setter=h||s;this._delay=this._clipCount=0;this._doneList=[];this._onframeList=[];this._clipList=[]}var b=a("./Clip"),k=a("../tool/color"),h=a("../tool/util"),g=a("../tool/event").Dispatcher,c=window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(c){setTimeout(c,
16)},t=Array.prototype.slice;return q.prototype={add:function(c){this._clips.push(c)},remove:function(c){c=h.indexOf(this._clips,c);0<=c&&this._clips.splice(c,1)},update:function(){for(var c=(new Date).getTime(),b=c-this._time,g=this._clips,h=g.length,t=[],d=[],k=0;k<h;k++){var l=g[k],e=l.step(c);e&&(t.push(e),d.push(l))}this.stage.update&&this.stage.update();for(k=0;k<h;)g[k]._needsRemove?(g[k]=g[h-1],g.pop(),h--):k++;h=t.length;for(k=0;k<h;k++)d[k].fire(t[k]);this._time=c;this.onframe(b);this.dispatch("frame",
b)},start:function(){function b(){g._running&&(g.update(),c(b))}var g=this;this._running=!0;this._time=(new Date).getTime();c(b)},stop:function(){this._running=!1},clear:function(){this._clips=[]},animate:function(c,b){b=b||{};var g=new d(c,b.loop,b.getter,b.setter);return g.animation=this,g},constructor:q},h.merge(q.prototype,g.prototype,!0),d.prototype={when:function(c,b){for(var g in b)this._tracks[g]||(this._tracks[g]=[],0!==c&&this._tracks[g].push({time:0,value:n(this._getter(this._target,g))})),
this._tracks[g].push({time:parseInt(c,10),value:b[g]});return this},during:function(c){return this._onframeList.push(c),this},start:function(c){var g=this,h=this._setter,t=this._getter,d=g._onframeList.length,n="spline"===c,a=function(){g._clipCount--;if(0===g._clipCount){g._tracks={};for(var c=g._doneList.length,b=0;b<c;b++)g._doneList[b].call(g)}},s=function(s,r){var q=s.length;if(q){var B=s[0].value,C=f(B),I=!1,H=C&&f(B[0])?2:1;s.sort(function(c,b){return c.time-b.time});if(q){for(var B=s[q-1].time,
J=[],G=[],K=0;K<q;K++){J.push(s[K].time/B);var N=s[K].value;"string"==typeof N&&(N=k.toArray(N),0===N.length&&(N[0]=N[1]=N[2]=0,N[3]=1),I=!0);G.push(N)}var O=0,Q=0,W,P,R,S,T,U;if(I)var V=[0,0,0,0];B=new b({target:g._target,life:B,loop:g._loop,delay:g._delay,onframe:function(c,b){if(b<Q){for(K=W=Math.min(O+1,q-1);0<=K&&!(J[K]<=b);K--);K=Math.min(K,q-2)}else{for(K=O;K<q&&!(J[K]>b);K++);K=Math.min(K-1,q-2)}O=K;Q=b;var k=J[K+1]-J[K];if(0!==k){P=(b-J[K])/k;if(n)if(S=G[K],R=G[0===K?K:K-1],T=G[K>q-2?q-1:
K+1],U=G[K>q-3?q-1:K+2],C)e(R,S,T,U,P,P*P,P*P*P,t(c,r),H);else{var y;I?(e(R,S,T,U,P,P*P,P*P*P,V,1),y=l(V)):y=m(R,S,T,U,P,P*P,P*P*P);h(c,r,y)}else C?p(G[K],G[K+1],P,t(c,r),H):(I?(p(G[K],G[K+1],P,V,1),y=l(V)):(k=G[K],y=(G[K+1]-k)*P+k),h(c,r,y));for(K=0;K<d;K++)g._onframeList[K](c,b)}},ondestroy:a});c&&"spline"!==c&&(B.easing=c);g._clipList.push(B);g._clipCount++;g.animation.add(B)}}},r;for(r in this._tracks)s(this._tracks[r],r);return this},stop:function(){for(var c=0;c<this._clipList.length;c++)this.animation.remove(this._clipList[c]);
this._clipList=[]},delay:function(c){return this._delay=c,this},done:function(c){return this._doneList.push(c),this}},q});
define("zrender/zrender","require ./lib/excanvas ./tool/util ./tool/log ./tool/guid ./Handler ./Painter ./Storage ./animation/Animation ./tool/env".split(" "),function(a){function q(b){return function(){for(var h=b.animatingShapes,g=0,c=h.length;g<c;g++)b.storage.mod(h[g].id);(h.length||b._needsRefreshNextFrame)&&b.refresh()}}function r(b,h){this.id=b;this.env=a("./tool/env");this.storage=new n;this.painter=new m(h,this.storage);this.handler=new e(h,this.storage,this.painter);this.animatingShapes=
[];this.animation=new l({stage:{update:q(this)}});this.animation.start();this._needsRefreshNextFrame=!1}a("./lib/excanvas");var s=a("./tool/util"),p=a("./tool/log"),f=a("./tool/guid"),e=a("./Handler"),m=a("./Painter"),n=a("./Storage"),l=a("./animation/Animation"),d={},b={};return b.version="2.0.2",b.init=function(b,h){var g=new r(f(),b,h||{});return d[g.id]=g,g},b.dispose=function(k){if(k)k.dispose();else{for(var h in d)d[h].dispose();d={}}return b},b.getInstance=function(b){return d[b]},b.delInstance=
function(k){return delete d[k],b},r.prototype.getId=function(){return this.id},r.prototype.addShape=function(b){return this.storage.addRoot(b),this},r.prototype.addGroup=function(b){return this.storage.addRoot(b),this},r.prototype.delShape=function(b){return this.storage.delRoot(b),this},r.prototype.delGroup=function(b){return this.storage.delRoot(b),this},r.prototype.modShape=function(b,h){return this.storage.mod(b,h),this},r.prototype.modGroup=function(b,h){return this.storage.mod(b,h),this},r.prototype.modLayer=
function(b,h){return this.painter.modLayer(b,h),this},r.prototype.addHoverShape=function(b){return this.storage.addHover(b),this},r.prototype.render=function(b){return this.painter.render(b),this._needsRefreshNextFrame=!1,this},r.prototype.refresh=function(b){return this.painter.refresh(b),this._needsRefreshNextFrame=!1,this},r.prototype.refreshNextFrame=function(){return this._needsRefreshNextFrame=!0,this},r.prototype.refreshHover=function(b){return this.painter.refreshHover(b),this},r.prototype.update=
function(b,h){return this.painter.update(b,h),this},r.prototype.resize=function(){return this.painter.resize(),this},r.prototype.animate=function(b,h,g){var c=this.storage.get(b);if(c){var t;if(h){for(var d=h.split("."),l=c,e=0,f=d.length;e<f;e++)l&&(l=l[d[e]]);l&&(t=l)}else t=c;if(!t){p('Property "'+h+'" is not existed in shape '+b);return}var n=this.animatingShapes;return"undefined"==typeof c.__aniCount&&(c.__aniCount=0),0===c.__aniCount&&n.push(c),c.__aniCount++,this.animation.animate(t,{loop:g}).done(function(){c.__aniCount--;
if(0===c.__aniCount){var b=s.indexOf(n,c);n.splice(b,1)}})}p('Shape "'+b+'" not existed')},r.prototype.clearAnimation=function(){this.animation.clear()},r.prototype.showLoading=function(b){return this.painter.showLoading(b),this},r.prototype.hideLoading=function(){return this.painter.hideLoading(),this},r.prototype.getWidth=function(){return this.painter.getWidth()},r.prototype.getHeight=function(){return this.painter.getHeight()},r.prototype.toDataURL=function(b,h,g){return this.painter.toDataURL(b,
h,g)},r.prototype.shapeToImage=function(b,h,g){var c=f();return this.painter.shapeToImage(c,b,h,g)},r.prototype.on=function(b,h){return this.handler.on(b,h),this},r.prototype.un=function(b,h){return this.handler.un(b,h),this},r.prototype.trigger=function(b,h){return this.handler.trigger(b,h),this},r.prototype.clear=function(){return this.storage.delRoot(),this.painter.clear(),this},r.prototype.dispose=function(){this.animation.stop();this.clear();this.storage.dispose();this.painter.dispose();this.handler.dispose();
this.animation=this.animatingShapes=this.storage=this.painter=this.handler=null;b.delInstance(this.id)},b});define("zrender",["zrender/zrender"],function(a){return a});
define("echarts/util/ecQuery",["zrender/tool/util"],function(){function a(a,s){if("undefined"!=typeof a){if(!s)return a;s=s.split(".");for(var p=s.length,f=0;f<p;){a=a[s[f]];if("undefined"==typeof a)return;f++}return a}}var q=require("zrender/tool/util");return{query:a,deepQuery:function(r,s){for(var p,f=0,e=r.length;f<e;f++)if(p=a(r[f],s),"undefined"!=typeof p)return p},deepMerge:function(r,s){for(var p,f=r.length;f--;){var e=a(r[f],s);"undefined"!=typeof e&&("undefined"==typeof p?p=q.clone(e):q.merge(p,
e,!0))}return p}}});
define("echarts/util/number",[],function(){function a(a,r){return"string"==typeof a?a.replace(/^\s+/,"").replace(/\s+$/,"").match(/%$/)?parseFloat(a)/100*r:parseFloat(a):a}return{parsePercent:a,parseCenter:function(q,r){return[a(r[0],q.getWidth()),a(r[1],q.getHeight())]},parseRadius:function(q,r){r instanceof Array||(r=[0,r]);var s=Math.min(q.getWidth(),q.getHeight())/2;return[a(r[0],s),a(r[1],s)]},addCommas:function(a){return isNaN(a)?"-":(a=(a+"").split("."),a[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+
(1<a.length?"."+a[1]:""))}}});
define("echarts/component/base","require ../config ../util/ecQuery ../util/number zrender/tool/util zrender/tool/env".split(" "),function(a){function q(e,f,n,l,d){this.ecTheme=e;this.messageCenter=f;this.zr=n;this.option=l;this.series=l.series;this.myChart=d;this.component=d.component;this._zlevelBase=this.getZlevelBase();this.shapeList=[];this.effectList=[];var b=this;b.hoverConnect=function(d){var h=(d.target||{}).hoverConnect;if(h){var g=10,c;if(h instanceof Array)for(var t=0,y=h.length;t<y;t++)c=
b.getShapeById(h[t]),b.zr.addHoverShape(c),g=Math.min(g,c.zlevel);else(c=b.getShapeById(h))&&(b.zr.addHoverShape(c),g=Math.min(g,c.zlevel));g<d.target.zlevel&&b.zr.addHoverShape(d.target)}}}var r=a("../config"),s=a("../util/ecQuery"),p=a("../util/number"),f=a("zrender/tool/util");return q.prototype={canvasSupported:a("zrender/tool/env").canvasSupported,getZlevelBase:function(e){e=e||this.type+"";switch(e){case r.COMPONENT_TYPE_GRID:case r.COMPONENT_TYPE_AXIS_CATEGORY:case r.COMPONENT_TYPE_AXIS_VALUE:case r.COMPONENT_TYPE_POLAR:return 0;
case r.CHART_TYPE_LINE:case r.CHART_TYPE_BAR:case r.CHART_TYPE_SCATTER:case r.CHART_TYPE_PIE:case r.CHART_TYPE_RADAR:case r.CHART_TYPE_MAP:case r.CHART_TYPE_K:case r.CHART_TYPE_CHORD:case r.CHART_TYPE_GUAGE:case r.CHART_TYPE_FUNNEL:return 2;case r.COMPONENT_TYPE_LEGEND:case r.COMPONENT_TYPE_DATARANGE:case r.COMPONENT_TYPE_DATAZOOM:case r.COMPONENT_TYPE_TIMELINE:return 4;case r.CHART_TYPE_ISLAND:return 5;case r.COMPONENT_TYPE_TOOLBOX:case r.COMPONENT_TYPE_TITLE:return 6;case r.COMPONENT_TYPE_TOOLTIP:return 8;
default:return 0}},reformOption:function(e){return f.merge(e||{},f.clone(this.ecTheme[this.type]||{}))},reformCssArray:function(e){if(!(e instanceof Array))return[e,e,e,e];switch(e.length+""){case "4":return e;case "3":return[e[0],e[1],e[2],e[1]];case "2":return[e[0],e[1],e[0],e[1]];case "1":return[e[0],e[0],e[0],e[0]];case "0":return[0,0,0,0]}},getShapeById:function(e){for(var f=0,n=this.shapeList.length;f<n;f++)if(this.shapeList[f].id==e)return this.shapeList[f];return null},getFont:function(e){e=
f.merge(f.clone(e)||{},this.ecTheme.textStyle);return e.fontStyle+" "+e.fontWeight+" "+e.fontSize+"px "+e.fontFamily},getItemStyleColor:function(e,f,n,l){return"function"==typeof e?e(f,n,l):e},subPixelOptimize:function(e,f){return 1==f%2?e=Math.floor(e)+.5:e=Math.round(e),e},resize:function(){this.refresh&&this.refresh();this.clearEffectShape&&this.clearEffectShape(!0);var e=this;setTimeout(function(){e.animationEffect&&e.animationEffect()},200)},clear:function(){this.clearEffectShape&&this.clearEffectShape();
this.zr&&this.zr.delShape(this.shapeList);this.shapeList=[]},dispose:function(){this.clear();this.effectList=this.shapeList=null},query:s.query,deepQuery:s.deepQuery,deepMerge:s.deepMerge,parsePercent:p.parsePercent,parseCenter:p.parseCenter,parseRadius:p.parseRadius,numAddCommas:p.addCommas},q});
define("zrender/tool/math",[],function(){var a=Math.PI/180;return{sin:function(q,r){return Math.sin(r?q*a:q)},cos:function(q,r){return Math.cos(r?q*a:q)},degreeToRadian:function(q){return q*a},radianToDegree:function(q){return q/a}}});
define("zrender/shape/Star",["require","../tool/math","./Base","../tool/util"],function(a){function q(f){e.call(this,f)}var r=a("../tool/math"),s=r.sin,p=r.cos,f=Math.PI,e=a("./Base");return q.prototype={type:"star",buildPath:function(e,n){var l=n.n;if(l&&!(2>l)){var d=n.x,b=n.y,k=n.r,h=n.r0;null==h&&(h=4<l?k*p(2*f/l)/p(f/l):k/3);var g=f/l,c=-f/2,t=d+k*p(c),y=b+k*s(c),c=c+g,v=n.pointList=[];v.push([t,y]);for(var a=0,l=2*l-1,L;a<l;a++)L=0===a%2?h:k,v.push([d+L*p(c),b+L*s(c)]),c+=g;v.push([t,y]);e.moveTo(v[0][0],
v[0][1]);for(a=0;a<v.length;a++)e.lineTo(v[a][0],v[a][1])}},getRect:function(e){if(e.__rect)return e.__rect;var f;return"stroke"==e.brushType||"fill"==e.brushType?f=e.lineWidth||1:f=0,e.__rect={x:Math.round(e.x-e.r-f/2),y:Math.round(e.y-e.r-f/2),width:2*e.r+f,height:2*e.r+f},e.__rect}},a("../tool/util").inherits(q,e),q});
define("zrender/shape/Heart",["require","./Base","../tool/util"],function(a){function q(a){r.call(this,a)}var r=a("./Base");return q.prototype={type:"heart",buildPath:function(a,p){a.moveTo(p.x,p.y);a.bezierCurveTo(p.x+p.a/2,p.y-2*p.b/3,p.x+2*p.a,p.y+p.b/3,p.x,p.y+p.b);a.bezierCurveTo(p.x-2*p.a,p.y+p.b/3,p.x-p.a/2,p.y-2*p.b/3,p.x,p.y)},getRect:function(a){if(a.__rect)return a.__rect;var p;return"stroke"==a.brushType||"fill"==a.brushType?p=a.lineWidth||1:p=0,a.__rect={x:Math.round(a.x-a.a-p/2),y:Math.round(a.y-
a.b/4-p/2),width:2*a.a+p,height:5*a.b/4+p},a.__rect}},a("../tool/util").inherits(q,r),q});
define("zrender/shape/Droplet",["require","./Base","../tool/util"],function(a){function q(a){r.call(this,a)}var r=a("./Base");return q.prototype={type:"droplet",buildPath:function(a,p){a.moveTo(p.x,p.y+p.a);a.bezierCurveTo(p.x+p.a,p.y+p.a,p.x+3*p.a/2,p.y-p.a/3,p.x,p.y-p.b);a.bezierCurveTo(p.x-3*p.a/2,p.y-p.a/3,p.x-p.a,p.y+p.a,p.x,p.y+p.a)},getRect:function(a){if(a.__rect)return a.__rect;var p;return"stroke"==a.brushType||"fill"==a.brushType?p=a.lineWidth||1:p=0,a.__rect={x:Math.round(a.x-a.a-p/2),
y:Math.round(a.y-a.b-p/2),width:2*a.a+p,height:a.a+a.b+p},a.__rect}},a("../tool/util").inherits(q,r),q});
define("echarts/util/shape/Icon","require zrender/tool/util zrender/shape/Star zrender/shape/Heart zrender/shape/Droplet zrender/shape/Image zrender/shape/Base".split(" "),function(a){function q(a){s.call(this,a)}var r=a("zrender/tool/util"),s=a("zrender/shape/Base");return q.prototype={type:"icon",iconLibrary:{mark:function(a,f){var e=f.width/16,m=f.height/16;a.moveTo(f.x,f.y+f.height);a.lineTo(f.x+5*e,f.y+14*m);a.lineTo(f.x+f.width,f.y+3*m);a.lineTo(f.x+13*e,f.y);a.lineTo(f.x+2*e,f.y+11*m);a.lineTo(f.x,
f.y+f.height);a.moveTo(f.x+6*e,f.y+10*m);a.lineTo(f.x+14*e,f.y+2*m);a.moveTo(f.x+10*e,f.y+13*m);a.lineTo(f.x+f.width,f.y+13*m);a.moveTo(f.x+13*e,f.y+10*m);a.lineTo(f.x+13*e,f.y+f.height);a.moveTo(f.x,f.y)},markUndo:function(a,f){var e=f.width/16,m=f.height/16;a.moveTo(f.x,f.y+f.height);a.lineTo(f.x+5*e,f.y+14*m);a.lineTo(f.x+f.width,f.y+3*m);a.lineTo(f.x+13*e,f.y);a.lineTo(f.x+2*e,f.y+11*m);a.lineTo(f.x,f.y+f.height);a.moveTo(f.x+6*e,f.y+10*m);a.lineTo(f.x+14*e,f.y+2*m);a.moveTo(f.x+10*e,f.y+13*m);
a.lineTo(f.x+f.width,f.y+13*m);a.moveTo(f.x,f.y)},markClear:function(a,f){var e=f.width/16,m=f.height/16;a.moveTo(f.x+4*e,f.y+15*m);a.lineTo(f.x+9*e,f.y+13*m);a.lineTo(f.x+14*e,f.y+8*m);a.lineTo(f.x+11*e,f.y+5*m);a.lineTo(f.x+6*e,f.y+10*m);a.lineTo(f.x+4*e,f.y+15*m);a.moveTo(f.x+5*e,f.y);a.lineTo(f.x+11*e,f.y);a.moveTo(f.x+5*e,f.y+m);a.lineTo(f.x+11*e,f.y+m);a.moveTo(f.x,f.y+2*m);a.lineTo(f.x+f.width,f.y+2*m);a.moveTo(f.x,f.y+5*m);a.lineTo(f.x+3*e,f.y+f.height);a.lineTo(f.x+13*e,f.y+f.height);a.lineTo(f.x+
f.width,f.y+5*m);a.moveTo(f.x,f.y)},dataZoom:function(a,f){var e=f.width/16,m=f.height/16;a.moveTo(f.x,f.y+3*m);a.lineTo(f.x+6*e,f.y+3*m);a.moveTo(f.x+3*e,f.y);a.lineTo(f.x+3*e,f.y+6*m);a.moveTo(f.x+3*e,f.y+8*m);a.lineTo(f.x+3*e,f.y+f.height);a.lineTo(f.x+f.width,f.y+f.height);a.lineTo(f.x+f.width,f.y+3*m);a.lineTo(f.x+8*e,f.y+3*m);a.moveTo(f.x,f.y)},dataZoomReset:function(a,f){var e=f.width/16,m=f.height/16;a.moveTo(f.x+6*e,f.y);a.lineTo(f.x+2*e,f.y+3*m);a.lineTo(f.x+6*e,f.y+6*m);a.moveTo(f.x+2*
e,f.y+3*m);a.lineTo(f.x+14*e,f.y+3*m);a.lineTo(f.x+14*e,f.y+11*m);a.moveTo(f.x+2*e,f.y+5*m);a.lineTo(f.x+2*e,f.y+13*m);a.lineTo(f.x+14*e,f.y+13*m);a.moveTo(f.x+10*e,f.y+10*m);a.lineTo(f.x+14*e,f.y+13*m);a.lineTo(f.x+10*e,f.y+f.height);a.moveTo(f.x,f.y)},restore:function(a,f){var e=f.width/16,m=f.height/16,n=f.width/2;a.lineWidth=1.5;a.arc(f.x+n,f.y+n,n-e,0,2*Math.PI/3);a.moveTo(f.x+3*e,f.y+f.height);a.lineTo(f.x+0*e,f.y+12*m);a.lineTo(f.x+5*e,f.y+11*m);a.moveTo(f.x,f.y+8*m);a.arc(f.x+n,f.y+n,n-e,
Math.PI,5*Math.PI/3);a.moveTo(f.x+13*e,f.y);a.lineTo(f.x+f.width,f.y+4*m);a.lineTo(f.x+11*e,f.y+5*m);a.moveTo(f.x,f.y)},lineChart:function(a,f){var e=f.width/16,m=f.height/16;a.moveTo(f.x,f.y);a.lineTo(f.x,f.y+f.height);a.lineTo(f.x+f.width,f.y+f.height);a.moveTo(f.x+2*e,f.y+14*m);a.lineTo(f.x+7*e,f.y+6*m);a.lineTo(f.x+11*e,f.y+11*m);a.lineTo(f.x+15*e,f.y+2*m);a.moveTo(f.x,f.y)},barChart:function(a,f){var e=f.width/16,m=f.height/16;a.moveTo(f.x,f.y);a.lineTo(f.x,f.y+f.height);a.lineTo(f.x+f.width,
f.y+f.height);a.moveTo(f.x+3*e,f.y+14*m);a.lineTo(f.x+3*e,f.y+6*m);a.lineTo(f.x+4*e,f.y+6*m);a.lineTo(f.x+4*e,f.y+14*m);a.moveTo(f.x+7*e,f.y+14*m);a.lineTo(f.x+7*e,f.y+2*m);a.lineTo(f.x+8*e,f.y+2*m);a.lineTo(f.x+8*e,f.y+14*m);a.moveTo(f.x+11*e,f.y+14*m);a.lineTo(f.x+11*e,f.y+9*m);a.lineTo(f.x+12*e,f.y+9*m);a.lineTo(f.x+12*e,f.y+14*m);a.moveTo(f.x,f.y)},stackChart:function(a,f){for(var e=f.x,m=f.y,n=f.width,l=Math.round(f.height/3),d=3;d--;)a.rect(e,m+l*d+2,n,2);a.moveTo(f.x,f.y)},tiledChart:function(a,
f){for(var e=f.x,m=f.y,n=f.height,l=Math.round(f.width/3),d=3;d--;)a.rect(e+l*d,m,2,n);a.moveTo(f.x,f.y)},dataView:function(a,f){var e=f.width/16;a.moveTo(f.x+e,f.y);a.lineTo(f.x+e,f.y+f.height);a.lineTo(f.x+15*e,f.y+f.height);a.lineTo(f.x+15*e,f.y);a.lineTo(f.x+e,f.y);a.moveTo(f.x+3*e,f.y+3*e);a.lineTo(f.x+13*e,f.y+3*e);a.moveTo(f.x+3*e,f.y+6*e);a.lineTo(f.x+13*e,f.y+6*e);a.moveTo(f.x+3*e,f.y+9*e);a.lineTo(f.x+13*e,f.y+9*e);a.moveTo(f.x+3*e,f.y+12*e);a.lineTo(f.x+9*e,f.y+12*e);a.moveTo(f.x,f.y)},
saveAsImage:function(a,f){var e=f.width/16,m=f.height/16;a.moveTo(f.x,f.y);a.lineTo(f.x,f.y+f.height);a.lineTo(f.x+f.width,f.y+f.height);a.lineTo(f.x+f.width,f.y);a.lineTo(f.x,f.y);a.moveTo(f.x+4*e,f.y);a.lineTo(f.x+4*e,f.y+8*m);a.lineTo(f.x+12*e,f.y+8*m);a.lineTo(f.x+12*e,f.y);a.moveTo(f.x+6*e,f.y+11*m);a.lineTo(f.x+6*e,f.y+13*m);a.lineTo(f.x+10*e,f.y+13*m);a.lineTo(f.x+10*e,f.y+11*m);a.lineTo(f.x+6*e,f.y+11*m);a.moveTo(f.x,f.y)},cross:function(a,f){var e=f.x,m=f.y,n=f.width,l=f.height;a.moveTo(e,
m+l/2);a.lineTo(e+n,m+l/2);a.moveTo(e+n/2,m);a.lineTo(e+n/2,m+l)},circle:function(a,f){var e=f.width/2,m=f.height/2,n=Math.min(e,m);a.moveTo(f.x+e+n,f.y+m);a.arc(f.x+e,f.y+m,n,0,2*Math.PI)},rectangle:function(a,f){a.rect(f.x,f.y,f.width,f.height)},triangle:function(a,f){var e=f.width/2,m=f.height/2,n=f.x+e,l=f.y+m,e=Math.min(e,m);a.moveTo(n,l-e);a.lineTo(n+e,l+e);a.lineTo(n-e,l+e);a.lineTo(n,l-e)},diamond:function(a,f){var e=f.width/2,m=f.height/2,n=f.x+e,l=f.y+m,e=Math.min(e,m);a.moveTo(n,l-e);a.lineTo(n+
e,l);a.lineTo(n,l+e);a.lineTo(n-e,l);a.lineTo(n,l-e)},arrow:function(a,f){var e=f.x,m=f.y,n=f.width/16;a.moveTo(e+8*n,m);a.lineTo(e+n,m+f.height);a.lineTo(e+8*n,m+f.height/4*3);a.lineTo(e+15*n,m+f.height);a.lineTo(e+8*n,m)},star:function(p,f){var e=a("zrender/shape/Star"),m=f.width/2,n=f.height/2;e.prototype.buildPath(p,{x:f.x+m,y:f.y+n,r:Math.min(m,n),n:f.n||5})},heart:function(p,f){a("zrender/shape/Heart").prototype.buildPath(p,{x:f.x+f.width/2,y:f.y+.2*f.height,a:f.width/2,b:.8*f.height})},droplet:function(p,
f){a("zrender/shape/Droplet").prototype.buildPath(p,{x:f.x+.5*f.width,y:f.y+.5*f.height,a:.5*f.width,b:.8*f.height})},pin:function(a,f){var e=f.x,m=f.y-f.height/2*1.5,n=f.width/2,l=f.height/2,d=Math.min(n,l);a.arc(e+n,m+l,d,Math.PI/5*4,Math.PI/5);a.lineTo(e+n,m+l+1.5*d)},image:function(p,f){setTimeout(function(){(new (a("zrender/shape/Image"))({style:f})).brush(p)},100)}},buildPath:function(a,f){this.iconLibrary[f.iconType]?this.iconLibrary[f.iconType](a,f):(a.moveTo(f.x,f.y),a.lineTo(f.x+f.width,
f.y),a.lineTo(f.x+f.width,f.y+f.height),a.lineTo(f.x,f.y+f.height),a.lineTo(f.x,f.y))},getRect:function(a){return a.__rect?a.__rect:(a.__rect={x:Math.round(a.x),y:Math.round(a.y-("pin"==a.iconType?a.height/2*1.5:0)),width:a.width,height:a.height},a.__rect)},isCover:function(a,f){var e=this.getTansform(a,f);a=e[0];f=e[1];(e=this.style.__rect)||(e=this.style.__rect=this.getRect(this.style));var m=8>e.height||8>e.width?4:0;return a>=e.x-m&&a<=e.x+e.width+m&&f>=e.y-m&&f<=e.y+e.height+m?!0:!1}},r.inherits(q,
s),q});define("zrender/shape/util/dashedLineTo",[],function(){var a=[5,5];return function(q,r,s,p,f,e){if(q.setLineDash)a[0]=a[1]=e,q.setLineDash(a),q.moveTo(r,s);else{e="number"!=typeof e?5:e;var m=p-r,n=f-s;e=Math.floor(Math.sqrt(m*m+n*n)/e);for(var m=m/e,n=n/e,l=!0,d=0;d<e;++d)l?q.moveTo(r,s):q.lineTo(r,s),l=!l,r+=m,s+=n}q.lineTo(p,f)}});
define("zrender/shape/Line",["require","./Base","./util/dashedLineTo","../tool/util"],function(a){function q(a){this.brushTypeOnly="stroke";this.textPosition="end";r.call(this,a)}var r=a("./Base"),s=a("./util/dashedLineTo");return q.prototype={type:"line",buildPath:function(a,f){f.lineType&&"solid"!=f.lineType?"dashed"!=f.lineType&&"dotted"!=f.lineType||s(a,f.xStart,f.yStart,f.xEnd,f.yEnd,(f.lineWidth||1)*("dashed"==f.lineType?5:1)):(a.moveTo(f.xStart,f.yStart),a.lineTo(f.xEnd,f.yEnd))},getRect:function(a){if(a.__rect)return a.__rect;
var f=a.lineWidth||1;return a.__rect={x:Math.min(a.xStart,a.xEnd)-f,y:Math.min(a.yStart,a.yEnd)-f,width:Math.abs(a.xStart-a.xEnd)+f,height:Math.abs(a.yStart-a.yEnd)+f},a.__rect}},a("../tool/util").inherits(q,r),q});
define("zrender/tool/vector",[],function(){var a="undefined"==typeof Float32Array?Array:Float32Array,q={create:function(r,s){var p=new a(2);return p[0]=r||0,p[1]=s||0,p},copy:function(a,s){a[0]=s[0];a[1]=s[1]},set:function(a,s,p){a[0]=s;a[1]=p},add:function(a,s,p){return a[0]=s[0]+p[0],a[1]=s[1]+p[1],a},scaleAndAdd:function(a,s,p,f){return a[0]=s[0]+p[0]*f,a[1]=s[1]+p[1]*f,a},sub:function(a,s,p){return a[0]=s[0]-p[0],a[1]=s[1]-p[1],a},length:function(a){return Math.sqrt(this.lengthSquare(a))},lengthSquare:function(a){return a[0]*
a[0]+a[1]*a[1]},mul:function(a,s,p){return a[0]=s[0]*p[0],a[1]=s[1]*p[1],a},dot:function(a,s){return a[0]*s[0]+a[1]*s[1]},scale:function(a,s,p){return a[0]=s[0]*p,a[1]=s[1]*p,a},normalize:function(a,s){var p=q.length(s);return 0===p?(a[0]=0,a[1]=0):(a[0]=s[0]/p,a[1]=s[1]/p),a},distance:function(a,s){return Math.sqrt((a[0]-s[0])*(a[0]-s[0])+(a[1]-s[1])*(a[1]-s[1]))},negate:function(a,s){a[0]=-s[0];a[1]=-s[1]},middle:function(a,s,p){return a[0]=(s[0]+p[0])/2,a[1]=(s[1]+p[1])/2,a},applyTransform:function(a,
s,p){var f=s[0];s=s[1];return a[0]=p[0]*f+p[2]*s+p[4],a[1]=p[1]*f+p[3]*s+p[5],a}};return q.len=q.length,q.dist=q.distance,q});
define("zrender/shape/util/smoothSpline",["require","../../tool/vector"],function(a){function q(a,p,f,e,m,n,l){a=.5*(f-a);e=.5*(e-p);return(2*(p-f)+a+e)*l+(-3*(p-f)-2*a-e)*n+a*m+p}var r=a("../../tool/vector");return function(a,p){for(var f=a.length,e=[],m=0,n=1;n<f;n++)m+=r.distance(a[n-1],a[n]);m/=5;m=m<f?f:m;for(n=0;n<m;n++){var l=n/(m-1)*(p?f:f-1),d=Math.floor(l),l=l-d,b,k=a[d%f],h,g;p?(b=a[(d-1+f)%f],h=a[(d+1)%f],g=a[(d+2)%f]):(b=a[0===d?d:d-1],h=a[d>f-2?f-1:d+1],g=a[d>f-3?f-1:d+2]);var d=l*l,
c=l*d;e.push([q(b[0],k[0],h[0],g[0],l,d,c),q(b[1],k[1],h[1],g[1],l,d,c)])}return e}});
define("zrender/shape/util/smoothBezier",["require","../../tool/vector"],function(a){var q=a("../../tool/vector");return function(a,s,p){for(var f=[],e=[],m=[],n=[],l,d,b=0,k=a.length;b<k;b++){var h=a[b];if(p)l=a[b?b-1:k-1],d=a[(b+1)%k];else{if(0===b||b===k-1){f.push(a[b]);continue}l=a[b-1];d=a[b+1]}q.sub(e,d,l);q.scale(e,e,s);l=q.distance(h,l);d=q.distance(h,d);var g=l+d;l/=g;d/=g;q.scale(m,e,-l);q.scale(n,e,d);f.push(q.add([],h,m));f.push(q.add([],h,n))}return p&&f.push(f.shift()),f}});
define("zrender/shape/Polygon","require ./Base ./util/smoothSpline ./util/smoothBezier ./util/dashedLineTo ../tool/util".split(" "),function(a){function q(a){r.call(this,a)}var r=a("./Base"),s=a("./util/smoothSpline"),p=a("./util/smoothBezier"),f=a("./util/dashedLineTo");return q.prototype={type:"polygon",brush:function(a,f){var n=this.style;f&&(n=this.getHighlightStyle(n,this.highlightStyle||{}));a.save();this.setContext(a,n);this.setTransform(a);var l=!1;if("fill"==n.brushType||"both"==n.brushType||
"undefined"==typeof n.brushType)a.beginPath(),"dashed"==n.lineType||"dotted"==n.lineType?(this.buildPath(a,{lineType:"solid",lineWidth:n.lineWidth,pointList:n.pointList}),l=!1):(this.buildPath(a,n),l=!0),a.closePath(),a.fill();0<n.lineWidth&&("stroke"==n.brushType||"both"==n.brushType)&&(l||(a.beginPath(),this.buildPath(a,n),a.closePath()),a.stroke());this.drawText(a,n,this.style);a.restore()},buildPath:function(a,m){var n=m.pointList;if(!(2>n.length))if(m.smooth&&"spline"!==m.smooth){var l=p(n,m.smooth,
!0);a.moveTo(n[0][0],n[0][1]);for(var d,b,k,h=n.length,g=0;g<h;g++)d=l[2*g],b=l[2*g+1],k=n[(g+1)%h],a.bezierCurveTo(d[0],d[1],b[0],b[1],k[0],k[1])}else if("spline"===m.smooth&&(n=s(n,!0)),!m.lineType||"solid"==m.lineType){a.moveTo(n[0][0],n[0][1]);g=1;for(l=n.length;g<l;g++)a.lineTo(n[g][0],n[g][1]);a.lineTo(n[0][0],n[0][1])}else if("dashed"==m.lineType||"dotted"==m.lineType){d=m._dashLength||(m.lineWidth||1)*("dashed"==m.lineType?5:1);m._dashLength=d;a.moveTo(n[0][0],n[0][1]);g=1;for(l=n.length;g<
l;g++)f(a,n[g-1][0],n[g-1][1],n[g][0],n[g][1],d);f(a,n[n.length-1][0],n[n.length-1][1],n[0][0],n[0][1],d)}},getRect:function(a){if(a.__rect)return a.__rect;for(var f=Number.MAX_VALUE,n=Number.MIN_VALUE,l=Number.MAX_VALUE,d=Number.MIN_VALUE,b=a.pointList,k=0,h=b.length;k<h;k++)b[k][0]<f&&(f=b[k][0]),b[k][0]>n&&(n=b[k][0]),b[k][1]<l&&(l=b[k][1]),b[k][1]>d&&(d=b[k][1]);var g;return"stroke"==a.brushType||"fill"==a.brushType?g=a.lineWidth||1:g=0,a.__rect={x:Math.round(f-g/2),y:Math.round(l-g/2),width:n-
f+g,height:d-l+g},a.__rect}},a("../tool/util").inherits(q,r),q});
define("zrender/shape/BrokenLine","require ./Base ./util/smoothSpline ./util/smoothBezier ./util/dashedLineTo ./Polygon ../tool/util".split(" "),function(a){function q(a){this.brushTypeOnly="stroke";this.textPosition="end";r.call(this,a)}var r=a("./Base"),s=a("./util/smoothSpline"),p=a("./util/smoothBezier"),f=a("./util/dashedLineTo");return q.prototype={type:"broken-line",buildPath:function(a,m){var n=m.pointList;if(!(2>n.length)){var l=Math.min(m.pointList.length,Math.round(m.pointListLength||m.pointList.length));
if(m.smooth&&"spline"!==m.smooth){var d=p(n,m.smooth);a.moveTo(n[0][0],n[0][1]);for(var b,k,h,g=0;g<l-1;g++)b=d[2*g],k=d[2*g+1],h=n[g+1],a.bezierCurveTo(b[0],b[1],k[0],k[1],h[0],h[1])}else if("spline"===m.smooth&&(n=s(n),l=n.length),!m.lineType||"solid"==m.lineType)for(a.moveTo(n[0][0],n[0][1]),g=1;g<l;g++)a.lineTo(n[g][0],n[g][1]);else if("dashed"==m.lineType||"dotted"==m.lineType)for(d=(m.lineWidth||1)*("dashed"==m.lineType?5:1),a.moveTo(n[0][0],n[0][1]),g=1;g<l;g++)f(a,n[g-1][0],n[g-1][1],n[g][0],
n[g][1],d)}},getRect:function(e){return a("./Polygon").prototype.getRect(e)}},a("../tool/util").inherits(q,r),q});
define("echarts/util/shape/MarkLine","require zrender/shape/Base ./Icon zrender/shape/Line zrender/shape/BrokenLine zrender/tool/matrix zrender/tool/area zrender/shape/util/dashedLineTo zrender/shape/util/smoothSpline zrender/tool/util".split(" "),function(a){function q(d){r.call(this,d)}var r=a("zrender/shape/Base"),s=a("./Icon"),p=new (a("zrender/shape/Line"))({}),f=new (a("zrender/shape/BrokenLine"))({}),e=a("zrender/tool/matrix"),m=a("zrender/tool/area"),n=a("zrender/shape/util/dashedLineTo"),
l=a("zrender/shape/util/smoothSpline");a=a("zrender/tool/util");return q.prototype={type:"mark-line",brush:function(d,b){var k=this.style;b&&(k=this.getHighlightStyle(k,this.highlightStyle||{}));d.save();this.setContext(d,k);this.setTransform(d);d.beginPath();this.buildLinePath(d,k);d.stroke();this.brushSymbol(d,k,0);this.brushSymbol(d,k,1);this.drawText(d,k,this.style);d.restore()},buildLinePath:function(d,b){var k=b.pointList||this.getPointList(b);b.pointList=k;var h=Math.min(b.pointList.length,
Math.round(b.pointListLength||b.pointList.length));if(!b.lineType||"solid"==b.lineType){d.moveTo(k[0][0],k[0][1]);for(var g=1;g<h;g++)d.lineTo(k[g][0],k[g][1])}else if("dashed"==b.lineType||"dotted"==b.lineType)if("spline"!==b.smooth){var c=(b.lineWidth||1)*("dashed"==b.lineType?5:1);d.moveTo(k[0][0],k[0][1]);for(g=1;g<h;g++)n(d,k[g-1][0],k[g-1][1],k[g][0],k[g][1],c)}else for(g=1;g<h;g+=2)d.moveTo(k[g-1][0],k[g-1][1]),d.lineTo(k[g][0],k[g][1])},brushSymbol:function(d,b,k){if("none"!=b.symbol[k]){d.save();
d.beginPath();d.lineWidth=b.symbolBorder;d.strokeStyle=b.symbolBorderColor;b.iconType=b.symbol[k].replace("empty","").toLowerCase();b.symbol[k].match("empty")&&(d.fillStyle="#fff");var h=Math.min(b.pointList.length,Math.round(b.pointListLength||b.pointList.length)),g=0===k?b.pointList[0][0]:b.pointList[h-1][0],h=0===k?b.pointList[0][1]:b.pointList[h-1][1],c="undefined"!=typeof b.symbolRotate[k]?b.symbolRotate[k]-0:0,t;0!==c&&(t=e.create(),e.identity(t),(g||h)&&e.translate(t,t,[-g,-h]),e.rotate(t,
t,c*Math.PI/180),(g||h)&&e.translate(t,t,[g,h]),d.transform.apply(d,t));"arrow"==b.iconType&&0===c?this.buildArrawPath(d,b,k):(k=b.symbolSize[k],b.x=g-k,b.y=h-k,b.width=2*k,b.height=2*k,s.prototype.buildPath(d,b));d.closePath();d.fill();d.stroke();d.restore()}},buildArrawPath:function(d,b,k){var h=Math.min(b.pointList.length,Math.round(b.pointListLength||b.pointList.length)),g=2*b.symbolSize[k],c=b.pointList[0][0],t=b.pointList[h-1][0],a=b.pointList[0][1],h=b.pointList[h-1][1],l=0;"spline"===b.smooth&&
(l=.2);b=Math.atan(Math.abs((h-a)/(c-t)));0===k?t>c?h>a?b=2*Math.PI-b+l:b+=l:h>a?b+=Math.PI-l:b=Math.PI-b-l:c>t?a>h?b=2*Math.PI-b+l:b+=l:a>h?b+=Math.PI-l:b=Math.PI-b-l;l=Math.PI/8;c=0===k?c:t;k=0===k?a:h;g=[[c+g*Math.cos(b-l),k-g*Math.sin(b-l)],[c+.6*g*Math.cos(b),k-.6*g*Math.sin(b)],[c+g*Math.cos(b+l),k-g*Math.sin(b+l)]];d.moveTo(c,k);a=0;for(t=g.length;a<t;a++)d.lineTo(g[a][0],g[a][1]);d.lineTo(c,k)},getPointList:function(d){var b=[[d.xStart,d.yStart],[d.xEnd,d.yEnd]];if("spline"===d.smooth){d=
b[1][0];var k=b[1][1];b[3]=[d,k];b[1]=this.getOffetPoint(b[0],b[3]);b[2]=this.getOffetPoint(b[3],b[0]);b=l(b,!1);b[b.length-1]=[d,k]}return b},getOffetPoint:function(d,b){var k=Math.sqrt(Math.round((d[0]-b[0])*(d[0]-b[0])+(d[1]-b[1])*(d[1]-b[1])))/3,h=[d[0],d[1]],g;d[0]!=b[0]&&d[1]!=b[1]?g=Math.atan((b[1]-d[1])/(b[0]-d[0])):d[0]==b[0]?g=(d[1]<=b[1]?1:-1)*Math.PI/2:g=0;var c,t;return d[0]<=b[0]?(g-=.2,c=Math.round(Math.cos(g)*k),t=Math.round(Math.sin(g)*k),h[0]+=c,h[1]+=t):(g+=.2,c=Math.round(Math.cos(g)*
k),t=Math.round(Math.sin(g)*k),h[0]-=c,h[1]-=t),h},getRect:function(d){if(d.__rect)return d.__rect;var b=d.lineWidth||1;return d.__rect={x:Math.min(d.xStart,d.xEnd)-b,y:Math.min(d.yStart,d.yEnd)-b,width:Math.abs(d.xStart-d.xEnd)+b,height:Math.abs(d.yStart-d.yEnd)+b},d.__rect},isCover:function(d,b){var k=this.getTansform(d,b);d=k[0];b=k[1];k=this.style.__rect;return k||(k=this.style.__rect=this.getRect(this.style)),d>=k.x&&d<=k.x+k.width&&b>=k.y&&b<=k.y+k.height?"spline"!==this.style.smooth?m.isInside(p,
this.style,d,b):m.isInside(f,this.style,d,b):!1}},a.inherits(q,r),q});define("echarts/util/shape/normalIsCover",[],function(){return function(a,q){var r=this.getTansform(a,q);a=r[0];q=r[1];r=this.style.__rect;return r||(r=this.style.__rect=this.getRect(this.style)),a>=r.x&&a<=r.x+r.width&&q>=r.y&&q<=r.y+r.height}});
define("echarts/util/shape/Symbol",["require","zrender/shape/Base","zrender/shape/Polygon","zrender/tool/util","./normalIsCover"],function(a){function q(a){r.call(this,a)}var r=a("zrender/shape/Base"),s=new (a("zrender/shape/Polygon"))({}),p=a("zrender/tool/util");return q.prototype={type:"symbol",buildPath:function(a,e){var m=e.pointList,n=m.length;if(0!==n)for(var l=Math.ceil(n/1E4),d,b,k=m[0]instanceof Array,h=e.size?e.size:2,g=h,c=h/2,t=2*Math.PI,y,v,F,L=0;L<l;L++){a.beginPath();d=1E4*L;b=d+1E4;
for(b=b>n?n:b;d<b;d++)if(e.random&&(y=e["randomMap"+d%20]/100,g=h*y*y,c=g/2),k?(v=m[d][0],F=m[d][1]):(v=m[d].x,F=m[d].y),3>g)a.rect(v-c,F-c,g,g);else switch(e.iconType){case "circle":a.moveTo(v,F);a.arc(v,F,c,0,t,!0);break;case "diamond":a.moveTo(v,F-c);a.lineTo(v+c/3,F-c/3);a.lineTo(v+c,F);a.lineTo(v+c/3,F+c/3);a.lineTo(v,F+c);a.lineTo(v-c/3,F+c/3);a.lineTo(v-c,F);a.lineTo(v-c/3,F-c/3);a.lineTo(v,F-c);break;default:a.rect(v-c,F-c,g,g)}a.closePath();if(L<l-1)switch(e.brushType){case "both":a.fill();
0<e.lineWidth&&a.stroke();break;case "stroke":0<e.lineWidth&&a.stroke();break;default:a.fill()}}},getRect:function(a){return a.__rect||s.getRect(a)},isCover:a("./normalIsCover")},p.inherits(q,r),q});
define("echarts/util/ecData",[],function(){return{pack:function(a,q,r,s,p,f,e,m){var n;return"undefined"!=typeof s&&(n=null==s.value?s:s.value),a._echartsData={_series:q,_seriesIndex:r,_data:s,_dataIndex:p,_name:f,_value:n,_special:e,_special2:m},a._echartsData},set:function(a,q,r){a._echartsData=a._echartsData||{};switch(q){case "series":case "seriesIndex":case "data":case "dataIndex":case "name":case "value":case "special":case "special2":a._echartsData["_"+q]=r}},get:function(a,q){var r=a._echartsData;
if(!q)return r;switch(q){case "series":case "seriesIndex":case "data":case "dataIndex":case "name":case "value":case "special":case "special2":return r&&r["_"+q]}return null},clone:function(a,q){q._echartsData={_series:a._echartsData._series,_seriesIndex:a._echartsData._seriesIndex,_data:a._echartsData._data,_dataIndex:a._echartsData._dataIndex,_name:a._echartsData._name,_value:a._echartsData._value,_special:a._echartsData._special,_special2:a._echartsData._special2}}}});
define("echarts/util/ecAnimation",["require","zrender/tool/util","zrender/shape/Polygon"],function(a){function q(a,f){for(var e=arguments.length,m=2;m<e;m++){var n=arguments[m];a.style[n]=f.style[n]}}function r(a,f,e,m,n){var l=e.style;f||(f={style:{x:l.x,y:"vertical"==e._orient?l.y+l.height:l.y,width:"vertical"==e._orient?l.width:0,height:"vertical"!=e._orient?l.height:0}});var d=l.x,b=l.y,k=l.width,l=l.height;q(e,f,"x","y","width","height");a.addShape(e);a.animate(e.id,"style").when(m,{x:d,y:b,
width:k,height:l}).start(n)}var s=a("zrender/tool/util");return{pointList:function(a,f,e,m,n){var l=e.style.pointList,d=l.length;if(!f){f=[];if("vertical"!=e._orient)for(var b=l[0][1],k=0;k<d;k++)f[k]=[l[k][0],b];else for(b=l[0][0],k=0;k<d;k++)f[k]=[b,l[k][1]];"half-smooth-polygon"==e.type&&(f[d-1]=s.clone(l[d-1]),f[d-2]=s.clone(l[d-2]));f={style:{pointList:f}}}f=f.style.pointList;k=f.length;k==d?e.style.pointList=f:k<d?e.style.pointList=f.concat(l.slice(k)):e.style.pointList=f.slice(0,d);a.addShape(e);
a.animate(e.id,"style").when(m,{pointList:l}).start(n)},rectangle:r,candle:function(a,f,e,m,n){f||(f=e.style.y,f={style:{y:[f[0],f[0],f[0],f[0]]}});var l=e.style.y;e.style.y=f.style.y;a.addShape(e);a.animate(e.id,"style").when(m,{y:l}).start(n)},ring:function(a,f,e,m,n){f=e.style.x;var l=e.style.y,d=e.style.r0,b=e.style.r;"r"!=e._animationAdd?(e.style.r0=0,e.style.r=0,e.rotation=[2*Math.PI,f,l],a.addShape(e),a.animate(e.id,"style").when(m,{r0:d,r:b}).start(n),a.animate(e.id,"").when(Math.round(m/
3*2),{rotation:[0,f,l]}).start(n)):(e.style.r0=e.style.r,a.addShape(e),a.animate(e.id,"style").when(m,{r0:d}).start(n))},sector:function(a,f,e,m,n){f||("r"!=e._animationAdd?f={style:{startAngle:e.style.startAngle,endAngle:e.style.startAngle}}:f={style:{r0:e.style.r}});var l=e.style.startAngle,d=e.style.endAngle;q(e,f,"startAngle","endAngle");a.addShape(e);a.animate(e.id,"style").when(m,{startAngle:l,endAngle:d}).start(n)},text:function(a,f,e,m,n){f||(f={style:{x:"left"==e.style.textAlign?e.style.x+
100:e.style.x-100,y:e.style.y}});var l=e.style.x,d=e.style.y;q(e,f,"x","y");a.addShape(e);a.animate(e.id,"style").when(m,{x:l,y:d}).start(n)},polygon:function(p,f,e,m,n){var l=a("zrender/shape/Polygon").prototype.getRect(e.style);f=l.x+l.width/2;l=l.y+l.height/2;e.scale=[.1,.1,f,l];p.addShape(e);p.animate(e.id,"").when(m,{scale:[1,1,f,l]}).start(n)},chord:function(a,f,e,m,n){f||(f={style:{source0:0,source1:360,target0:0,target1:360}});var l=e.style.source0,d=e.style.source1,b=e.style.target0,k=e.style.target1;
f.style&&q(e,f,"source0","source1","target0","target1");a.addShape(e);a.animate(e.id,"style").when(m,{source0:l,source1:d,target0:b,target1:k}).start(n)},gaugePointer:function(a,f,e,m,n){f||(f={style:{angle:e.style.startAngle}});var l=e.style.angle;e.style.angle=f.style.angle;a.addShape(e);a.animate(e.id,"style").when(m,{angle:l}).start(n)},icon:function(a,f,e,m,n){e.style._x=e.style.x;e.style._y=e.style.y;e.style._width=e.style.width;e.style._height=e.style.height;if(f)r(a,f,e,m,n);else{f=e._x||
0;var l=e._y||0;e.scale=[0,0,f,l];a.addShape(e);a.animate(e.id,"").when(m,{scale:[1,1,f,l]}).start(n||"QuinticOut")}},line:function(a,f,e,m,n){f||(f={style:{xEnd:e.style.xStart,yEnd:e.style.yStart}});var l=e.style.xStart,d=e.style.xEnd,b=e.style.yStart,k=e.style.yEnd;q(e,f,"xStart","xEnd","yStart","yEnd");a.addShape(e);a.animate(e.id,"style").when(m,{xStart:l,xEnd:d,yStart:b,yEnd:k}).start(n)},markline:function(a,f,e,m,n){e.style.smooth?(e.style.pointListLength=1,a.addShape(e),e.style.pointList=e.style.pointList||
e.getPointList(e.style),a.animate(e.id,"style").when(m,{pointListLength:e.style.pointList.length}).start(n||"QuinticOut")):(e.style.pointList=f?f.style.pointList:[[e.style.xStart,e.style.yStart],[e.style.xStart,e.style.yStart]],a.addShape(e),a.animate(e.id,"style").when(m,{pointList:[[e.style.xStart,e.style.yStart],[e._x||0,e._y||0]]}).start(n||"QuinticOut"))}}});
define("zrender/shape/Circle",["require","./Base","../tool/util"],function(a){function q(a){r.call(this,a)}var r=a("./Base");return q.prototype={type:"circle",buildPath:function(a,p){a.arc(p.x,p.y,p.r,0,2*Math.PI,!0)},getRect:function(a){if(a.__rect)return a.__rect;var p;return"stroke"==a.brushType||"fill"==a.brushType?p=a.lineWidth||1:p=0,a.__rect={x:Math.round(a.x-a.r-p/2),y:Math.round(a.y-a.r-p/2),width:2*a.r+p,height:2*a.r+p},a.__rect}},a("../tool/util").inherits(q,r),q});
define("echarts/util/ecEffect","require ../util/ecData zrender/shape/Circle zrender/shape/Image ../util/shape/Icon ../util/shape/Symbol zrender/tool/env".split(" "),function(a){var q=a("../util/ecData"),r=a("zrender/shape/Circle"),s=a("zrender/shape/Image"),p=a("../util/shape/Icon"),f=a("../util/shape/Symbol"),e=a("zrender/tool/env").canvasSupported;return{point:function(a,f,l,d){var b=l.effect,k=b.color||l.style.strokeColor||l.style.color,h=b.scaleSize,g="undefined"!=typeof b.shadowBlur?b.shadowBlur:
h,c=new p({zlevel:d,style:{brushType:"stroke",iconType:"pin"!=l.style.iconType&&"droplet"!=l.style.iconType?l.style.iconType:"circle",x:g+1,y:g+1,n:l.style.n,width:l.style.width*h,height:l.style.height*h,lineWidth:1,strokeColor:k,shadowColor:b.shadowColor||k,shadowBlur:g},draggable:!1,hoverable:!1});e&&(c.style.image=a.shapeToImage(c,c.style.width+2*g+2,c.style.height+2*g+2).style.image,c=new s({zlevel:c.zlevel,style:c.style,draggable:!1,hoverable:!1}));q.clone(l,c);c.position=l.position;f.push(c);
a.addShape(c);f=window.devicePixelRatio||1;d=(c.style.width/f-l.style.width)/2;c.style.x=l.style._x-d;c.style.y=l.style._y-d;d=100*(b.period+10*Math.random());a.modShape(l.id,{invisible:!0});k=c.style.x+c.style.width/2/f;f=c.style.y+c.style.height/2/f;a.modShape(c.id,{scale:[.1,.1,k,f]});a.animate(c.id,"",b.loop).when(d,{scale:[1,1,k,f]}).done(function(){l.effect.show=!1;a.delShape(c.id)}).start()},largePoint:function(a,e,l,d){var b=l.effect,k=b.color||l.style.strokeColor||l.style.color,h=b.scaleSize;
d=new f({zlevel:d,position:l.position,scale:l.scale,style:{pointList:l.style.pointList,iconType:l.style.iconType,color:k,strokeColor:k,shadowColor:b.shadowColor||k,shadowBlur:("undefined"!=typeof b.shadowBlur?b.shadowBlur:2*h)*(window.devicePixelRatio||1),random:!0,brushType:"fill",lineWidth:1,size:l.style.size},draggable:!1,hoverable:!1});e.push(d);a.addShape(d);a.modShape(l.id,{invisible:!0});e=Math.round(100*b.period);l={};b={};for(k=0;20>k;k++)d.style["randomMap"+k]=0,l={},l["randomMap"+k]=100,
b={},b["randomMap"+k]=0,d.style["randomMap"+k]=100*Math.random(),a.animate(d.id,"style",!0).when(e,l).when(2*e,b).when(3*e,l).when(4*e,l).delay(Math.random()*e*k).start()},line:function(a,f,l,d){var b=l.effect,k=b.color||l.style.strokeColor||l.style.color,h=l.style.lineWidth*b.scaleSize,g="undefined"!=typeof b.shadowBlur?b.shadowBlur:h,c=new r({zlevel:d,style:{x:g,y:g,r:h,color:k,shadowColor:b.shadowColor||l.style.strokeColor||k,shadowBlur:g},draggable:!1,hoverable:!1}),t;e?(c.style.image=a.shapeToImage(c,
2*(h+g),2*(h+g)).style.image,c=new s({zlevel:c.zlevel,style:c.style,draggable:!1,hoverable:!1}),t=g):t=0;q.clone(l,c);c.position=l.position;f.push(c);a.addShape(c);c.style.x=l.style.xStart-t;c.style.y=l.style.yStart-t;f=Math.round(Math.sqrt(Math.round(((l.style.xStart-l.style.xEnd)*(l.style.xStart-l.style.xEnd)+(l.style.yStart-l.style.yEnd)*(l.style.yStart-l.style.yEnd))*b.period*b.period)));if(l.style.smooth){d=l.style.pointList||l.getPointList(l.style);k=d.length;f=Math.round(f/k);b=a.animate(c.id,
"style",b.loop);h=Math.ceil(k/8);for(g=0;g<k-h;g+=h)b.when(f*(g+1),{x:d[g][0]-t,y:d[g][1]-t});b.when(f*k,{x:d[k-1][0]-t,y:d[k-1][1]-t});b.done(function(){l.effect.show=!1;a.delShape(c.id)});b.start("spline")}else a.animate(c.id,"style",b.loop).when(f,{x:l._x-t,y:l._y-t}).done(function(){l.effect.show=!1;a.delShape(c.id)}).start()}}});
define("echarts/util/accMath",[],function(){function a(a,q){var p=0,f=a.toString(),e=q.toString();try{p+=f.split(".")[1].length}catch(m){}try{p+=e.split(".")[1].length}catch(n){}return(f.replace(".","")-0)*(e.replace(".","")-0)/Math.pow(10,p)}function q(a,q){var p=0,f=0;try{p=a.toString().split(".")[1].length}catch(e){}try{f=q.toString().split(".")[1].length}catch(m){}p=Math.pow(10,Math.max(p,f));return(Math.round(a*p)+Math.round(q*p))/p}return{accDiv:function(q,s){return a(q,1/s)},accMul:a,accAdd:q,
accSub:function(a,s){return q(a,-s)}}});
define("echarts/chart/base","require zrender/shape/Image ../util/shape/Icon ../util/shape/MarkLine ../util/shape/Symbol ../config ../util/ecData ../util/ecAnimation ../util/ecEffect ../util/accMath zrender/tool/util zrender/tool/area".split(" "),function(a){function q(){var b=this;this.selectedMap={};this.lastShapeList=[];this.shapeHandler={onclick:function(){b.isClick=!0},ondragover:function(g){var c=g.target;c.highlightStyle=c.highlightStyle||{};g=c.highlightStyle;var t=g.brushTyep,d=g.strokeColor,
k=g.lineWidth;g.brushType="stroke";g.strokeColor=b.ecTheme.calculableColor;g.lineWidth="icon"==c.type?30:10;b.zr.addHoverShape(c);setTimeout(function(){c.highlightStyle&&(c.highlightStyle.brushType=t,c.highlightStyle.strokeColor=d,c.highlightStyle.lineWidth=k)},20)},ondrop:function(g){"undefined"!=typeof m.get(g.dragged,"data")&&(b.isDrop=!0)},ondragend:function(){b.isDragend=!0}}}var r=a("zrender/shape/Image"),s=a("../util/shape/Icon"),p=a("../util/shape/MarkLine"),f=a("../util/shape/Symbol"),e=
a("../config"),m=a("../util/ecData"),n=a("../util/ecAnimation"),l=a("../util/ecEffect"),d=a("../util/accMath"),b=a("zrender/tool/util"),k=a("zrender/tool/area");return q.prototype={setCalculable:function(b){return b.dragEnableTime=this.ecTheme.DRAG_ENABLE_TIME,b.ondragover=this.shapeHandler.ondragover,b.ondragend=this.shapeHandler.ondragend,b.ondrop=this.shapeHandler.ondrop,b},ondrop:function(b,g){if(this.isDrop&&b.target){var c=b.target,t=b.dragged,k=m.get(c,"seriesIndex"),a=m.get(c,"dataIndex"),
c=this.series,l,f=this.component.legend;if(-1==a){l={value:m.get(t,"value"),name:m.get(t,"name")};this.type==e.CHART_TYPE_PIE&&0>l.value&&(l.value=0);for(var a=!1,n=c[k].data,p=0,A=n.length;p<A;p++)n[p].name==l.name&&"-"==n[p].value&&(c[k].data[p].value=l.value,a=!0);!a&&c[k].data.push(l);f&&f.add(l.name,t.style.color||t.style.strokeColor)}else if(l=this.option.series[k].data[a]||"-","undefined"!=typeof l.value){if("-"!=l.value?this.option.series[k].data[a].value=d.accAdd(this.option.series[k].data[a].value,
m.get(t,"value")):this.option.series[k].data[a].value=m.get(t,"value"),this.type==e.CHART_TYPE_FUNNEL||this.type==e.CHART_TYPE_PIE)f&&1==f.getRelatedAmount(l.name)&&this.component.legend.del(l.name),l.name+=this.option.nameConnector+m.get(t,"name"),f&&f.add(l.name,t.style.color||t.style.strokeColor)}else"-"!=l?this.option.series[k].data[a]=d.accAdd(this.option.series[k].data[a],m.get(t,"value")):this.option.series[k].data[a]=m.get(t,"value");g.dragIn=g.dragIn||!0;this.isDrop=!1;var q=this;setTimeout(function(){q.zr.trigger("mousemove",
b.event)},300)}},ondragend:function(b,g){if(this.isDragend&&b.target){var c=b.target,t=m.get(c,"seriesIndex"),c=m.get(c,"dataIndex"),d=this.series;"undefined"!=typeof d[t].data[c].value?(d[t].data[c].value="-",t=d[t].data[c].name,this.component.legend&&0===this.component.legend.getRelatedAmount(t)&&this.component.legend.del(t)):d[t].data[c]="-";g.dragOut=!0;g.needRefresh=!0;this.isDragend=!1}},onlegendSelected:function(b,g){var c=b.selected,t;for(t in this.selectedMap)this.selectedMap[t]!=c[t]&&(g.needRefresh=
!0),this.selectedMap[t]=c[t]},addLabel:function(b,g,c,t,d){var k=[c,g],a=this.deepMerge(k,"itemStyle.normal.label"),k=this.deepMerge(k,"itemStyle.emphasis.label"),l=a.textStyle||{},e=k.textStyle||{};return a.show&&(b.style.text=this._getLabelText(g,c,t,"normal"),b.style.textPosition="undefined"==typeof a.position?"horizontal"==d?"right":"top":a.position,b.style.textColor=l.color,b.style.textFont=this.getFont(l)),k.show&&(b.highlightStyle.text=this._getLabelText(g,c,t,"emphasis"),b.highlightStyle.textPosition=
a.show?b.style.textPosition:"undefined"==typeof k.position?"horizontal"==d?"right":"top":k.position,b.highlightStyle.textColor=e.color,b.highlightStyle.textFont=this.getFont(e)),b},_getLabelText:function(b,g,c,t){var d=this.deepQuery([g,b],"itemStyle."+t+".label.formatter");!d&&"emphasis"==t&&(d=this.deepQuery([g,b],"itemStyle.normal.label.formatter"));g="undefined"!=typeof g?"undefined"!=typeof g.value?g.value:g:"-";if(!d)return g;if("function"==typeof d)return d.call(this.myChart,b.name,c,g);if("string"==
typeof d)return d=d.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}"),d=d.replace("{a0}",b.name).replace("{b0}",c).replace("{c0}",g),d},buildMark:function(b){var g=this.series[b];this.selectedMap[g.name]&&(g.markPoint&&this._buildMarkPoint(b),g.markLine&&this._buildMarkLine(b))},_buildMarkPoint:function(h){for(var g=(this.markAttachStyle||{})[h],c=this.series[h],d=this.getZlevelBase(),a,l,f=b.clone(c.markPoint),c=0,n=f.data.length;c<n;c++)a=f.data[c],l=this.getMarkCoord(h,a),f.data[c].x=
"undefined"!=typeof a.x?a.x:l[0],f.data[c].y="undefined"!=typeof a.y?a.y:l[1],a.type&&("max"==a.type||"min"==a.type)&&(f.data[c].value=l[3],f.data[c].name=a.name||a.type,f.data[c].symbolSize=f.data[c].symbolSize||k.getTextWidth(l[3],this.getFont())/2+5);h=this._markPoint(h,f);c=0;for(n=h.length;c<n;c++){h[c].zlevel=d+1;for(var m in g)h[c][m]=b.clone(g[m]);this.shapeList.push(h[c])}if(this.type==e.CHART_TYPE_FORCE||this.type==e.CHART_TYPE_CHORD)for(c=0,n=h.length;c<n;c++)this.zr.addShape(h[c])},_buildMarkLine:function(h){for(var g=
(this.markAttachStyle||{})[h],c=this.series[h],d=this.getZlevelBase(),k,a,l=b.clone(c.markLine),c=0,f=l.data.length;c<f;c++)k=l.data[c],!k.type||"max"!=k.type&&"min"!=k.type&&"average"!=k.type?a=[this.getMarkCoord(h,k[0]),this.getMarkCoord(h,k[1])]:(a=this.getMarkCoord(h,k),l.data[c]=[b.clone(k),{}],l.data[c][0].name=k.name||k.type,l.data[c][0].value=a[3],a=a[2],k=[{},{}]),l.data[c][0].x="undefined"!=typeof k[0].x?k[0].x:a[0][0],l.data[c][0].y="undefined"!=typeof k[0].y?k[0].y:a[0][1],l.data[c][1].x=
"undefined"!=typeof k[1].x?k[1].x:a[1][0],l.data[c][1].y="undefined"!=typeof k[1].y?k[1].y:a[1][1];h=this._markLine(h,l);c=0;for(f=h.length;c<f;c++){h[c].zlevel=d+1;for(var n in g)h[c][n]=b.clone(g[n]);this.shapeList.push(h[c])}if(this.type==e.CHART_TYPE_FORCE||this.type==e.CHART_TYPE_CHORD)for(c=0,f=h.length;c<f;c++)this.zr.addShape(h[c])},_markPoint:function(h,g){var c=this.series[h],d=this.component;b.merge(g,this.ecTheme.markPoint);g.name=c.name;var k=[],a=g.data,l,f=d.dataRange,d=d.legend,n,
p,A,q=this.zr.getWidth(),s=this.zr.getHeight();if(g.large)l=this.getLargeMarkPoingShape(h,g),l._mark="largePoint",l&&k.push(l);else for(var u=0,r=a.length;u<r;u++){p="undefined"!=typeof a[u]&&"undefined"!=typeof a[u].value?a[u].value:"";d&&(n=d.getColor(c.name));if(f&&(n=isNaN(p)?n:f.getColor(p),A=[a[u],g],l=this.deepQuery(A,"itemStyle.normal.color")||n,A=this.deepQuery(A,"itemStyle.emphasis.color")||l,null==l&&null==A))continue;a[u].tooltip=a[u].tooltip||{trigger:"item"};a[u].name="undefined"!=typeof a[u].name?
a[u].name:"";a[u].value=p;l=this.getSymbolShape(g,h,a[u],u,a[u].name,this.parsePercent(a[u].x,q),this.parsePercent(a[u].y,s),"pin",n,"rgba(0,0,0,0)","horizontal");l._mark="point";A=this.deepMerge([a[u],g],"effect");A.show&&(l.effect=A);c.type==e.CHART_TYPE_MAP&&(l._geo=this.getMarkGeo(a[u]));m.pack(l,c,h,a[u],u,a[u].name,p);k.push(l)}return k},_markLine:function(h,g){var c=this.series[h],d=this.component;b.merge(g,this.ecTheme.markLine);g.symbol=g.symbol instanceof Array?1<g.symbol.length?g.symbol:
[g.symbol[0],g.symbol[0]]:[g.symbol,g.symbol];g.symbolSize=g.symbolSize instanceof Array?1<g.symbolSize.length?g.symbolSize:[g.symbolSize[0],g.symbolSize[0]]:[g.symbolSize,g.symbolSize];g.symbolRotate=g.symbolRotate instanceof Array?1<g.symbolRotate.length?g.symbolRotate:[g.symbolRotate[0],g.symbolRotate[0]]:[g.symbolRotate,g.symbolRotate];g.name=c.name;for(var k=[],a=g.data,l,f=d.dataRange,d=d.legend,n,p,A,q,s=this.zr.getWidth(),u=this.zr.getHeight(),r=0,x=a.length;r<x;r++){d&&(n=d.getColor(c.name));
q=this.deepMerge(a[r]);p="undefined"!=typeof q&&"undefined"!=typeof q.value?q.value:"";if(f&&(n=isNaN(p)?n:f.getColor(p),A=[q,g],l=this.deepQuery(A,"itemStyle.normal.color")||n,A=this.deepQuery(A,"itemStyle.emphasis.color")||l,null==l&&null==A))continue;a[r][0].tooltip=q.tooltip||{trigger:"item"};a[r][0].name="undefined"!=typeof a[r][0].name?a[r][0].name:"";a[r][1].name="undefined"!=typeof a[r][1].name?a[r][1].name:"";a[r][0].value="undefined"!=typeof a[r][0].value?a[r][0].value:"";l=this.getLineMarkShape(g,
h,a[r],r,this.parsePercent(a[r][0].x,s),this.parsePercent(a[r][0].y,u),this.parsePercent(a[r][1].x,s),this.parsePercent(a[r][1].y,u),n);l._mark="line";q=this.deepMerge([q,g],"effect");q.show&&(l.effect=q);c.type==e.CHART_TYPE_MAP&&(l._geo=[this.getMarkGeo(a[r][0]),this.getMarkGeo(a[r][1])]);m.pack(l,c,h,a[r][0],r,a[r][0].name+(""!==a[r][1].name?" > "+a[r][1].name:""),p);k.push(l)}return k},getMarkCoord:function(){return[0,0]},getSymbolShape:function(b,g,c,d,a,k,l,e,f,n,p){var q=[c,b],C="undefined"!=
typeof c?"undefined"!=typeof c.value?c.value:c:"-";e=this.deepQuery(q,"symbol")||e;var u=this.deepQuery(q,"symbolSize"),u="function"==typeof u?u(C):u,C=this.deepQuery(q,"symbolRotate"),w=this.deepMerge(q,"itemStyle.normal"),q=this.deepMerge(q,"itemStyle.emphasis"),x="undefined"!=typeof w.borderWidth?w.borderWidth:w.lineStyle&&w.lineStyle.width;"undefined"==typeof x&&(x=e.match("empty")?2:0);var z="undefined"!=typeof q.borderWidth?q.borderWidth:q.lineStyle&&q.lineStyle.width;"undefined"==typeof z&&
(z=x+2);f=new s({style:{iconType:e.replace("empty","").toLowerCase(),x:k-u,y:l-u,width:2*u,height:2*u,brushType:"both",color:e.match("empty")?n:this.getItemStyleColor(w.color,g,d,c)||f,strokeColor:w.borderColor||this.getItemStyleColor(w.color,g,d,c)||f,lineWidth:x},highlightStyle:{color:e.match("empty")?n:this.getItemStyleColor(q.color,g,d,c),strokeColor:q.borderColor||w.borderColor||this.getItemStyleColor(w.color,g,d,c)||f,lineWidth:z},clickable:!0});return e.match("image")&&(f.style.image=e.replace(/^image:\/\//,
""),f=new r({style:f.style,highlightStyle:f.highlightStyle,clickable:!0})),"undefined"!=typeof C&&(f.rotation=[C*Math.PI/180,k,l]),e.match("star")&&(f.style.iconType="star",f.style.n=e.replace("empty","").replace("star","")-0||5),"none"==e&&(f.invisible=!0,f.hoverable=!1),f=this.addLabel(f,b,c,a,p),e.match("empty")&&("undefined"==typeof f.style.textColor&&(f.style.textColor=f.style.strokeColor),"undefined"==typeof f.highlightStyle.textColor&&(f.highlightStyle.textColor=f.highlightStyle.strokeColor)),
m.pack(f,b,g,c,d,a),f._x=k,f._y=l,f._dataIndex=d,f._seriesIndex=g,f},getLineMarkShape:function(b,g,c,d,a,k,l,e,f){var n="undefined"!=typeof c[0]?"undefined"!=typeof c[0].value?c[0].value:c[0]:"-",m="undefined"!=typeof c[1]?"undefined"!=typeof c[1].value?c[1].value:c[1]:"-",q=[this.query(c[0],"symbol")||b.symbol[0],this.query(c[1],"symbol")||b.symbol[1]],r=[this.query(c[0],"symbolSize")||b.symbolSize[0],this.query(c[1],"symbolSize")||b.symbolSize[1]];r[0]="function"==typeof r[0]?r[0](n):r[0];r[1]=
"function"==typeof r[1]?r[1](m):r[1];var n=[this.query(c[0],"symbolRotate")||b.symbolRotate[0],this.query(c[1],"symbolRotate")||b.symbolRotate[1]],u=[c[0],b],m=this.deepMerge(u,"itemStyle.normal");m.color=this.getItemStyleColor(m.color,g,d,c);u=this.deepMerge(u,"itemStyle.emphasis");u.color=this.getItemStyleColor(u.color,g,d,c);g=m.lineStyle;d=u.lineStyle;var s=g.width;"undefined"==typeof s&&(s=m.borderWidth);var x=d.width;"undefined"==typeof x&&("undefined"!=typeof u.borderWidth?x=u.borderWidth:
x=s+2);a=new p({style:{smooth:b.smooth?"spline":!1,symbol:q,symbolSize:r,symbolRotate:n,xStart:a,yStart:k,xEnd:l,yEnd:e,brushType:"both",lineType:g.type,shadowColor:g.shadowColor||g.color||m.borderColor||m.color||f,shadowBlur:g.shadowBlur,shadowOffsetX:g.shadowOffsetX,shadowOffsetY:g.shadowOffsetY,color:m.color||f,strokeColor:g.color||m.borderColor||m.color||f,lineWidth:s,symbolBorderColor:m.borderColor||m.color||f,symbolBorder:m.borderWidth},highlightStyle:{shadowColor:d.shadowColor,shadowBlur:d.shadowBlur,
shadowOffsetX:d.shadowOffsetX,shadowOffsetY:d.shadowOffsetY,color:u.color||m.color||f,strokeColor:d.color||g.color||u.borderColor||m.borderColor||u.color||m.color||f,lineWidth:x,symbolBorderColor:u.borderColor||m.borderColor||u.color||m.color||f,symbolBorder:"undefined"==typeof u.borderWidth?m.borderWidth+2:u.borderWidth},clickable:!0});return a=this.addLabel(a,b,c[0],c[0].name+" : "+c[1].name),a._x=l,a._y=e,a},getLargeMarkPoingShape:function(b,g){var c=this.series[b],d=this.component,a=g.data,k,
l=d.dataRange,e=d.legend,n,d=[a[0],g];e&&(n=e.getColor(c.name));if(l&&(c="undefined"!=typeof a[0]?"undefined"!=typeof a[0].value?a[0].value:a[0]:"-",n=isNaN(c)?n:l.getColor(c),l=this.deepQuery(d,"itemStyle.normal.color")||n,c=this.deepQuery(d,"itemStyle.emphasis.color")||l,null==l&&null==c))return;n=this.deepMerge(d,"itemStyle.normal").color||n;c=this.deepQuery(d,"symbol")||"circle";c=c.replace("empty","").replace(/\d/g,"");l=this.deepMerge([a[0],g],"effect");return k=new f({style:{pointList:a,color:n,
strokeColor:n,shadowColor:l.shadowColor||n,shadowBlur:("undefined"!=typeof l.shadowBlur?l.shadowBlur:8)*(window.devicePixelRatio||1),size:this.deepQuery(d,"symbolSize"),iconType:c,brushType:"fill",lineWidth:1},draggable:!1,hoverable:!1}),l.show&&(k.effect=l),k},backupShapeList:function(){this.shapeList&&0<this.shapeList.length?(this.lastShapeList=this.shapeList,this.shapeList=[]):this.lastShapeList=[]},addShapeList:function(){var b=this.option.animationThreshold/(this.canvasSupported?2:4),g=this.lastShapeList,
c=this.shapeList,d=0<g.length?500:this.query(this.option,"animationDuration"),a=this.query(this.option,"animationEasing"),k,l={},e={};if(this.option.animation&&!this.option.renderAsImage&&c.length<b&&!this.motionlessOnce){for(var b=0,f=g.length;b<f;b++)k=this._getAnimationKey(g[b]),k.match("undefined")?this.zr.delShape(g[b].id):(k+=g[b].type,l[k]=g[b]);b=0;for(f=c.length;b<f;b++)k=this._getAnimationKey(c[b]),k.match("undefined")?this.zr.addShape(c[b]):(k+=c[b].type,e[k]=c[b]);for(k in l)e[k]||this.zr.delShape(l[k].id);
for(k in e)l[k]?(this.zr.delShape(l[k].id),this._animateMod(l[k],e[k],d,a)):this._animateMod(!1,e[k],d,a);this.zr.refresh();this.animationEffect()}else for(this.motionlessOnce=!1,this.zr.delShape(g),b=0,f=c.length;b<f;b++)this.zr.addShape(c[b])},_getAnimationKey:function(b){return this.type!=e.CHART_TYPE_MAP?m.get(b,"seriesIndex")+"_"+m.get(b,"dataIndex")+(b._mark?b._mark:"")+(this.type==e.CHART_TYPE_RADAR?m.get(b,"special"):""):m.get(b,"seriesIndex")+"_"+m.get(b,"dataIndex")+(b._mark?b._mark:"undefined")},
_animateMod:function(b,g,c,d){switch(g.type){case "broken-line":case "half-smooth-polygon":n.pointList(this.zr,b,g,c,d);break;case "rectangle":n.rectangle(this.zr,b,g,c,d);break;case "icon":n.icon(this.zr,b,g,c,d);break;case "candle":500<c?n.candle(this.zr,b,g,c,d):this.zr.addShape(g);break;case "ring":case "sector":case "circle":500<c?n.ring(this.zr,b,g,c+(m.get(g,"dataIndex")||0)%20*100,d):"sector"==g.type?n.sector(this.zr,b,g,c,d):this.zr.addShape(g);break;case "text":n.text(this.zr,b,g,c,d);break;
case "polygon":500<c?n.polygon(this.zr,b,g,c,d):n.pointList(this.zr,b,g,c,d);break;case "chord":n.chord(this.zr,b,g,c,d);break;case "gauge-pointer":n.gaugePointer(this.zr,b,g,c,d);break;case "mark-line":n.markline(this.zr,b,g,c,d);break;case "line":n.line(this.zr,b,g,c,d);break;default:this.zr.addShape(g)}},animationMark:function(b,g,c){for(var d=c||this.shapeList,a=0,k=d.length;a<k;a++)d[a]._mark&&this._animateMod(!1,d[a],b,g);this.animationEffect(c)},animationEffect:function(b){!b&&this.clearEffectShape();
b=b||this.shapeList;var g=e.EFFECT_ZLEVEL;this.canvasSupported&&this.zr.modLayer(g,{motionBlur:!0,lastFrameAlpha:.95});for(var c,d=0,a=b.length;d<a;d++)c=b[d],c._mark&&c.effect&&c.effect.show&&l[c._mark]&&(l[c._mark](this.zr,this.effectList,c,g),this.effectList[this.effectList.length-1]._mark=c._mark)},clearEffectShape:function(b){this.zr&&this.effectList&&0<this.effectList.length&&(b&&this.zr.modLayer(e.EFFECT_ZLEVEL,{motionBlur:!1}),this.zr.delShape(this.effectList));this.effectList=[]},addMark:function(b,
g,c){var d=this.series[b];if(this.selectedMap[d.name]){var a=this.query(this.option,"animationEasing"),k=d[c].data,l=this.shapeList.length;d[c].data=g.data;this["_build"+c.replace("m","M")](b);b=l;for(g=this.shapeList.length;b<g;b++)this.zr.addShape(this.shapeList[b]);this.zr.refresh();this.option.animation&&!this.option.renderAsImage&&this.animationMark(500,a,this.shapeList.slice(l));d[c].data=k}},delMark:function(b,g,c){c=c.replace("mark","").replace("large","").toLowerCase();if(this.selectedMap[this.series[b].name]){for(var d=
!1,a=[this.shapeList,this.effectList],k=2;k--;)for(var l=0,e=a[k].length;l<e;l++)if(a[k][l]._mark==c&&m.get(a[k][l],"seriesIndex")==b&&m.get(a[k][l],"name")==g){this.zr.delShape(a[k][l].id);a[k].splice(l,1);d=!0;break}d&&this.zr.refresh()}}},q});define("echarts/chart",[],function(){var a={},q={};return a.define=function(r,s){return q[r]=s,a},a.get=function(a){return q[a]},a});
define("echarts/chart/island","require ../component/base ./base zrender/shape/Circle ../config ../util/ecData zrender/tool/util zrender/tool/event zrender/tool/color ../util/accMath ../chart".split(" "),function(a){function q(a,d,b,k,h){r.call(this,a,d,b,{},h);s.call(this);this._nameConnector;this._valueConnector;this._zrHeight=this.zr.getHeight();this._zrWidth=this.zr.getWidth();var g=this;g.shapeHandler.onmousewheel=function(c){var b=c.target;c=c.event;var h=n.getDelta(c),h=0<h?-1:1;b.style.r-=
h;b.style.r=5>b.style.r?5:b.style.r;var d=e.get(b,"value"),a=d*g.option.island.calculateStep;1<a?d=Math.round(d-a*h):d=(d-a*h).toFixed(2)-0;h=e.get(b,"name");b.style.text=h+":"+d;e.set(b,"value",d);e.set(b,"name",h);g.zr.modShape(b.id);g.zr.refresh();n.stop(c)}}var r=a("../component/base"),s=a("./base"),p=a("zrender/shape/Circle"),f=a("../config"),e=a("../util/ecData"),m=a("zrender/tool/util"),n=a("zrender/tool/event");return q.prototype={type:f.CHART_TYPE_ISLAND,_combine:function(l,d){var b=a("zrender/tool/color"),
k=a("../util/accMath").accAdd(e.get(l,"value"),e.get(d,"value")),h=e.get(l,"name")+this._nameConnector+e.get(d,"name");l.style.text=h+this._valueConnector+k;e.set(l,"value",k);e.set(l,"name",h);l.style.r=this.option.island.r;l.style.color=b.mix(l.style.color,d.style.color)},refresh:function(a){a&&(a.island=this.reformOption(a.island),this.option=a,this._nameConnector=this.option.nameConnector,this._valueConnector=this.option.valueConnector)},getOption:function(){return this.option},resize:function(){var a=
this.zr.getWidth(),d=this.zr.getHeight(),b=a/(this._zrWidth||a),k=d/(this._zrHeight||d);if(1!=b||1!=k)for(this._zrWidth=a,this._zrHeight=d,a=0,d=this.shapeList.length;a<d;a++)this.zr.modShape(this.shapeList[a].id,{style:{x:Math.round(this.shapeList[a].style.x*b),y:Math.round(this.shapeList[a].style.y*k)}})},add:function(a){var d=e.get(a,"name"),b=e.get(a,"value"),k="undefined"!=typeof e.get(a,"series")?e.get(a,"series").name:"",h=this.getFont(this.option.island.textStyle),h={zlevel:this._zlevelBase,
style:{x:a.style.x,y:a.style.y,r:this.option.island.r,color:a.style.color||a.style.strokeColor,text:d+this._valueConnector+b,textFont:h},draggable:!0,hoverable:!0,onmousewheel:this.shapeHandler.onmousewheel,_type:"island"};"#fff"==h.style.color&&(h.style.color=a.style.strokeColor);this.setCalculable(h);h.dragEnableTime=0;e.pack(h,{name:k},-1,b,-1,d);h=new p(h);this.shapeList.push(h);this.zr.addShape(h)},del:function(a){this.zr.delShape(a.id);for(var d=[],b=0,k=this.shapeList.length;b<k;b++)this.shapeList[b].id!=
a.id&&d.push(this.shapeList[b]);this.shapeList=d},ondrop:function(a,d){if(this.isDrop&&a.target){var b=a.target;this._combine(b,a.dragged);this.zr.modShape(b.id);d.dragIn=!0;this.isDrop=!1}},ondragend:function(a,d){var b=a.target;this.isDragend?d.dragIn&&(this.del(b),d.needRefresh=!0):d.dragIn||(b.style.x=n.getX(a.event),b.style.y=n.getY(a.event),this.add(b),d.needRefresh=!0);this.isDragend=!1}},m.inherits(q,s),m.inherits(q,r),a("../chart").define("island",q),q});
define("echarts/component",[],function(){var a={},q={};return a.define=function(r,s){return q[r]=s,a},a.get=function(a){return q[a]},a});
define("echarts/component/dataView",["require","./base","../config","zrender/tool/util","../component"],function(a){function q(a,e,m,n,l){r.call(this,a,e,m,n,l);this.dom=l.dom;this._tDom=document.createElement("div");this._textArea=document.createElement("textArea");this._buttonRefresh=document.createElement("button");this._buttonClose=document.createElement("button");this._hasShow=!1;this._zrHeight=m.getHeight();this._zrWidth=m.getWidth();this._tDom.className="echarts-dataview";this.hide();this.dom.firstChild.appendChild(this._tDom);
window.addEventListener?(this._tDom.addEventListener("click",this._stop),this._tDom.addEventListener("mousewheel",this._stop),this._tDom.addEventListener("mousemove",this._stop),this._tDom.addEventListener("mousedown",this._stop),this._tDom.addEventListener("mouseup",this._stop),this._tDom.addEventListener("touchstart",this._stop),this._tDom.addEventListener("touchmove",this._stop),this._tDom.addEventListener("touchend",this._stop)):(this._tDom.attachEvent("onclick",this._stop),this._tDom.attachEvent("onmousewheel",
this._stop),this._tDom.attachEvent("onmousemove",this._stop),this._tDom.attachEvent("onmousedown",this._stop),this._tDom.attachEvent("onmouseup",this._stop))}var r=a("./base"),s=a("../config"),p=a("zrender/tool/util");return q.prototype={type:s.COMPONENT_TYPE_DATAVIEW,_lang:["Data View","close","refresh"],_gCssText:"position:absolute;display:block;overflow:hidden;transition:height 0.8s,background-color 1s;-moz-transition:height 0.8s,background-color 1s;-webkit-transition:height 0.8s,background-color 1s;-o-transition:height 0.8s,background-color 1s;z-index:1;left:0;top:0;",
hide:function(){this._sizeCssText="width:"+this._zrWidth+"px;height:0px;background-color:#f0ffff;";this._tDom.style.cssText=this._gCssText+this._sizeCssText},show:function(a){this._hasShow=!0;var e=this.query(this.option,"toolbox.feature.dataView.lang")||this._lang;this.option=a;this._tDom.innerHTML='<p style="padding:8px 0;margin:0 0 10px 0;border-bottom:1px solid #eee">'+(e[0]||this._lang[0])+"</p>";this._textArea.style.cssText="display:block;margin:0 0 8px 0;padding:4px 6px;overflow:auto;width:"+
(this._zrWidth-15)+"px;height:"+(this._zrHeight-100)+"px;";a=this.query(this.option,"toolbox.feature.dataView.optionToContent");"function"!=typeof a?this._textArea.value=this._optionToContent():this._textArea.value=a(this.option);this._tDom.appendChild(this._textArea);this._buttonClose.style.cssText="float:right;padding:1px 6px;";this._buttonClose.innerHTML=e[1]||this._lang[1];var m=this;this._buttonClose.onclick=function(){m.hide()};this._tDom.appendChild(this._buttonClose);!1===this.query(this.option,
"toolbox.feature.dataView.readOnly")?(this._buttonRefresh.style.cssText="float:right;margin-right:10px;padding:1px 6px;",this._buttonRefresh.innerHTML=e[2]||this._lang[2],this._buttonRefresh.onclick=function(){m._save()},this._tDom.appendChild(this._buttonRefresh),this._textArea.readOnly=!1,this._textArea.style.cursor="default"):(this._textArea.readOnly=!0,this._textArea.style.cursor="text");this._sizeCssText="width:"+this._zrWidth+"px;height:"+this._zrHeight+"px;background-color:#fff;";this._tDom.style.cssText=
this._gCssText+this._sizeCssText},_optionToContent:function(){var a,e,m,n,l,d,b=[],k="";if(this.option.xAxis)for(this.option.xAxis instanceof Array?b=this.option.xAxis:b=[this.option.xAxis],a=0,n=b.length;a<n;a++)if("category"==(b[a].type||"category")){d=[];e=0;for(m=b[a].data.length;e<m;e++)l=b[a].data[e],d.push("undefined"!=typeof l.value?l.value:l);k+=d.join(", ")+"\n\n"}if(this.option.yAxis)for(this.option.yAxis instanceof Array?b=this.option.yAxis:b=[this.option.yAxis],a=0,n=b.length;a<n;a++)if("category"==
b[a].type){d=[];e=0;for(m=b[a].data.length;e<m;e++)l=b[a].data[e],d.push("undefined"!=typeof l.value?l.value:l);k+=d.join(", ")+"\n\n"}var b=this.option.series,h;a=0;for(n=b.length;a<n;a++){d=[];e=0;for(m=b[a].data.length;e<m;e++)l=b[a].data[e],b[a].type==s.CHART_TYPE_PIE||b[a].type==s.CHART_TYPE_MAP?h=(l.name||"-")+":":h="",b[a].type==s.CHART_TYPE_SCATTER&&(l="undefined"!=typeof l.value?l.value:l,l=l.join(", ")),d.push(h+("undefined"!=typeof l.value?l.value:l));k+=(b[a].name||"-")+" : \n";k+=d.join(b[a].type==
s.CHART_TYPE_SCATTER?"\n":", ");k+="\n\n"}return k},_save:function(){var a=this._textArea.value,e=this.query(this.option,"toolbox.feature.dataView.contentToOption");if("function"!=typeof e){for(var a=a.split("\n"),e=[],m=0,n=a.length;m<n;m++)a[m]=this._trim(a[m]),""!==a[m]&&e.push(a[m]);this._contentToOption(e)}else e(a,this.option);this.hide();var l=this;setTimeout(function(){l.messageCenter&&l.messageCenter.dispatch(s.EVENT.DATA_VIEW_CHANGED,null,{option:l.option},l.myChart)},l.canvasSupported?
800:100)},_contentToOption:function(a){var e,m,n,l,d=[],b=0,k,h;if(this.option.xAxis)for(this.option.xAxis instanceof Array?d=this.option.xAxis:d=[this.option.xAxis],e=0,l=d.length;e<l;e++)if("category"==(d[e].type||"category")){k=a[b].split(",");m=0;for(n=d[e].data.length;m<n;m++)h=this._trim(k[m]||""),"undefined"!=typeof d[e].data[m].value?d[e].data[m].value=h:d[e].data[m]=h;b++}if(this.option.yAxis)for(this.option.yAxis instanceof Array?d=this.option.yAxis:d=[this.option.yAxis],e=0,l=d.length;e<
l;e++)if("category"==d[e].type){k=a[b].split(",");m=0;for(n=d[e].data.length;m<n;m++)h=this._trim(k[m]||""),"undefined"!=typeof d[e].data[m].value?d[e].data[m].value=h:d[e].data[m]=h;b++}d=this.option.series;e=0;for(l=d.length;e<l;e++)if(b++,d[e].type==s.CHART_TYPE_SCATTER)for(m=0,n=d[e].data.length;m<n;m++)k=a[b],h=k.replace(" ","").split(","),"undefined"!=typeof d[e].data[m].value?d[e].data[m].value=h:d[e].data[m]=h,b++;else{k=a[b].split(",");m=0;for(n=d[e].data.length;m<n;m++)h=(k[m]||"").replace(/.*:/,
""),h=this._trim(h),h="-"!=h&&""!==h?h-0:"-","undefined"!=typeof d[e].data[m].value?d[e].data[m].value=h:d[e].data[m]=h;b++}},_trim:function(a){return a.replace(/(^[\s\t\xa0\u3000]+)|([\u3000\xa0\s\t]+$)/g,"")},_stop:function(a){a=a||window.event;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},resize:function(){this._zrHeight=this.zr.getHeight();this._zrWidth=this.zr.getWidth();10<this._tDom.offsetHeight&&(this._sizeCssText="width:"+this._zrWidth+"px;height:"+this._zrHeight+"px;background-color:#fff;",
this._tDom.style.cssText=this._gCssText+this._sizeCssText,this._textArea.style.cssText="display:block;margin:0 0 8px 0;padding:4px 6px;overflow:auto;width:"+(this._zrWidth-15)+"px;height:"+(this._zrHeight-100)+"px;")},dispose:function(){window.removeEventListener?(this._tDom.removeEventListener("click",this._stop),this._tDom.removeEventListener("mousewheel",this._stop),this._tDom.removeEventListener("mousemove",this._stop),this._tDom.removeEventListener("mousedown",this._stop),this._tDom.removeEventListener("mouseup",
this._stop),this._tDom.removeEventListener("touchstart",this._stop),this._tDom.removeEventListener("touchmove",this._stop),this._tDom.removeEventListener("touchend",this._stop)):(this._tDom.detachEvent("onclick",this._stop),this._tDom.detachEvent("onmousewheel",this._stop),this._tDom.detachEvent("onmousemove",this._stop),this._tDom.detachEvent("onmousedown",this._stop),this._tDom.detachEvent("onmouseup",this._stop));this._buttonRefresh.onclick=null;this._buttonClose.onclick=null;this._hasShow&&(this._tDom.removeChild(this._textArea),
this._tDom.removeChild(this._buttonRefresh),this._tDom.removeChild(this._buttonClose));this._buttonClose=this._buttonRefresh=this._textArea=null;this.dom.firstChild.removeChild(this._tDom);this._tDom=null}},p.inherits(q,r),a("../component").define("dataView",q),q});
define("echarts/component/toolbox","require ./base zrender/shape/Line zrender/shape/Image zrender/shape/Rectangle ../util/shape/Icon ../config zrender/tool/util zrender/config zrender/tool/event ./dataView ../component".split(" "),function(a){function q(b,d,h,g,c){r.call(this,b,d,h,g,c);this.dom=c.dom;this._magicType={};this._isSilence=!1;this._iconList;this._iconShapeMap={};this._featureTitle={};this._featureIcon={};this._featureColor={};this._enableColor="red";this._disableColor="#ccc";this._markShapeList=
[];var a=this;a._onMark=function(c){a.__onMark(c)};a._onMarkUndo=function(c){a.__onMarkUndo(c)};a._onMarkClear=function(c){a.__onMarkClear(c)};a._onDataZoom=function(c){a.__onDataZoom(c)};a._onDataZoomReset=function(c){a.__onDataZoomReset(c)};a._onDataView=function(c){a.__onDataView(c)};a._onRestore=function(c){a.__onRestore(c)};a._onSaveAsImage=function(c){a.__onSaveAsImage(c)};a._onMagicType=function(c){a.__onMagicType(c)};a._onCustomHandler=function(c){a.__onCustomHandler(c)};a._onmousemove=function(c){return a.__onmousemove(c)};
a._onmousedown=function(c){return a.__onmousedown(c)};a._onmouseup=function(c){return a.__onmouseup(c)};a._onclick=function(c){return a.__onclick(c)}}var r=a("./base"),s=a("zrender/shape/Line"),p=a("zrender/shape/Image"),f=a("zrender/shape/Rectangle"),e=a("../util/shape/Icon"),m=a("../config"),n=a("zrender/tool/util"),l=a("zrender/config"),d=a("zrender/tool/event");return q.prototype={type:m.COMPONENT_TYPE_TOOLBOX,_buildShape:function(){this._iconList=[];var b=this.option.toolbox;this._enableColor=
b.effectiveColor;this._disableColor=b.disableColor;var b=b.feature,d=[],h;for(h in b)if(b[h].show)switch(h){case "mark":d.push({key:h,name:"mark"});d.push({key:h,name:"markUndo"});d.push({key:h,name:"markClear"});break;case "magicType":for(var g=0,c=b[h].type.length;g<c;g++)b[h].title[b[h].type[g]+"Chart"]=b[h].title[b[h].type[g]],d.push({key:h,name:b[h].type[g]+"Chart"});break;case "dataZoom":d.push({key:h,name:"dataZoom"});d.push({key:h,name:"dataZoomReset"});break;case "saveAsImage":this.canvasSupported&&
d.push({key:h,name:"saveAsImage"});break;default:d.push({key:h,name:h})}if(0<d.length){for(var a,g=0,c=d.length;g<c;g++)a=d[g].name,h=d[g].key,this._iconList.push(a),this._featureTitle[a]=b[h].title[a]||b[h].title,b[h].icon&&(this._featureIcon[a]=b[h].icon[a]||b[h].icon),b[h].color&&(this._featureColor[a]=b[h].color[a]||b[h].color);this._itemGroupLocation=this._getItemGroupLocation();this._buildBackground();this._buildItem();g=0;for(c=this.shapeList.length;g<c;g++)this.zr.addShape(this.shapeList[g]);
this._iconShapeMap.mark&&(this._iconDisable(this._iconShapeMap.markUndo),this._iconDisable(this._iconShapeMap.markClear));this._iconShapeMap.dataZoomReset&&0===this._zoomQueue.length&&this._iconDisable(this._iconShapeMap.dataZoomReset)}},_buildItem:function(){var b=this.option.toolbox,d=this._iconList.length,h=this._itemGroupLocation.x,g=this._itemGroupLocation.y,c=b.itemSize,t=b.itemGap,l,f=b.color instanceof Array?b.color:[b.color],n=this.getFont(b.textStyle),m,M,E;"horizontal"==b.orient?(m=.5>
this._itemGroupLocation.y/this.zr.getHeight()?"bottom":"top",M=.5>this._itemGroupLocation.x/this.zr.getWidth()?"left":"right",E=.5>this._itemGroupLocation.y/this.zr.getHeight()?"top":"bottom"):m=.5>this._itemGroupLocation.x/this.zr.getWidth()?"right":"left";this._iconShapeMap={};for(var A=0;A<d;A++){l={type:"icon",zlevel:this._zlevelBase,style:{x:h,y:g,width:c,height:c,iconType:this._iconList[A],lineWidth:1,strokeColor:this._featureColor[this._iconList[A]]||f[A%f.length],brushType:"stroke"},highlightStyle:{lineWidth:1,
text:b.showTitle?this._featureTitle[this._iconList[A]]:void 0,textFont:n,textPosition:m,strokeColor:this._featureColor[this._iconList[A]]||f[A%f.length]},hoverable:!0,clickable:!0};this._featureIcon[this._iconList[A]]&&(l.style.image=this._featureIcon[this._iconList[A]].replace(/^image:\/\//,""),l.style.opacity=.8,l.highlightStyle.opacity=1,l.type="image");"horizontal"==b.orient&&(0===A&&"left"==M&&(l.highlightStyle.textPosition="specific",l.highlightStyle.textAlign=M,l.highlightStyle.textBaseline=
E,l.highlightStyle.textX=h,l.highlightStyle.textY="top"==E?g+c+10:g-10),A==d-1&&"right"==M&&(l.highlightStyle.textPosition="specific",l.highlightStyle.textAlign=M,l.highlightStyle.textBaseline=E,l.highlightStyle.textX=h+c,l.highlightStyle.textY="top"==E?g+c+10:g-10));switch(this._iconList[A]){case "mark":l.onclick=this._onMark;break;case "markUndo":l.onclick=this._onMarkUndo;break;case "markClear":l.onclick=this._onMarkClear;break;case "dataZoom":l.onclick=this._onDataZoom;break;case "dataZoomReset":l.onclick=
this._onDataZoomReset;break;case "dataView":this._dataView||(this._dataView=new (a("./dataView"))(this.ecTheme,this.messageCenter,this.zr,this.option,this.myChart));l.onclick=this._onDataView;break;case "restore":l.onclick=this._onRestore;break;case "saveAsImage":l.onclick=this._onSaveAsImage;break;default:this._iconList[A].match("Chart")?(l._name=this._iconList[A].replace("Chart",""),l.onclick=this._onMagicType):l.onclick=this._onCustomHandler}"icon"==l.type?l=new e(l):"image"==l.type&&(l=new p(l));
this.shapeList.push(l);this._iconShapeMap[this._iconList[A]]=l;"horizontal"==b.orient?h+=c+t:g+=c+t}},_buildBackground:function(){var b=this.option.toolbox,d=b.padding[0],h=b.padding[3];this.shapeList.push(new f({zlevel:this._zlevelBase,hoverable:!1,style:{x:this._itemGroupLocation.x-h,y:this._itemGroupLocation.y-d,width:this._itemGroupLocation.width+h+b.padding[1],height:this._itemGroupLocation.height+d+b.padding[2],brushType:0===b.borderWidth?"fill":"both",color:b.backgroundColor,strokeColor:b.borderColor,
lineWidth:b.borderWidth}}))},_getItemGroupLocation:function(){var b=this.option.toolbox,d=this._iconList.length,h=b.itemGap,g=b.itemSize,c=0,a=0;"horizontal"==b.orient?(c=(g+h)*d-h,a=g):(a=(g+h)*d-h,c=g);d=this.zr.getWidth();switch(b.x){case "center":d=Math.floor((d-c)/2);break;case "left":d=b.padding[3]+b.borderWidth;break;case "right":d=d-c-b.padding[1]-b.borderWidth;break;default:d=b.x-0,d=isNaN(d)?0:d}h=this.zr.getHeight();switch(b.y){case "top":b=b.padding[0]+b.borderWidth;break;case "bottom":b=
h-a-b.padding[2]-b.borderWidth;break;case "center":b=Math.floor((h-a)/2);break;default:b=b.y-0,b=isNaN(b)?0:b}return{x:d,y:b,width:c,height:a}},__onmousemove:function(b){this._marking&&(this._markShape.style.xEnd=d.getX(b.event),this._markShape.style.yEnd=d.getY(b.event),this.zr.addHoverShape(this._markShape));this._zooming&&(this._zoomShape.style.width=d.getX(b.event)-this._zoomShape.style.x,this._zoomShape.style.height=d.getY(b.event)-this._zoomShape.style.y,this.zr.addHoverShape(this._zoomShape),
this.dom.style.cursor="crosshair");this._zoomStart&&"pointer"!=this.dom.style.cursor&&"move"!=this.dom.style.cursor&&(this.dom.style.cursor="crosshair")},__onmousedown:function(b){if(!b.target){this._zooming=!0;var a=d.getX(b.event);b=d.getY(b.event);var h=this.option.dataZoom||{};return this._zoomShape=new f({zlevel:this._zlevelBase,style:{x:a,y:b,width:1,height:1,brushType:"both"},highlightStyle:{lineWidth:2,color:h.fillerColor||m.dataZoom.fillerColor,strokeColor:h.handleColor||m.dataZoom.handleColor,
brushType:"both"}}),this.zr.addHoverShape(this._zoomShape),!0}},__onmouseup:function(){if(!this._zoomShape||10>Math.abs(this._zoomShape.style.width)||10>Math.abs(this._zoomShape.style.height))return this._zooming=!1,!0;if(this._zooming&&this.component.dataZoom){this._zooming=!1;var b=this.component.dataZoom.rectZoom(this._zoomShape.style);b&&(this._zoomQueue.push({start:b.start,end:b.end,start2:b.start2,end2:b.end2}),this._iconEnable(this._iconShapeMap.dataZoomReset),this.zr.refresh())}return!0},
__onclick:function(b){if(!b.target)if(this._marking)this._marking=!1,this._markShapeList.push(this._markShape),this._iconEnable(this._iconShapeMap.markUndo),this._iconEnable(this._iconShapeMap.markClear),this.zr.addShape(this._markShape),this.zr.refresh();else if(this._markStart){this._marking=!0;var a=d.getX(b.event);b=d.getY(b.event);this._markShape=new s({zlevel:this._zlevelBase,style:{xStart:a,yStart:b,xEnd:a,yEnd:b,lineWidth:this.query(this.option,"toolbox.feature.mark.lineStyle.width"),strokeColor:this.query(this.option,
"toolbox.feature.mark.lineStyle.color"),lineType:this.query(this.option,"toolbox.feature.mark.lineStyle.type")}});this.zr.addHoverShape(this._markShape)}},__onMark:function(b){b=b.target;if(this._marking||this._markStart)this._resetMark(),this.zr.refresh();else{this._resetZoom();this.zr.modShape(b.id,{style:{strokeColor:this._enableColor}});this.zr.refresh();this._markStart=!0;var d=this;setTimeout(function(){d.zr&&d.zr.on(l.EVENT.CLICK,d._onclick)&&d.zr.on(l.EVENT.MOUSEMOVE,d._onmousemove)},10)}return!0},
__onMarkUndo:function(){if(this._marking)this._marking=!1;else{var b=this._markShapeList.length;1<=b&&(this.zr.delShape(this._markShapeList[b-1].id),this.zr.refresh(),this._markShapeList.pop(),1==b&&(this._iconDisable(this._iconShapeMap.markUndo),this._iconDisable(this._iconShapeMap.markClear)))}return!0},__onMarkClear:function(){this._marking&&(this._marking=!1);var b=this._markShapeList.length;if(0<b){for(;b--;)this.zr.delShape(this._markShapeList.pop().id);this._iconDisable(this._iconShapeMap.markUndo);
this._iconDisable(this._iconShapeMap.markClear);this.zr.refresh()}return!0},__onDataZoom:function(b){b=b.target;if(this._zooming||this._zoomStart)this._resetZoom(),this.zr.refresh(),this.dom.style.cursor="default";else{this._resetMark();this.zr.modShape(b.id,{style:{strokeColor:this._enableColor}});this.zr.refresh();this._zoomStart=!0;var d=this;setTimeout(function(){d.zr&&d.zr.on(l.EVENT.MOUSEDOWN,d._onmousedown)&&d.zr.on(l.EVENT.MOUSEUP,d._onmouseup)&&d.zr.on(l.EVENT.MOUSEMOVE,d._onmousemove)},
10);this.dom.style.cursor="crosshair"}return!0},__onDataZoomReset:function(){return this._zooming&&(this._zooming=!1),this._zoomQueue.pop(),0<this._zoomQueue.length?this.component.dataZoom.absoluteZoom(this._zoomQueue[this._zoomQueue.length-1]):(this.component.dataZoom.rectZoom(),this._iconDisable(this._iconShapeMap.dataZoomReset),this.zr.refresh()),!0},_resetMark:function(){this._marking=!1;this._markStart&&(this._markStart=!1,this._iconShapeMap.mark&&this.zr.modShape(this._iconShapeMap.mark.id,
{style:{strokeColor:this._iconShapeMap.mark.highlightStyle.strokeColor}}),this.zr.un(l.EVENT.CLICK,this._onclick),this.zr.un(l.EVENT.MOUSEMOVE,this._onmousemove))},_resetZoom:function(){this._zooming=!1;this._zoomStart&&(this._zoomStart=!1,this._iconShapeMap.dataZoom&&this.zr.modShape(this._iconShapeMap.dataZoom.id,{style:{strokeColor:this._iconShapeMap.dataZoom.highlightStyle.strokeColor}}),this.zr.un(l.EVENT.MOUSEDOWN,this._onmousedown),this.zr.un(l.EVENT.MOUSEUP,this._onmouseup),this.zr.un(l.EVENT.MOUSEMOVE,
this._onmousemove))},_iconDisable:function(b){"image"!=b.type?this.zr.modShape(b.id,{hoverable:!1,clickable:!1,style:{strokeColor:this._disableColor}}):this.zr.modShape(b.id,{hoverable:!1,clickable:!1,style:{opacity:.3}})},_iconEnable:function(b){"image"!=b.type?this.zr.modShape(b.id,{hoverable:!0,clickable:!0,style:{strokeColor:b.highlightStyle.strokeColor}}):this.zr.modShape(b.id,{hoverable:!0,clickable:!0,style:{opacity:.8}})},__onDataView:function(){return this._dataView.show(this.option),!0},
__onRestore:function(){return this._resetMark(),this._resetZoom(),this.messageCenter.dispatch(m.EVENT.RESTORE,null,null,this.myChart),!0},__onSaveAsImage:function(){var b=this.option.toolbox.feature.saveAsImage,d=b.type||"png";"png"!=d&&"jpeg"!=d&&(d="png");var h;this.myChart.isConnected()?h=this.myChart.getConnectedDataURL(d):h=this.zr.toDataURL("image/"+d,this.option.backgroundColor&&"rgba(0,0,0,0)"==this.option.backgroundColor.replace(" ","")?"#fff":this.option.backgroundColor);var g=document.createElement("div");
g.id="__echarts_download_wrap__";g.style.cssText="position:fixed;z-index:99999;display:block;top:0;left:0;background-color:rgba(33,33,33,0.5);text-align:center;width:100%;height:100%;line-height:"+document.documentElement.clientHeight+"px;";var c=document.createElement("a");c.href=h;c.setAttribute("download",(b.name?b.name:this.option.title&&(this.option.title.text||this.option.title.subtext)?this.option.title.text||this.option.title.subtext:"ECharts")+"."+d);c.innerHTML='<img style="vertical-align:middle" src="'+
h+'" title="'+(window.attachEvent&&-1===navigator.userAgent.indexOf("Opera")?"\u53f3\u952e->\u56fe\u7247\u53e6\u5b58\u4e3a":b.lang?b.lang[0]:"\u70b9\u51fb\u4fdd\u5b58")+'"/>';g.appendChild(c);document.body.appendChild(g);g=c=null;setTimeout(function(){var c=document.getElementById("__echarts_download_wrap__");c&&(c.onclick=function(){var c=document.getElementById("__echarts_download_wrap__");c.onclick=null;c.innerHTML="";document.body.removeChild(c)},c=null)},500)},__onMagicType:function(b){this._resetMark();
var d=b.target._name;return this._magicType[d]||(this._magicType[d]=!0,d==m.CHART_TYPE_LINE?this._magicType[m.CHART_TYPE_BAR]=!1:d==m.CHART_TYPE_BAR&&(this._magicType[m.CHART_TYPE_LINE]=!1),"stack"==d?this._magicType.tiled=!1:"tiled"==d&&(this._magicType.stack=!1),this.messageCenter.dispatch(m.EVENT.MAGIC_TYPE_CHANGED,b.event,{magicType:this._magicType},this.myChart)),!0},setMagicType:function(b){this._resetMark();this._magicType=b;!this._isSilence&&this.messageCenter.dispatch(m.EVENT.MAGIC_TYPE_CHANGED,
null,{magicType:this._magicType},this.myChart)},__onCustomHandler:function(b){b=this.option.toolbox.feature[b.target.style.iconType].onclick;"function"==typeof b&&b(this.option)},reset:function(b,d){d&&this.clear();if(this.query(b,"toolbox.show")&&this.query(b,"toolbox.feature.magicType.show")){var h=b.toolbox.feature.magicType.type,g=h.length;for(this._magicMap={};g--;)this._magicMap[h[g]]=!0;for(var g=b.series.length,c;g--;)if(h=b.series[g].type,this._magicMap[h]&&(c=b.xAxis instanceof Array?b.xAxis[b.series[g].xAxisIndex||
0]:b.xAxis,c&&"category"==(c.type||"category")&&(c.__boundaryGap="undefined"!=typeof c.boundaryGap?c.boundaryGap:!0),c=b.yAxis instanceof Array?b.yAxis[b.series[g].yAxisIndex||0]:b.yAxis,c&&"category"==c.type&&(c.__boundaryGap="undefined"!=typeof c.boundaryGap?c.boundaryGap:!0),b.series[g].__type=h,b.series[g].__itemStyle=n.clone(b.series[g].itemStyle||{})),this._magicMap.stack||this._magicMap.tiled)b.series[g].__stack=b.series[g].stack}this._magicType=d?{}:this._magicType||{};for(var a in this._magicType)if(this._magicType[a]){this.option=
b;this.getMagicOption();break}(c=b.dataZoom)&&c.show?(g="undefined"!=typeof c.start&&0<=c.start&&100>=c.start?c.start:0,c="undefined"!=typeof c.end&&0<=c.end&&100>=c.end?c.end:100,g>c&&(g+=c,c=g-c,g-=c),this._zoomQueue=[{start:g,end:c,start2:0,end2:100}]):this._zoomQueue=[]},getMagicOption:function(){var b;if(this._magicType[m.CHART_TYPE_LINE]||this._magicType[m.CHART_TYPE_BAR])for(var d=this._magicType[m.CHART_TYPE_LINE]?!1:!0,h=0,g=this.option.series.length;h<g;h++)this._magicMap[this.option.series[h].type]&&
(this.option.series[h].type=this._magicType[m.CHART_TYPE_LINE]?m.CHART_TYPE_LINE:m.CHART_TYPE_BAR,this.option.series[h].itemStyle=n.clone(this.option.series[h].__itemStyle),b=this.option.xAxis instanceof Array?this.option.xAxis[this.option.series[h].xAxisIndex||0]:this.option.xAxis,b&&"category"==(b.type||"category")&&(b.boundaryGap=d?!0:b.__boundaryGap),b=this.option.yAxis instanceof Array?this.option.yAxis[this.option.series[h].yAxisIndex||0]:this.option.yAxis,b&&"category"==b.type&&(b.boundaryGap=
d?!0:b.__boundaryGap));if(this._magicType.stack||this._magicType.tiled)for(h=0,g=this.option.series.length;h<g;h++)this._magicType.stack?this.option.series[h].stack="_ECHARTS_STACK_KENER_2014_":this._magicType.tiled&&(this.option.series[h].stack=null);return this.option},silence:function(b){this._isSilence=b},resize:function(){this._resetMark();this.clear();this.option&&this.option.toolbox&&this.option.toolbox.show&&this._buildShape();this._dataView&&this._dataView.resize()},hideDataView:function(){this._dataView&&
this._dataView.hide()},clear:function(b){this.zr&&(this.zr.delShape(this.shapeList),this.shapeList=[],b||(this.zr.delShape(this._markShapeList),this._markShapeList=[]))},dispose:function(){this._dataView&&(this._dataView.dispose(),this._dataView=null);this.clear();this._markShapeList=this.shapeList=null},refresh:function(b){b&&(this._resetMark(),this._resetZoom(),b.toolbox=this.reformOption(b.toolbox),b.toolbox.padding=this.reformCssArray(b.toolbox.padding),this.option=b,this.clear(!0),b.toolbox.show&&
this._buildShape(),this.hideDataView())}},n.inherits(q,r),a("../component").define("toolbox",q),q});
define("echarts/component/title","require ./base zrender/shape/Text zrender/shape/Rectangle ../config zrender/tool/util zrender/tool/area zrender/tool/color ../component".split(" "),function(a){function q(a,d,b,k,h){r.call(this,a,d,b,k,h);this.refresh(k)}var r=a("./base"),s=a("zrender/shape/Text"),p=a("zrender/shape/Rectangle"),f=a("../config"),e=a("zrender/tool/util"),m=a("zrender/tool/area"),n=a("zrender/tool/color");return q.prototype={type:f.COMPONENT_TYPE_TITLE,_buildShape:function(){this._itemGroupLocation=
this._getItemGroupLocation();this._buildBackground();this._buildItem();for(var a=0,d=this.shapeList.length;a<d;a++)this.zr.addShape(this.shapeList[a])},_buildItem:function(){var a=this.titleOption.text,d=this.titleOption.link,b=this.titleOption.target,k=this.titleOption.subtext,h=this.titleOption.sublink,g=this.titleOption.subtarget,c=this.getFont(this.titleOption.textStyle),t=this.getFont(this.titleOption.subtextStyle),e=this._itemGroupLocation.x,f=this._itemGroupLocation.y,m=this._itemGroupLocation.width,
L=this._itemGroupLocation.height,a={zlevel:this._zlevelBase,style:{y:f,color:this.titleOption.textStyle.color,text:a,textFont:c,textBaseline:"top"},highlightStyle:{color:n.lift(this.titleOption.textStyle.color,1),brushType:"fill"},hoverable:!1};d&&(a.hoverable=!0,a.clickable=!0,a.onclick=function(){b&&"self"==b?window.location=d:window.open(d)});t={zlevel:this._zlevelBase,style:{y:f+L,color:this.titleOption.subtextStyle.color,text:k,textFont:t,textBaseline:"bottom"},highlightStyle:{color:n.lift(this.titleOption.subtextStyle.color,
1),brushType:"fill"},hoverable:!1};h&&(t.hoverable=!0,t.clickable=!0,t.onclick=function(){g&&"self"==g?window.location=h:window.open(h)});switch(this.titleOption.x){case "center":a.style.x=t.style.x=e+m/2;a.style.textAlign=t.style.textAlign="center";break;case "left":a.style.x=t.style.x=e;a.style.textAlign=t.style.textAlign="left";break;case "right":a.style.x=t.style.x=e+m;a.style.textAlign=t.style.textAlign="right";break;default:e=this.titleOption.x-0,e=isNaN(e)?0:e,a.style.x=t.style.x=e}this.titleOption.textAlign&&
(a.style.textAlign=t.style.textAlign=this.titleOption.textAlign);this.shapeList.push(new s(a));""!==k&&this.shapeList.push(new s(t))},_buildBackground:function(){var a=this.titleOption.padding[0],d=this.titleOption.padding[3];this.shapeList.push(new p({zlevel:this._zlevelBase,hoverable:!1,style:{x:this._itemGroupLocation.x-d,y:this._itemGroupLocation.y-a,width:this._itemGroupLocation.width+d+this.titleOption.padding[1],height:this._itemGroupLocation.height+a+this.titleOption.padding[2],brushType:0===
this.titleOption.borderWidth?"fill":"both",color:this.titleOption.backgroundColor,strokeColor:this.titleOption.borderColor,lineWidth:this.titleOption.borderWidth}}))},_getItemGroupLocation:function(){var a=this.titleOption.text,d=this.titleOption.subtext,b=this.getFont(this.titleOption.textStyle),k=this.getFont(this.titleOption.subtextStyle),h=Math.max(m.getTextWidth(a,b),m.getTextWidth(d,k)),a=m.getTextHeight(a,b)+(""===d?0:this.titleOption.itemGap+m.getTextHeight(d,k)),d=this.zr.getWidth();switch(this.titleOption.x){case "center":d=
Math.floor((d-h)/2);break;case "left":d=this.titleOption.padding[3]+this.titleOption.borderWidth;break;case "right":d=d-h-this.titleOption.padding[1]-this.titleOption.borderWidth;break;default:d=this.titleOption.x-0,d=isNaN(d)?0:d}b=this.zr.getHeight();switch(this.titleOption.y){case "top":b=this.titleOption.padding[0]+this.titleOption.borderWidth;break;case "bottom":b=b-a-this.titleOption.padding[2]-this.titleOption.borderWidth;break;case "center":b=Math.floor((b-a)/2);break;default:b=this.titleOption.y-
0,b=isNaN(b)?0:b}return{x:d,y:b,width:h,height:a}},refresh:function(a){a&&(this.option=a,this.option.title=this.reformOption(this.option.title),this.option.title.padding=this.reformCssArray(this.option.title.padding),this.titleOption=this.option.title,this.titleOption.textStyle=e.merge(this.titleOption.textStyle,this.ecTheme.textStyle),this.titleOption.subtextStyle=e.merge(this.titleOption.subtextStyle,this.ecTheme.textStyle));this.clear();this._buildShape()}},e.inherits(q,r),a("../component").define("title",
q),q});
define("echarts/util/shape/Cross",["require","zrender/shape/Base","zrender/shape/Line","zrender/tool/util","./normalIsCover"],function(a){function q(a){r.call(this,a)}var r=a("zrender/shape/Base"),s=a("zrender/shape/Line"),p=a("zrender/tool/util");return q.prototype={type:"cross",buildPath:function(a,e){var m=e.rect;e.xStart=m.x;e.xEnd=m.x+m.width;e.yStart=e.yEnd=e.y;s.prototype.buildPath(a,e);e.xStart=e.xEnd=e.x;e.yStart=m.y;e.yEnd=m.y+m.height;s.prototype.buildPath(a,e)},getRect:function(a){return a.rect},isCover:a("./normalIsCover")},
p.inherits(q,r),q});
define("echarts/component/tooltip","require ./base ../util/shape/Cross zrender/shape/Line zrender/shape/Rectangle ../config ../util/ecData zrender/config zrender/tool/event zrender/tool/area zrender/tool/color zrender/tool/util zrender/shape/Base ../component".split(" "),function(a){function q(b,c,h,d,a){r.call(this,b,c,h,d,a);this.dom=a.dom;var k=this;k._onmousemove=function(c){return k.__onmousemove(c)};k._onglobalout=function(c){return k.__onglobalout(c)};this.zr.on(n.EVENT.MOUSEMOVE,k._onmousemove);
this.zr.on(n.EVENT.GLOBALOUT,k._onglobalout);k._hide=function(c){return k.__hide(c)};k._tryShow=function(c){return k.__tryShow(c)};k._refixed=function(c){return k.__refixed(c)};k._setContent=function(c,b){return k.__setContent(c,b)};this._tDom=this._tDom||document.createElement("div");this._tDom.onselectstart=function(){return!1};this._tDom.style.position="absolute";this.hasAppend=!1;this._axisLineShape&&this.zr.delShape(this._axisLineShape.id);this._axisLineShape=new p({zlevel:this._zlevelBase,invisible:!0,
hoverable:!1});this.shapeList.push(this._axisLineShape);this.zr.addShape(this._axisLineShape);this._axisShadowShape&&this.zr.delShape(this._axisShadowShape.id);this._axisShadowShape=new p({zlevel:1,invisible:!0,hoverable:!1});this.shapeList.push(this._axisShadowShape);this.zr.addShape(this._axisShadowShape);this._axisCrossShape&&this.zr.delShape(this._axisCrossShape.id);this._axisCrossShape=new s({zlevel:this._zlevelBase,invisible:!0,hoverable:!1});this.shapeList.push(this._axisCrossShape);this.zr.addShape(this._axisCrossShape);
this.showing=!1;this.refresh(d)}var r=a("./base"),s=a("../util/shape/Cross"),p=a("zrender/shape/Line"),f=new (a("zrender/shape/Rectangle"))({}),e=a("../config"),m=a("../util/ecData"),n=a("zrender/config"),l=a("zrender/tool/event"),d=a("zrender/tool/area"),b=a("zrender/tool/color"),k=a("zrender/tool/util"),h=a("zrender/shape/Base");return q.prototype={type:e.COMPONENT_TYPE_TOOLTIP,_gCssText:"position:absolute;display:block;border-style:solid;white-space:nowrap;",_style:function(g){if(!g)return"";var c=
[];if(g.transitionDuration){var h="left "+g.transitionDuration+"s,top "+g.transitionDuration+"s";c.push("transition:"+h);c.push("-moz-transition:"+h);c.push("-webkit-transition:"+h);c.push("-o-transition:"+h)}g.backgroundColor&&(c.push("background-Color:"+b.toHex(g.backgroundColor)),c.push("filter:alpha(opacity=70)"),c.push("background-Color:"+g.backgroundColor));"undefined"!=typeof g.borderWidth&&c.push("border-width:"+g.borderWidth+"px");"undefined"!=typeof g.borderColor&&c.push("border-color:"+
g.borderColor);"undefined"!=typeof g.borderRadius&&(c.push("border-radius:"+g.borderRadius+"px"),c.push("-moz-border-radius:"+g.borderRadius+"px"),c.push("-webkit-border-radius:"+g.borderRadius+"px"),c.push("-o-border-radius:"+g.borderRadius+"px"));(h=g.textStyle)&&(h.color&&c.push("color:"+h.color),h.decoration&&c.push("text-decoration:"+h.decoration),h.align&&c.push("text-align:"+h.align),h.fontFamily&&c.push("font-family:"+h.fontFamily),h.fontSize&&c.push("font-size:"+h.fontSize+"px"),h.fontSize&&
c.push("line-height:"+Math.round(3*h.fontSize/2)+"px"),h.fontStyle&&c.push("font-style:"+h.fontStyle),h.fontWeight&&c.push("font-weight:"+h.fontWeight));g=g.padding;return"undefined"!=typeof g&&(g=this.reformCssArray(g),c.push("padding:"+g[0]+"px "+g[1]+"px "+g[2]+"px "+g[3]+"px")),c=c.join(";")+";",c},__hide:function(){this._tDom&&(this._tDom.style.display="none");var b=!1;this._axisLineShape.invisible||(this._axisLineShape.invisible=!0,this.zr.modShape(this._axisLineShape.id),b=!0);this._axisShadowShape.invisible||
(this._axisShadowShape.invisible=!0,this.zr.modShape(this._axisShadowShape.id),b=!0);this._axisCrossShape.invisible||(this._axisCrossShape.invisible=!0,this.zr.modShape(this._axisCrossShape.id),b=!0);this._lastTipShape&&0<this._lastTipShape.tipShape.length&&(this.zr.delShape(this._lastTipShape.tipShape),this._lastTipShape=!1,this.shapeList.length=2);b&&this.zr.refresh();this.showing=!1},_show:function(b,c,h,d){var a=this._tDom.offsetHeight,k=this._tDom.offsetWidth;b&&("function"==typeof b&&(b=b([c,
h])),b instanceof Array&&(c=b[0],h=b[1]));c+k>this._zrWidth&&(c-=k+40);h+a>this._zrHeight&&(h-=a-20);20>h&&(h=0);this._tDom.style.cssText=this._gCssText+this._defaultCssText+(d?d:"")+"left:"+c+"px;top:"+h+"px;";(10>a||10>k)&&setTimeout(this._refixed,20);this.showing=!0},__refixed:function(){if(this._tDom){var b="",c=this._tDom.offsetHeight,h=this._tDom.offsetWidth;this._tDom.offsetLeft+h>this._zrWidth&&(b+="left:"+(this._zrWidth-h-20)+"px;");this._tDom.offsetTop+c>this._zrHeight&&(b+="top:"+(this._zrHeight-
c-10)+"px;");""!==b&&(this._tDom.style.cssText+=b)}},__tryShow:function(){var b,c;if(this._curTarget)if("island"==this._curTarget._type&&this.option.tooltip.show)this._showItemTrigger();else{var h=m.get(this._curTarget,"series"),d=m.get(this._curTarget,"data");b=this.deepQuery([d,h,this.option],"tooltip.show");"undefined"==typeof h||"undefined"==typeof d||!1===b?(clearTimeout(this._hidingTicket),clearTimeout(this._showingTicket),this._hidingTicket=setTimeout(this._hide,this._hideDelay)):(c=this.deepQuery([d,
h,this.option],"tooltip.trigger"),"axis"==c?this._showAxisTrigger(h.xAxisIndex,h.yAxisIndex,m.get(this._curTarget,"dataIndex")):this._showItemTrigger())}else this._findPolarTrigger()||this._findAxisTrigger()},_findAxisTrigger:function(){if(this.component.xAxis&&this.component.yAxis){var b=this.option.series,c,h=0;for(c=b.length;h<c;h++)if("axis"==this.deepQuery([b[h],this.option],"tooltip.trigger")){c=b[h].xAxisIndex||0;b=b[h].yAxisIndex||0;if(this.component.xAxis.getAxis(c)&&this.component.xAxis.getAxis(c).type==
e.COMPONENT_TYPE_AXIS_CATEGORY){this._showAxisTrigger(c,b,this._getNearestDataIndex("x",this.component.xAxis.getAxis(c)));return}if(this.component.yAxis.getAxis(b)&&this.component.yAxis.getAxis(b).type==e.COMPONENT_TYPE_AXIS_CATEGORY){this._showAxisTrigger(c,b,this._getNearestDataIndex("y",this.component.yAxis.getAxis(b)));return}this._showAxisTrigger(c,b,-1);return}"cross"==this.option.tooltip.axisPointer.type&&this._showAxisTrigger(-1,-1,-1)}else this._hidingTicket=setTimeout(this._hide,this._hideDelay)},
_findPolarTrigger:function(){if(!this.component.polar)return!1;var b=l.getX(this._event),c=l.getY(this._event),b=this.component.polar.getNearestIndex([b,c]),h;return b?(h=b.valueIndex,b=b.polarIndex):b=-1,-1!=b?this._showPolarTrigger(b,h):!1},_getNearestDataIndex:function(b,c){var h=-1,d=l.getX(this._event),a=l.getY(this._event);if("x"==b){for(var k,e,a=this.component.grid.getXend(),f=c.getCoordByIndex(h);f<a;){f<=d&&(k=f);if(f>=d)break;e=f=c.getCoordByIndex(++h)}return d-k<e-d?h-=0!==h?1:0:"undefined"==
typeof c.getNameByIndex(h)&&--h,h}for(var n,m,d=this.component.grid.getY(),f=c.getCoordByIndex(h);f>d;){f>=a&&(m=f);if(f<=a)break;n=f=c.getCoordByIndex(++h)}return a-n>m-a?h-=0!==h?1:0:"undefined"==typeof c.getNameByIndex(h)&&--h,h},_showAxisTrigger:function(b,c,h){!this._event.connectTrigger&&this.messageCenter.dispatch(e.EVENT.TOOLTIP_IN_GRID,this._event,null,this.myChart);if("undefined"==typeof this.component.xAxis||"undefined"==typeof this.component.yAxis||"undefined"==typeof b||"undefined"==
typeof c)clearTimeout(this._hidingTicket),clearTimeout(this._showingTicket),this._hidingTicket=setTimeout(this._hide,this._hideDelay);else{var d=this.option.series,a=[],k=[],f,n,m,p,q="";if("axis"==this.option.tooltip.trigger){if(!1===this.option.tooltip.show)return;n=this.option.tooltip.formatter;m=this.option.tooltip.position}if(-1!=b&&this.component.xAxis.getAxis(b).type==e.COMPONENT_TYPE_AXIS_CATEGORY){f=this.component.xAxis.getAxis(b);for(var r=0,s=d.length;r<s;r++)this._isSelected(d[r].name)&&
d[r].xAxisIndex==b&&"axis"==this.deepQuery([d[r],this.option],"tooltip.trigger")&&(p=this.query(d[r],"tooltip.showContent")||p,n=this.query(d[r],"tooltip.formatter")||n,m=this.query(d[r],"tooltip.position")||m,q+=this._style(this.query(d[r],"tooltip")),a.push(d[r]),k.push(r));this.messageCenter.dispatch(e.EVENT.TOOLTIP_HOVER,this._event,{seriesIndex:k,dataIndex:h},this.myChart);c=l.getY(this._event);b=this.subPixelOptimize(f.getCoordByIndex(h),this._axisLineWidth);this._styleAxisPointer(a,b,this.component.grid.getY(),
b,this.component.grid.getYend(),f.getGap(),b,c)}else if(-1!=c&&this.component.yAxis.getAxis(c).type==e.COMPONENT_TYPE_AXIS_CATEGORY){f=this.component.yAxis.getAxis(c);r=0;for(s=d.length;r<s;r++)this._isSelected(d[r].name)&&d[r].yAxisIndex==c&&"axis"==this.deepQuery([d[r],this.option],"tooltip.trigger")&&(p=this.query(d[r],"tooltip.showContent")||p,n=this.query(d[r],"tooltip.formatter")||n,m=this.query(d[r],"tooltip.position")||m,q+=this._style(this.query(d[r],"tooltip")),a.push(d[r]),k.push(r));this.messageCenter.dispatch(e.EVENT.TOOLTIP_HOVER,
this._event,{seriesIndex:k,dataIndex:h},this.myChart);b=l.getX(this._event);c=this.subPixelOptimize(f.getCoordByIndex(h),this._axisLineWidth);this._styleAxisPointer(a,this.component.grid.getX(),c,this.component.grid.getXend(),c,f.getGap(),b,c)}else b=l.getX(this._event),c=l.getY(this._event),this._styleAxisPointer(d,this.component.grid.getX(),c,this.component.grid.getXend(),c,0,b,c),0<=h?this._showItemTrigger():(clearTimeout(this._hidingTicket),clearTimeout(this._showingTicket),this._tDom.style.display=
"none");if(0<a.length){if("function"==typeof n){k=[];r=0;for(s=a.length;r<s;r++)d=a[r].data[h],d="undefined"!=typeof d?"undefined"!=typeof d.value?d.value:d:"-",k.push([a[r].name||"",f.getNameByIndex(h),d]);this._curTicket="axis:"+h;this._tDom.innerHTML=n.call(this.myChart,k,this._curTicket,this._setContent)}else{if("string"==typeof n)for(this._curTicket=NaN,n=n.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}"),r=0,s=a.length;r<s;r++)n=n.replace("{a"+r+"}",this._encodeHTML(a[r].name||
"")),n=n.replace("{b"+r+"}",this._encodeHTML(f.getNameByIndex(h))),d=a[r].data[h],d="undefined"!=typeof d?"undefined"!=typeof d.value?d.value:d:"-",n=n.replace("{c"+r+"}",d instanceof Array?d:this.numAddCommas(d));else for(this._curTicket=NaN,n=this._encodeHTML(f.getNameByIndex(h)),r=0,s=a.length;r<s;r++)n+="<br/>"+this._encodeHTML(a[r].name||"")+" : ",d=a[r].data[h],d="undefined"!=typeof d?"undefined"!=typeof d.value?d.value:d:"-",n+=d instanceof Array?d:this.numAddCommas(d);this._tDom.innerHTML=
n}!1!==p&&this.option.tooltip.showContent&&(this.hasAppend||(this._tDom.style.left=this._zrWidth/2+"px",this._tDom.style.top=this._zrHeight/2+"px",this.dom.firstChild.appendChild(this._tDom),this.hasAppend=!0),this._show(m,b+10,c+10,q))}}},_showPolarTrigger:function(b,c){if("undefined"==typeof this.component.polar||"undefined"==typeof b||"undefined"==typeof c||0>c)return!1;var h=this.option.series,d=[],a,k,e,f="";if("axis"==this.option.tooltip.trigger){if(!1===this.option.tooltip.show)return!1;a=
this.option.tooltip.formatter;k=this.option.tooltip.position}for(var n=this.option.polar[b].indicator[c].text,m=0,p=h.length;m<p;m++)this._isSelected(h[m].name)&&h[m].polarIndex==b&&"axis"==this.deepQuery([h[m],this.option],"tooltip.trigger")&&(e=this.query(h[m],"tooltip.showContent")||e,a=this.query(h[m],"tooltip.formatter")||a,k=this.query(h[m],"tooltip.position")||k,f+=this._style(this.query(h[m],"tooltip")),d.push(h[m]));if(0<d.length){for(var q,r=[],m=0,p=d.length;m<p;m++)for(var h=d[m].data,
s=0,x=h.length;s<x;s++)q=h[s],this._isSelected(q.name)&&(q="undefined"!=typeof q?q:{name:"",value:{dataIndex:"-"}},r.push([d[m].name||"",q.name,"undefined"!=typeof q.value[c].value?q.value[c].value:q.value[c],n]));if(!(0>=r.length)){if("function"==typeof a)this._curTicket="axis:"+c,this._tDom.innerHTML=a.call(this.myChart,r,this._curTicket,this._setContent);else{if("string"==typeof a)for(a=a.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}").replace("{d}","{d0}"),m=0,p=r.length;m<p;m++)a=
a.replace("{a"+m+"}",this._encodeHTML(r[m][0])),a=a.replace("{b"+m+"}",this._encodeHTML(r[m][1])),a=a.replace("{c"+m+"}",this.numAddCommas(r[m][2])),a=a.replace("{d"+m+"}",this._encodeHTML(r[m][3]));else for(a=this._encodeHTML(r[0][1])+"<br/>"+this._encodeHTML(r[0][3])+" : "+this.numAddCommas(r[0][2]),m=1,p=r.length;m<p;m++)a+="<br/>"+this._encodeHTML(r[m][1])+"<br/>",a+=this._encodeHTML(r[m][3])+" : "+this.numAddCommas(r[m][2]);this._tDom.innerHTML=a}if(!1!==e&&this.option.tooltip.showContent)return this.hasAppend||
(this._tDom.style.left=this._zrWidth/2+"px",this._tDom.style.top=this._zrHeight/2+"px",this.dom.firstChild.appendChild(this._tDom),this.hasAppend=!0),this._show(k,l.getX(this._event),l.getY(this._event),f),!0}}},_showItemTrigger:function(){if(this._curTarget){var b=m.get(this._curTarget,"series"),c=m.get(this._curTarget,"data"),h=m.get(this._curTarget,"name"),d=m.get(this._curTarget,"value"),a=m.get(this._curTarget,"special"),k=m.get(this._curTarget,"special2"),f,n,p,A="",q="";"island"!=this._curTarget._type?
("item"==this.option.tooltip.trigger&&(f=this.option.tooltip.formatter,n=this.option.tooltip.position),"item"==this.query(b,"tooltip.trigger")&&(p=this.query(b,"tooltip.showContent")||p,f=this.query(b,"tooltip.formatter")||f,n=this.query(b,"tooltip.position")||n,A+=this._style(this.query(b,"tooltip"))),p=this.query(c,"tooltip.showContent")||p,f=this.query(c,"tooltip.formatter")||f,n=this.query(c,"tooltip.position")||n,A+=this._style(this.query(c,"tooltip"))):(p=this.deepQuery([c,b,this.option],"tooltip.showContent"),
f=this.deepQuery([c,b,this.option],"tooltip.islandFormatter"),n=this.deepQuery([c,b,this.option],"tooltip.islandPosition"));if("function"==typeof f)this._curTicket=(b.name||"")+":"+m.get(this._curTarget,"dataIndex"),this._tDom.innerHTML=f.call(this.myChart,[b.name||"",h,d,a,k,c],this._curTicket,this._setContent);else if("string"==typeof f)this._curTicket=NaN,f=f.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}"),f=f.replace("{a0}",this._encodeHTML(b.name||"")).replace("{b0}",this._encodeHTML(h)).replace("{c0}",
d instanceof Array?d:this.numAddCommas(d)),f=f.replace("{d}","{d0}").replace("{d0}",a||""),f=f.replace("{e}","{e0}").replace("{e0}",m.get(this._curTarget,"special2")||""),this._tDom.innerHTML=f;else if(this._curTicket=NaN,b.type==e.CHART_TYPE_SCATTER)this._tDom.innerHTML=("undefined"!=typeof b.name?this._encodeHTML(b.name)+"<br/>":"")+(""===h?"":this._encodeHTML(h)+" : ")+d+("undefined"==typeof a?"":" ("+a+")");else if(b.type==e.CHART_TYPE_RADAR&&a){q+=this._encodeHTML(""===h?b.name||"":h);q+=""===
q?"":"<br />";for(b=0;b<a.length;b++)q+=this._encodeHTML(a[b].text)+" : "+this.numAddCommas(d[b])+"<br />";this._tDom.innerHTML=q}else b.type==e.CHART_TYPE_CHORD?"undefined"==typeof k?this._tDom.innerHTML=this._encodeHTML(h)+" ("+this.numAddCommas(d)+")":(q=this._encodeHTML(h),a=this._encodeHTML(a),this._tDom.innerHTML=("undefined"!=typeof b.name?this._encodeHTML(b.name)+"<br/>":"")+q+" -> "+a+" ("+this.numAddCommas(d)+")<br />"+a+" -> "+q+" ("+this.numAddCommas(k)+")"):this._tDom.innerHTML=("undefined"!=
typeof b.name?this._encodeHTML(b.name)+"<br/>":"")+this._encodeHTML(h)+" : "+this.numAddCommas(d)+("undefined"==typeof a?"":" ("+this.numAddCommas(a)+")");this._axisLineShape.invisible&&this._axisShadowShape.invisible||(this._axisLineShape.invisible=!0,this.zr.modShape(this._axisLineShape.id),this._axisShadowShape.invisible=!0,this.zr.modShape(this._axisShadowShape.id),this.zr.refresh());!1!==p&&this.option.tooltip.showContent&&(this.hasAppend||(this._tDom.style.left=this._zrWidth/2+"px",this._tDom.style.top=
this._zrHeight/2+"px",this.dom.firstChild.appendChild(this._tDom),this.hasAppend=!0),this._show(n,l.getX(this._event)+20,l.getY(this._event)-20,A))}},_styleAxisPointer:function(b,c,h,d,a,k,l,e){if(0<b.length){var f,n,m=this.option.tooltip.axisPointer,p=m.type,q={line:{},cross:{},shadow:{}},r;for(r in q)q[r].color=m[r+"Style"].color,q[r].width=m[r+"Style"].width,q[r].type=m[r+"Style"].type;m=0;for(r=b.length;m<r;m++)"axis"==this.deepQuery([b[m],this.option],"tooltip.trigger")&&(f=b[m],n=this.query(f,
"tooltip.axisPointer.type"),p=n||p,n&&(q[n].color=this.query(f,"tooltip.axisPointer."+n+"Style.color")||q[n].color,q[n].width=this.query(f,"tooltip.axisPointer."+n+"Style.width")||q[n].width,q[n].type=this.query(f,"tooltip.axisPointer."+n+"Style.type")||q[n].type));if("line"==p)this._axisLineShape.style={xStart:c,yStart:h,xEnd:d,yEnd:a,strokeColor:q.line.color,lineWidth:q.line.width,lineType:q.line.type},this._axisLineShape.invisible=!1,this.zr.modShape(this._axisLineShape.id);else if("cross"==p)this._axisCrossShape.style=
{brushType:"stroke",rect:this.component.grid.getArea(),x:l,y:e,text:("( "+this.component.xAxis.getAxis(0).getValueFromCoord(l)+" , "+this.component.yAxis.getAxis(0).getValueFromCoord(e)+" )").replace("  , "," ").replace(" ,  "," "),textPosition:"specific",strokeColor:q.cross.color,lineWidth:q.cross.width,lineType:q.cross.type},100<this.component.grid.getXend()-l?(this._axisCrossShape.style.textAlign="left",this._axisCrossShape.style.textX=l+10):(this._axisCrossShape.style.textAlign="right",this._axisCrossShape.style.textX=
l-10),50<e-this.component.grid.getY()?(this._axisCrossShape.style.textBaseline="bottom",this._axisCrossShape.style.textY=e-10):(this._axisCrossShape.style.textBaseline="top",this._axisCrossShape.style.textY=e+10),this._axisCrossShape.invisible=!1,this.zr.modShape(this._axisCrossShape.id);else if("shadow"==p){if("undefined"==typeof q.shadow.width||"auto"==q.shadow.width||isNaN(q.shadow.width))q.shadow.width=k;c==d?2>Math.abs(this.component.grid.getX()-c)?(q.shadow.width/=2,c=d+=q.shadow.width/2):2>
Math.abs(this.component.grid.getXend()-c)&&(q.shadow.width/=2,c=d-=q.shadow.width/2):h==a&&(2>Math.abs(this.component.grid.getY()-h)?(q.shadow.width/=2,h=a+=q.shadow.width/2):2>Math.abs(this.component.grid.getYend()-h)&&(q.shadow.width/=2,h=a-=q.shadow.width/2));this._axisShadowShape.style={xStart:c,yStart:h,xEnd:d,yEnd:a,strokeColor:q.shadow.color,lineWidth:q.shadow.width};this._axisShadowShape.invisible=!1;this.zr.modShape(this._axisShadowShape.id)}this.zr.refresh()}},__onmousemove:function(b){clearTimeout(this._hidingTicket);
clearTimeout(this._showingTicket);var c=b.target,h=l.getX(b.event),a=l.getY(b.event);if(c){this._curTarget=c;this._event=b.event;this._event.zrenderX=h;this._event.zrenderY=a;var k;if(this._needAxisTrigger&&this.component.polar&&-1!=(k=this.component.polar.isInside([h,a])))for(b=this.option.series,c=0,h=b.length;c<h;c++)if(b[c].polarIndex==k&&"axis"==this.deepQuery([b[c],this.option],"tooltip.trigger")){this._curTarget=null;break}this._showingTicket=setTimeout(this._tryShow,this._showDelay)}else this._curTarget=
!1,this._event=b.event,this._event.zrenderX=h,this._event.zrenderY=a,this._needAxisTrigger&&this.component.grid&&d.isInside(f,this.component.grid.getArea(),h,a)?this._showingTicket=setTimeout(this._tryShow,this._showDelay):this._needAxisTrigger&&this.component.polar&&-1!=this.component.polar.isInside([h,a])?this._showingTicket=setTimeout(this._tryShow,this._showDelay):(!this._event.connectTrigger&&this.messageCenter.dispatch(e.EVENT.TOOLTIP_OUT_GRID,this._event,null,this.myChart),this._hidingTicket=
setTimeout(this._hide,this._hideDelay))},__onglobalout:function(){clearTimeout(this._hidingTicket);clearTimeout(this._showingTicket);this._hidingTicket=setTimeout(this._hide,this._hideDelay)},__setContent:function(b,c){this._tDom&&(b==this._curTicket&&(this._tDom.innerHTML=c),setTimeout(this._refixed,20))},ontooltipHover:function(b,c){if(!this._lastTipShape||this._lastTipShape&&this._lastTipShape.dataIndex!=b.dataIndex){this._lastTipShape&&0<this._lastTipShape.tipShape.length&&(this.zr.delShape(this._lastTipShape.tipShape),
this.shapeList.length=2);for(var d=0,a=c.length;d<a;d++)c[d].zlevel=this._zlevelBase,c[d].style=h.prototype.getHighlightStyle(c[d].style,c[d].highlightStyle),c[d].draggable=!1,c[d].hoverable=!1,c[d].clickable=!1,c[d].ondragend=null,c[d].ondragover=null,c[d].ondrop=null,this.shapeList.push(c[d]),this.zr.addShape(c[d]);this._lastTipShape={dataIndex:b.dataIndex,tipShape:c}}},ondragend:function(){this._hide()},onlegendSelected:function(b){this._selectedMap=b.selected},_setSelectedMap:function(){this.component.legend?
this._selectedMap=k.clone(this.component.legend.getSelectedMap()):this._selectedMap={}},_isSelected:function(b){return"undefined"!=typeof this._selectedMap[b]?this._selectedMap[b]:!0},showTip:function(b){if(b){var c,h=this.option.series;if("undefined"!=typeof b.seriesIndex)c=b.seriesIndex;else for(var d=b.seriesName,a=0,k=h.length;a<k;a++)if(h[a].name==d){c=a;break}h=h[c];if("undefined"!=typeof h){var l=this.myChart.chart[h.type],a="axis"==this.deepQuery([h,this.option],"tooltip.trigger");if(l)if(a)switch(b=
b.dataIndex,l.type){case e.CHART_TYPE_LINE:case e.CHART_TYPE_BAR:case e.CHART_TYPE_K:if("undefined"==typeof this.component.xAxis||"undefined"==typeof this.component.yAxis||h.data.length<=b)break;var f=h.xAxisIndex||0,p=h.yAxisIndex||0;this.component.xAxis.getAxis(f).type==e.COMPONENT_TYPE_AXIS_CATEGORY?this._event={zrenderX:this.component.xAxis.getAxis(f).getCoordByIndex(b),zrenderY:this.component.grid.getY()+(this.component.grid.getYend()-this.component.grid.getY())/4}:this._event={zrenderX:this.component.grid.getX()+
(this.component.grid.getXend()-this.component.grid.getX())/4,zrenderY:this.component.yAxis.getAxis(p).getCoordByIndex(b)};this._showAxisTrigger(f,p,b);break;case e.CHART_TYPE_RADAR:if("undefined"==typeof this.component.polar||h.data[0].value.length<=b)break;f=h.polarIndex||0;p=this.component.polar.getVector(f,b,"max");this._event={zrenderX:p[0],zrenderY:p[1]};this._showPolarTrigger(f,b)}else{d=l.shapeList;switch(l.type){case e.CHART_TYPE_LINE:case e.CHART_TYPE_BAR:case e.CHART_TYPE_K:case e.CHART_TYPE_SCATTER:b=
b.dataIndex;a=0;for(k=d.length;a<k;a++)if(m.get(d[a],"seriesIndex")==c&&m.get(d[a],"dataIndex")==b){this._curTarget=d[a];f=d[a].style.x;p=l.type!=e.CHART_TYPE_K?d[a].style.y:d[a].style.y[0];break}break;case e.CHART_TYPE_RADAR:b=b.dataIndex;a=0;for(k=d.length;a<k;a++)if("polygon"==d[a].type&&m.get(d[a],"seriesIndex")==c&&m.get(d[a],"dataIndex")==b){this._curTarget=d[a];p=this.component.polar.getCenter(h.polarIndex||0);f=p[0];p=p[1];break}break;case e.CHART_TYPE_PIE:b=b.name;a=0;for(k=d.length;a<k;a++)if("sector"==
d[a].type&&m.get(d[a],"seriesIndex")==c&&m.get(d[a],"name")==b){this._curTarget=d[a];p=this._curTarget.style;c=(p.startAngle+p.endAngle)/2*Math.PI/180;f=this._curTarget.style.x+Math.cos(c)*p.r/1.5;p=this._curTarget.style.y-Math.sin(c)*p.r/1.5;break}break;case e.CHART_TYPE_MAP:b=b.name;c=h.mapType;a=0;for(k=d.length;a<k;a++)if("text"==d[a].type&&d[a]._mapType==c&&d[a].style._name==b){this._curTarget=d[a];f=this._curTarget.style.x+this._curTarget.position[0];p=this._curTarget.style.y+this._curTarget.position[1];
break}break;case e.CHART_TYPE_CHORD:b=b.name;a=0;for(k=d.length;a<k;a++)if("sector"==d[a].type&&m.get(d[a],"name")==b){this._curTarget=d[a];p=this._curTarget.style;c=(p.startAngle+p.endAngle)/2*Math.PI/180;f=this._curTarget.style.x+Math.cos(c)*(p.r-2);p=this._curTarget.style.y-Math.sin(c)*(p.r-2);this.zr.trigger(n.EVENT.MOUSEMOVE,{zrenderX:f,zrenderY:p});return}break;case e.CHART_TYPE_FORCE:for(b=b.name,a=0,k=d.length;a<k;a++)if("circle"==d[a].type&&m.get(d[a],"name")==b){this._curTarget=d[a];f=this._curTarget.position[0];
p=this._curTarget.position[1];break}}"undefined"!=typeof f&&"undefined"!=typeof p&&(this._event={zrenderX:f,zrenderY:p},this.zr.addHoverShape(this._curTarget),this.zr.refreshHover(),this._showItemTrigger())}}}},hideTip:function(){this._hide()},refresh:function(b){this._zrHeight=this.zr.getHeight();this._zrWidth=this.zr.getWidth();this._lastTipShape&&0<this._lastTipShape.tipShape.length&&this.zr.delShape(this._lastTipShape.tipShape);this._lastTipShape=!1;this.shapeList.length=2;if(b){this.option=b;
this.option.tooltip=this.reformOption(this.option.tooltip);this.option.tooltip.textStyle=k.merge(this.option.tooltip.textStyle,this.ecTheme.textStyle);this.option.tooltip.padding=this.reformCssArray(this.option.tooltip.padding);this._needAxisTrigger=!1;"axis"==this.option.tooltip.trigger&&(this._needAxisTrigger=!0);b=this.option.series;for(var c=0,h=b.length;c<h;c++)if("axis"==this.query(b[c],"tooltip.trigger")){this._needAxisTrigger=!0;break}this._showDelay=this.option.tooltip.showDelay;this._hideDelay=
this.option.tooltip.hideDelay;this._defaultCssText=this._style(this.option.tooltip);this._setSelectedMap();this._axisLineWidth=this.option.tooltip.axisPointer.lineStyle.width}this.showing&&this._tryShow()},dispose:function(){this._lastTipShape&&0<this._lastTipShape.tipShape.length&&this.zr.delShape(this._lastTipShape.tipShape);this.clear();this.shapeList=null;clearTimeout(this._hidingTicket);clearTimeout(this._showingTicket);this.zr.un(n.EVENT.MOUSEMOVE,this._onmousemove);this.zr.un(n.EVENT.GLOBALOUT,
this._onglobalout);this.hasAppend&&this.dom.firstChild.removeChild(this._tDom);this._tDom=null},_encodeHTML:function(b){return String(b).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}},k.inherits(q,r),a("../component").define("tooltip",q),q});
define("zrender/shape/Ring",["require","./Base","../tool/util"],function(a){function q(a){r.call(this,a)}var r=a("./Base");return q.prototype={type:"ring",buildPath:function(a,p){a.arc(p.x,p.y,p.r,0,2*Math.PI,!1);a.moveTo(p.x+p.r0,p.y);a.arc(p.x,p.y,p.r0,0,2*Math.PI,!0)},getRect:function(a){if(a.__rect)return a.__rect;var p;return"stroke"==a.brushType||"fill"==a.brushType?p=a.lineWidth||1:p=0,a.__rect={x:Math.round(a.x-a.r-p/2),y:Math.round(a.y-a.r-p/2),width:2*a.r+p,height:2*a.r+p},a.__rect}},a("../tool/util").inherits(q,
r),q});
define("zrender/shape/Sector","require ../tool/math ./Base ./Ring ./Polygon ../tool/util".split(" "),function(a){function q(a){s.call(this,a)}var r=a("../tool/math"),s=a("./Base");return q.prototype={type:"sector",buildPath:function(a,f){var e=f.x,m=f.y,n="undefined"==typeof f.r0?0:f.r0,l=f.r,d=f.startAngle,b=f.endAngle;if(360<=Math.abs(b-d))a.arc(e,m,l,0,2*Math.PI,!1),0!==n&&(a.moveTo(e+n,m),a.arc(e,m,n,0,2*Math.PI,!0));else{var d=r.degreeToRadian(d),b=r.degreeToRadian(b),k=2*Math.PI,h=r.cos(d),g=
r.sin(d);a.moveTo(h*n+e,m-g*n);a.lineTo(h*l+e,m-g*l);a.arc(e,m,l,k-d,k-b,!0);a.lineTo(r.cos(b)*n+e,m-r.sin(b)*n);0!==n&&a.arc(e,m,n,k-b,k-d,!1)}},getRect:function(p){if(p.__rect)return p.__rect;var f=p.x,e=p.y,m="undefined"==typeof p.r0?0:p.r0,n=p.r,l=p.startAngle,d=p.endAngle;if(360<=Math.abs(d-l))return p.__rect=a("./Ring").prototype.getRect(p),p.__rect;l=(720+l)%360;d=(720+d)%360;d<=l&&(d+=360);var b=[];return 90>=l&&90<=d&&b.push([f,e-n]),180>=l&&180<=d&&b.push([f-n,e]),270>=l&&270<=d&&b.push([f,
e+n]),360>=l&&360<=d&&b.push([f+n,e]),l=r.degreeToRadian(l),d=r.degreeToRadian(d),b.push([r.cos(l)*m+f,e-r.sin(l)*m]),b.push([r.cos(l)*n+f,e-r.sin(l)*n]),b.push([r.cos(d)*n+f,e-r.sin(d)*n]),b.push([r.cos(d)*m+f,e-r.sin(d)*m]),p.__rect=a("./Polygon").prototype.getRect({brushType:p.brushType,lineWidth:p.lineWidth,pointList:b}),p.__rect}},a("../tool/util").inherits(q,s),q});
define("echarts/util/shape/Candle",["require","zrender/shape/Base","zrender/tool/util","./normalIsCover"],function(a){function q(a){r.call(this,a)}var r=a("zrender/shape/Base"),s=a("zrender/tool/util");return q.prototype={type:"candle",_numberOrder:function(a,f){return f-a},buildPath:function(a,f){var e=s.clone(f.y).sort(this._numberOrder);a.moveTo(f.x,e[3]);a.lineTo(f.x,e[2]);a.moveTo(f.x-f.width/2,e[2]);a.rect(f.x-f.width/2,e[2],f.width,e[1]-e[2]);a.moveTo(f.x,e[1]);a.lineTo(f.x,e[0])},getRect:function(a){if(!a.__rect){var f=
0;if("stroke"==a.brushType||"fill"==a.brushType)f=a.lineWidth||1;var e=s.clone(a.y).sort(this._numberOrder);a.__rect={x:Math.round(a.x-a.width/2-f/2),y:Math.round(e[3]-f/2),width:a.width+f,height:e[0]-e[3]+f}}return a.__rect},isCover:a("./normalIsCover")},s.inherits(q,r),q});
define("echarts/component/legend","require ./base zrender/shape/Text zrender/shape/Rectangle zrender/shape/Sector ../util/shape/Icon ../util/shape/Candle ../config zrender/tool/util zrender/tool/area ../component".split(" "),function(a){function q(b,g,c,a,d){if(this.query(a,"legend.data")){r.call(this,b,g,c,a,d);var k=this;k._legendSelected=function(b){k.__legendSelected(b)};this._colorIndex=0;this._colorMap={};this._selectedMap={};this.refresh(a)}else console.error("option.legend.data has not been defined.")}
var r=a("./base"),s=a("zrender/shape/Text"),p=a("zrender/shape/Rectangle"),f=a("zrender/shape/Sector"),e=a("../util/shape/Icon"),m=a("../util/shape/Candle"),n=a("../config"),l=a("zrender/tool/util"),d=a("zrender/tool/area");q.prototype={type:n.COMPONENT_TYPE_LEGEND,_buildShape:function(){this._itemGroupLocation=this._getItemGroupLocation();this._buildBackground();this._buildItem();for(var b=0,g=this.shapeList.length;b<g;b++)this.zr.addShape(this.shapeList[b])},_buildItem:function(){var b=this.legendOption.data,
g=b.length,c,a,k,f=this.legendOption.textStyle,n,m,p=this.zr.getWidth(),E=this.zr.getHeight(),q=this._itemGroupLocation.x,r=this._itemGroupLocation.y,C=this.legendOption.itemWidth,u=this.legendOption.itemHeight,w=this.legendOption.itemGap,x;"vertical"==this.legendOption.orient&&"right"==this.legendOption.x&&(q=this._itemGroupLocation.x+this._itemGroupLocation.width-C);for(var z=0;z<g;z++)k=l.merge(b[z].textStyle||{},f),n=this.getFont(k),c=this._getName(b[z]),m=this._getFormatterName(c),""===c?"horizontal"==
this.legendOption.orient?(q=this._itemGroupLocation.x,r+=u+w):("right"==this.legendOption.x?q-=this._itemGroupLocation.maxWidth+w:q+=this._itemGroupLocation.maxWidth+w,r=this._itemGroupLocation.y):(a=b[z].icon||this._getSomethingByName(c).type,x=this.getColor(c),"horizontal"==this.legendOption.orient?200>p-q&&C+5+d.getTextWidth(m,n)+(z==g-1||""===b[z+1]?0:w)>=p-q&&(q=this._itemGroupLocation.x,r+=u+w):200>E-r&&u+(z==g-1||""===b[z+1]?0:w)>=E-r&&("right"==this.legendOption.x?q-=this._itemGroupLocation.maxWidth+
w:q+=this._itemGroupLocation.maxWidth+w,r=this._itemGroupLocation.y),a=this._getItemShapeByType(q,r,C,u,this._selectedMap[c]?x:"#ccc",a,x),a._name=c,a=new e(a),k={zlevel:this._zlevelBase,style:{x:q+C+5,y:r+u/2,color:this._selectedMap[c]?"auto"===k.color?x:k.color:"#ccc",text:m,textFont:n,textBaseline:"middle"},highlightStyle:{color:x,brushType:"fill"},hoverable:!!this.legendOption.selectedMode,clickable:!!this.legendOption.selectedMode},"vertical"==this.legendOption.orient&&"right"==this.legendOption.x&&
(k.style.x-=C+10,k.style.textAlign="right"),k._name=c,k=new s(k),this.legendOption.selectedMode&&(a.onclick=k.onclick=this._legendSelected,a.onmouseover=k.onmouseover=this.hoverConnect,a.hoverConnect=k.id,k.hoverConnect=a.id),this.shapeList.push(a),this.shapeList.push(k),"horizontal"==this.legendOption.orient?q+=C+5+d.getTextWidth(m,n)+w:r+=u+w);"horizontal"==this.legendOption.orient&&"center"==this.legendOption.x&&r!=this._itemGroupLocation.y&&this._mLineOptimize()},_getName:function(b){return"undefined"!=
typeof b.name?b.name:b},_getFormatterName:function(b){var g=this.legendOption.formatter,c;return"function"==typeof g?c=g.call(this.myChart,b):"string"==typeof g?c=g.replace("{name}",b):c=b,c},_getFormatterNameFromData:function(b){b=this._getName(b);return this._getFormatterName(b)},_mLineOptimize:function(){for(var b=[],g=this._itemGroupLocation.x,c=2,a=this.shapeList.length;c<a;c++)this.shapeList[c].style.x==g?b.push((this._itemGroupLocation.width-(this.shapeList[c-1].style.x+d.getTextWidth(this.shapeList[c-
1].style.text,this.shapeList[c-1].style.textFont)-g))/2):c==a-1&&b.push((this._itemGroupLocation.width-(this.shapeList[c].style.x+d.getTextWidth(this.shapeList[c].style.text,this.shapeList[c].style.textFont)-g))/2);for(var k=-1,c=1,a=this.shapeList.length;c<a;c++)this.shapeList[c].style.x==g&&k++,0!==b[k]&&(this.shapeList[c].style.x+=b[k])},_buildBackground:function(){var b=this.legendOption.padding[0],g=this.legendOption.padding[3];this.shapeList.push(new p({zlevel:this._zlevelBase,hoverable:!1,
style:{x:this._itemGroupLocation.x-g,y:this._itemGroupLocation.y-b,width:this._itemGroupLocation.width+g+this.legendOption.padding[1],height:this._itemGroupLocation.height+b+this.legendOption.padding[2],brushType:0===this.legendOption.borderWidth?"fill":"both",color:this.legendOption.backgroundColor,strokeColor:this.legendOption.borderColor,lineWidth:this.legendOption.borderWidth}}))},_getItemGroupLocation:function(){var b=this.legendOption.data,g=b.length,c=this.legendOption.itemGap,a=this.legendOption.itemWidth+
5,k=this.legendOption.itemHeight,e=this.legendOption.textStyle,f=this.getFont(e),n=0,m=0,p=this.legendOption.padding,q=this.zr.getWidth()-p[1]-p[3],r=this.zr.getHeight()-p[0]-p[2],s=0,p=0;if("horizontal"==this.legendOption.orient){for(var m=k,u=0;u<g;u++)""===this._getName(b[u])?(s-=c,s>q?(n=q,m+=k+c):n=Math.max(n,s),m+=k+c,s=0):s+=a+d.getTextWidth(this._getFormatterNameFromData(b[u]),b[u].textStyle?this.getFont(l.merge(b[u].textStyle||{},e)):f)+c;m=Math.max(m,k);s-=c;s>q?(n=q,m+=k+c):n=Math.max(n,
s)}else{for(u=0;u<g;u++)p=Math.max(p,d.getTextWidth(this._getFormatterNameFromData(b[u]),b[u].textStyle?this.getFont(l.merge(b[u].textStyle||{},e)):f));n=p+=a;for(u=0;u<g;u++)""===this._getName(b[u])?(s-=c,s>r?(m=r,n+=p+c):m=Math.max(m,s),n+=p+c,s=0):s+=k+c;n=Math.max(n,p);s-=c;s>r?(m=r,n+=p+c):m=Math.max(m,s)}q=this.zr.getWidth();r=this.zr.getHeight();switch(this.legendOption.x){case "center":b=Math.floor((q-n)/2);break;case "left":b=this.legendOption.padding[3]+this.legendOption.borderWidth;break;
case "right":b=q-n-this.legendOption.padding[1]-this.legendOption.padding[3]-2*this.legendOption.borderWidth;break;default:b=this.parsePercent(this.legendOption.x,q)}switch(this.legendOption.y){case "top":g=this.legendOption.padding[0]+this.legendOption.borderWidth;break;case "bottom":g=r-m-this.legendOption.padding[0]-this.legendOption.padding[2]-2*this.legendOption.borderWidth;break;case "center":g=Math.floor((r-m)/2);break;default:g=this.parsePercent(this.legendOption.y,r)}return{x:b,y:g,width:n,
height:m,maxWidth:p}},_getSomethingByName:function(b){for(var g=this.option.series,c,a=0,d=g.length;a<d;a++){if(g[a].name==b)return{type:g[a].type,series:g[a],seriesIndex:a,data:null,dataIndex:-1};if(g[a].type==n.CHART_TYPE_PIE||g[a].type==n.CHART_TYPE_RADAR||g[a].type==n.CHART_TYPE_CHORD||g[a].type==n.CHART_TYPE_FORCE||g[a].type==n.CHART_TYPE_FUNNEL){c=g[a].type!=n.CHART_TYPE_FORCE?g[a].data:g[a].categories;for(var k=0,l=c.length;k<l;k++)if(c[k].name==b)return{type:g[a].type,series:g[a],seriesIndex:a,
data:c[k],dataIndex:k}}}return{type:"bar",series:null,seriesIndex:-1,data:null,dataIndex:-1}},_getItemShapeByType:function(b,g,c,a,d,k,l){l="#ccc"===d?l:d;b={zlevel:this._zlevelBase,style:{iconType:"legendicon"+k,x:b,y:g,width:c,height:a,color:d,strokeColor:d,lineWidth:2},highlightStyle:{color:l,strokeColor:l,lineWidth:1},hoverable:this.legendOption.selectedMode,clickable:this.legendOption.selectedMode};var e;k.match("image")&&(e=k.replace(/^image:\/\//,""),k="image");switch(k){case "line":b.style.brushType=
"stroke";b.highlightStyle.lineWidth=3;break;case "radar":case "scatter":b.highlightStyle.lineWidth=3;break;case "k":b.style.brushType="both";b.highlightStyle.lineWidth=3;b.highlightStyle.color=b.style.color=this.query(this.ecTheme,"k.itemStyle.normal.color")||"#fff";b.style.strokeColor="#ccc"!=d?this.query(this.ecTheme,"k.itemStyle.normal.lineStyle.color")||"#ff3200":d;break;case "image":b.style.iconType="image",b.style.image=e,"#ccc"===d&&(b.style.opacity=.5)}return b},__legendSelected:function(b){var g=
b.target._name;if("single"===this.legendOption.selectedMode)for(var c in this._selectedMap)this._selectedMap[c]=!1;this._selectedMap[g]=!this._selectedMap[g];this.messageCenter.dispatch(n.EVENT.LEGEND_SELECTED,b.event,{selected:this._selectedMap,target:g},this.myChart)},refresh:function(b){if(b){this.option=b||this.option;this.option.legend=this.reformOption(this.option.legend);this.option.legend.padding=this.reformCssArray(this.option.legend.padding);this.legendOption=this.option.legend;b=this.legendOption.data||
[];var g,c,a,d;if(this.legendOption.selected)for(g in this.legendOption.selected)this._selectedMap[g]="undefined"!=typeof this._selectedMap[g]?this._selectedMap[g]:this.legendOption.selected[g];for(var k=0,l=b.length;k<l;k++)g=this._getName(b[k]),""!==g&&(c=this._getSomethingByName(g),c.series?(!c.data||c.type!=n.CHART_TYPE_PIE&&c.type!=n.CHART_TYPE_FORCE&&c.type!=n.CHART_TYPE_FUNNEL?d=[c.series]:d=[c.data,c.series],a=this.getItemStyleColor(this.deepQuery(d,"itemStyle.normal.color"),c.seriesIndex,
c.dataIndex,c.data),a&&c.type!=n.CHART_TYPE_K&&this.setColor(g,a),this._selectedMap[g]="undefined"!=typeof this._selectedMap[g]?this._selectedMap[g]:!0):this._selectedMap[g]=!1)}this.clear();this._buildShape()},getRelatedAmount:function(b){for(var g=0,c=this.option.series,a,d=0,k=c.length;d<k;d++)if(c[d].name==b&&g++,c[d].type==n.CHART_TYPE_PIE||c[d].type==n.CHART_TYPE_RADAR||c[d].type==n.CHART_TYPE_CHORD||c[d].type==n.CHART_TYPE_FORCE||c[d].type==n.CHART_TYPE_FUNNEL){a=c[d].type!=n.CHART_TYPE_FORCE?
c[d].data:c[d].categories;for(var l=0,e=a.length;l<e;l++)a[l].name==b&&"-"!=a[l].value&&g++}return g},setColor:function(b,g){this._colorMap[b]=g},getColor:function(b){return this._colorMap[b]||(this._colorMap[b]=this.zr.getColor(this._colorIndex++)),this._colorMap[b]},hasColor:function(b){return this._colorMap[b]?this._colorMap[b]:!1},add:function(b,g){for(var c=this.legendOption.data,a=0,d=c.length;a<d;a++)if(this._getName(c[a])==b)return;this.legendOption.data.push(b);this.setColor(b,g);this._selectedMap[b]=
!0},del:function(b){for(var g=this.legendOption.data,c=0,a=g.length;c<a;c++)if(this._getName(g[c])==b)return this.legendOption.data.splice(c,1)},getItemShape:function(b){if("undefined"!=typeof b)for(var g,c=0,a=this.shapeList.length;c<a;c++)if(g=this.shapeList[c],g._name==b&&"text"!=g.type)return g},setItemShape:function(b,g){for(var c,a=0,d=this.shapeList.length;a<d;a++)c=this.shapeList[a],c._name==b&&"text"!=c.type&&(this._selectedMap[b]||(g.style.color="#ccc",g.style.strokeColor="#ccc"),this.zr.modShape(c.id,
g))},isSelected:function(b){return"undefined"!=typeof this._selectedMap[b]?this._selectedMap[b]:!0},getSelectedMap:function(){return this._selectedMap},setSelected:function(b,g){if("single"===this.legendOption.selectedMode)for(var c in this._selectedMap)this._selectedMap[c]=!1;this._selectedMap[b]=g;this.messageCenter.dispatch(n.EVENT.LEGEND_SELECTED,null,{selected:this._selectedMap,target:b},this.myChart)},onlegendSelected:function(b,g){var c=b.selected,a;for(a in c)this._selectedMap[a]!=c[a]&&(g.needRefresh=
!0),this._selectedMap[a]=c[a]}};var b={line:function(b,g){var c=g.height/2;b.moveTo(g.x,g.y+c);b.lineTo(g.x+g.width,g.y+c)},pie:function(b,g){var c=g.height;f.prototype.buildPath(b,{x:g.x+g.width/2,y:g.y+c+2,r:c+2,r0:6,startAngle:45,endAngle:135})},k:function(b,g){var c=g.y,a=g.width,d=g.height;m.prototype.buildPath(b,{x:g.x+a/2,y:[c+1,c+1,c+d-6,c+d],width:a-6})},bar:function(b,g){var c=g.x,a=g.y+1,d=g.width,k=g.height-2;b.moveTo(c+3,a);b.lineTo(c+d-3,a);b.quadraticCurveTo(c+d,a,c+d,a+3);b.lineTo(c+
d,a+k-3);b.quadraticCurveTo(c+d,a+k,c+d-3,a+k);b.lineTo(c+3,a+k);b.quadraticCurveTo(c,a+k,c,a+k-3);b.lineTo(c,a+3);b.quadraticCurveTo(c,a,c+3,a)},force:function(b,g){e.prototype.iconLibrary.circle(b,g)},radar:function(b,g){var c=g.x+g.width/2,a=g.y+g.height/2,d=g.height/2,k=2*Math.PI/6,l=-Math.PI/2,e=c+d*Math.cos(l),f=a+d*Math.sin(l);b.moveTo(e,f);for(var l=l+k,n=0;5>n;n++)b.lineTo(c+d*Math.cos(l),a+d*Math.sin(l)),l+=k;b.lineTo(e,f)}};b.chord=b.pie;b.map=b.bar;for(var k in b)e.prototype.iconLibrary["legendicon"+
k]=b[k];return l.inherits(q,r),a("../component").define("legend",q),q});
define("echarts/util/shape/Chain","require zrender/shape/Base ./Icon zrender/shape/util/dashedLineTo zrender/tool/util zrender/tool/matrix".split(" "),function(a){function q(a){r.call(this,a)}var r=a("zrender/shape/Base"),s=a("./Icon"),p=a("zrender/shape/util/dashedLineTo"),f=a("zrender/tool/util"),e=a("zrender/tool/matrix");return q.prototype={type:"chain",brush:function(a,e){var l=this.style;e&&(l=this.getHighlightStyle(l,this.highlightStyle||{}));a.save();this.setContext(a,l);this.setTransform(a);
a.beginPath();this.buildLinePath(a,l);a.stroke();this.brushSymbol(a,l);a.restore()},buildLinePath:function(a,e){var l=e.x,d=e.y+5,b=e.width,k=e.height/2-10;a.moveTo(l,d);a.lineTo(l,d+k);a.moveTo(l+b,d);a.lineTo(l+b,d+k);a.moveTo(l,d+k/2);e.lineType&&"solid"!=e.lineType?"dashed"!=e.lineType&&"dotted"!=e.lineType||p(a,l,d+k/2,l+b,d+k/2,(e.lineWidth||1)*("dashed"==e.lineType?5:1)):a.lineTo(l+b,d+k/2)},brushSymbol:function(a,e){var l=e.y+e.height/4;a.save();for(var d=e.chainPoint,b,k=0,h=d.length;k<h;k++){b=
d[k];if("none"!=b.symbol){a.beginPath();var g=b.symbolSize;s.prototype.buildPath(a,{iconType:b.symbol,x:b.x-g,y:l-g,width:2*g,height:2*g,n:b.n});a.fillStyle=b.isEmpty?"#fff":e.strokeColor;a.closePath();a.fill();a.stroke()}b.showLabel&&(a.font=b.textFont,a.fillStyle=b.textColor,a.textAlign=b.textAlign,a.textBaseline=b.textBaseline,b.rotation?(a.save(),this._updateTextTransform(a,b.rotation),a.fillText(b.name,b.textX,b.textY),a.restore()):a.fillText(b.name,b.textX,b.textY))}a.restore()},_updateTextTransform:function(a,
f){var l=e.create();e.identity(l);if(0!==f[0]){var d=f[1]||0,b=f[2]||0;(d||b)&&e.translate(l,l,[-d,-b]);e.rotate(l,l,f[0]);(d||b)&&e.translate(l,l,[d,b])}a.transform.apply(a,l)},isCover:function(a,e){var l=this.style;return a>=l.x&&a<=l.x+l.width&&e>=l.y&&e<=l.y+l.height?!0:!1}},f.inherits(q,r),q});
define("echarts/component/timeline","require ./base zrender/shape/Rectangle ../util/shape/Icon ../util/shape/Chain ../config zrender/tool/util zrender/tool/area zrender/tool/event ../component".split(" "),function(a){function q(a,b,k,h,g){r.call(this,a,b,k,h,g);var c=this;c._onclick=function(b){return c.__onclick(b)};c._ondrift=function(b,g){return c.__ondrift(this,b,g)};c._ondragend=function(){return c.__ondragend()};c._setCurrentOption=function(){var b=c.timelineOption;c.currentIndex%=b.data.length;
c.myChart.setOption(c.options[c.currentIndex]||{},b.notMerge);c.messageCenter.dispatch(e.EVENT.TIMELINE_CHANGED,null,{currentIndex:c.currentIndex,data:"undefined"!=typeof b.data[c.currentIndex].name?b.data[c.currentIndex].name:b.data[c.currentIndex]},c.myChart)};c._onFrame=function(){c._setCurrentOption();c._syncHandleShape();c.timelineOption.autoPlay&&(c.playTicket=setTimeout(function(){c.currentIndex+=1;!c.timelineOption.loop&&c.currentIndex>=c.timelineOption.data.length?(c.currentIndex=c.timelineOption.data.length-
1,c.stop()):c._onFrame()},c.timelineOption.playInterval))};this.setTheme(!1);this.options=this.option.options;this.currentIndex=this.timelineOption.currentIndex%this.timelineOption.data.length;!this.timelineOption.notMerge&&0!==this.currentIndex&&(this.options[this.currentIndex]=m.merge(this.options[this.currentIndex],this.options[0]));this.timelineOption.show&&(this._buildShape(),this._syncHandleShape());this._setCurrentOption();this.timelineOption.autoPlay&&(c=this,this.playTicket=setTimeout(function(){c.play()},
this.ecTheme.animationDuration))}var r=a("./base"),s=a("zrender/shape/Rectangle"),p=a("../util/shape/Icon"),f=a("../util/shape/Chain"),e=a("../config"),m=a("zrender/tool/util"),n=a("zrender/tool/area"),l=a("zrender/tool/event");return q.prototype={type:e.COMPONENT_TYPE_TIMELINE,_buildShape:function(){this._location=this._getLocation();this._buildBackground();this._buildControl();this._chainPoint=this._getChainPoint();if(this.timelineOption.label.show)for(var a=this._getInterval(),b=0,k=this._chainPoint.length;b<
k;b+=a)this._chainPoint[b].showLabel=!0;this._buildChain();this._buildHandle();b=0;for(a=this.shapeList.length;b<a;b++)this.zr.addShape(this.shapeList[b])},_getLocation:function(){var a=this.timelineOption,b=a.padding,k=this.zr.getWidth(),h=this.parsePercent(a.x,k),g=this.parsePercent(a.x2,k),c;"undefined"==typeof a.width?(c=k-h-g,g=k-g):(c=this.parsePercent(a.width,k),g=h+c);var k=this.zr.getHeight(),l=this.parsePercent(a.height,k),e,f;return"undefined"!=typeof a.y?(e=this.parsePercent(a.y,k),f=
e+l):(f=k-this.parsePercent(a.y2,k),e=f-l),{x:h+b[3],y:e+b[0],x2:g-b[1],y2:f-b[2],width:c-b[1]-b[3],height:l-b[0]-b[2]}},_getReformedLabel:function(a){var b=this.timelineOption,k="undefined"!=typeof b.data[a].name?b.data[a].name:b.data[a];a=b.data[a].formatter||b.label.formatter;return a&&("function"==typeof a?k=a.call(this.myChart,k):"string"==typeof a&&(k=a.replace("{value}",k))),k},_getInterval:function(){var a=this._chainPoint,b=this.timelineOption,k=b.label.interval;if("auto"==k){var h=b.label.textStyle.fontSize,
g=b.data,c=b.data.length;if(3<c)for(var l=!1,e,f,k=0;!l&&k<c;){k++;for(var l=!0,m=k;m<c;m+=k){e=a[m].x-a[m-k].x;if(0!==b.label.rotate)f=h;else if(g[m].textStyle)f=n.getTextWidth(a[m].name,a[m].textFont);else{f=a[m].name+"";var p=(f.match(/\w/g)||"").length;f=p*h*2/3+(f.length-p)*h}if(e<f){l=!1;break}}}else k=1}else k=k-0+1;return k},_getChainPoint:function(){function a(b){return"undefined"!=typeof f[b].name?f[b].name:f[b]}var b=this.timelineOption,k=b.symbol.toLowerCase(),h=b.symbolSize,g=b.label.rotate,
c=b.label.textStyle,l=this.getFont(c),e,f=b.data,n=this._location.x,p=this._location.y+this._location.height/4*3;e=this._location.x2-this._location.x;var q=f.length,E=[];if(1<q){var r=e/q,r=50<r?50:20>r?5:r;e-=2*r;if("number"==b.type)for(b=0;b<q;b++)E.push(n+r+e/(q-1)*b);else{E[0]=new Date(a(0).replace(/-/g,"/"));E[q-1]=new Date(a(q-1).replace(/-/g,"/"))-E[0];for(b=1;b<q;b++)E[b]=n+r+e*(new Date(a(b).replace(/-/g,"/"))-E[0])/E[q-1];E[0]=n+r}}else E.push(n+e/2);for(var r=[],s,C,u,w,x,b=0;b<q;b++)n=
E[b],s=f[b].symbol&&f[b].symbol.toLowerCase()||k,s.match("empty")?(s=s.replace("empty",""),u=!0):u=!1,s.match("star")&&(C=s.replace("star","")-0||5,s="star"),e=f[b].textStyle?m.merge(f[b].textStyle||{},c):c,w=e.align||"center",g?(w=0<g?"right":"left",x=[g*Math.PI/180,n,p-5]):x=!1,r.push({x:n,n:C,isEmpty:u,symbol:s,symbolSize:f[b].symbolSize||h,color:f[b].color,borderColor:f[b].borderColor,borderWidth:f[b].borderWidth,name:this._getReformedLabel(b),textColor:e.color,textAlign:w,textBaseline:e.baseline||
"middle",textX:n,textY:p-(g?5:0),textFont:f[b].textStyle?this.getFont(e):l,rotation:x,showLabel:!1});return r},_buildBackground:function(){var a=this.timelineOption,b=a.padding,k=this._location.width,h=this._location.height;0===a.borderWidth&&"rgba(0,0,0,0)"==a.backgroundColor.replace(/\s/g,"")||this.shapeList.push(new s({zlevel:this._zlevelBase,hoverable:!1,style:{x:this._location.x-b[3],y:this._location.y-b[0],width:k+b[1]+b[3],height:h+b[0]+b[2],brushType:0===a.borderWidth?"fill":"both",color:a.backgroundColor,
strokeColor:a.borderColor,lineWidth:a.borderWidth}}))},_buildControl:function(){var a=this,b=this.timelineOption,k=b.lineStyle,h=b.controlStyle;if("none"!=b.controlPosition){var g;"left"==b.controlPosition?(g=this._location.x,this._location.x+=60):(g=this._location.x2-55,this._location.x2-=60);b={zlevel:this._zlevelBase+1,style:{iconType:"timelineControl",symbol:"last",x:g,y:this._location.y,width:15,height:15,brushType:"stroke",color:h.normal.color,strokeColor:h.normal.color,lineWidth:k.width},highlightStyle:{color:h.emphasis.color,
strokeColor:h.emphasis.color,lineWidth:k.width+1},clickable:!0};this._ctrLastShape=new p(b);this._ctrLastShape.onclick=function(){a.last()};this.shapeList.push(this._ctrLastShape);g+=20;this._ctrPlayShape=new p(m.clone(b));this._ctrPlayShape.style.brushType="fill";this._ctrPlayShape.style.symbol="play";this._ctrPlayShape.style.status=this.timelineOption.autoPlay?"playing":"stop";this._ctrPlayShape.style.x=g;this._ctrPlayShape.onclick=function(){"stop"==a._ctrPlayShape.style.status?a.play():a.stop()};
this.shapeList.push(this._ctrPlayShape);g+=20;this._ctrNextShape=new p(m.clone(b));this._ctrNextShape.style.symbol="next";this._ctrNextShape.style.x=g;this._ctrNextShape.onclick=function(){a.next()};this.shapeList.push(this._ctrNextShape)}},_buildChain:function(){var a=this.timelineOption.lineStyle;this._timelineShae={zlevel:this._zlevelBase,style:{x:this._location.x,y:this.subPixelOptimize(this._location.y,a.width),width:this._location.x2-this._location.x,height:this._location.height,chainPoint:this._chainPoint,
brushType:"both",strokeColor:a.color,lineWidth:a.width,lineType:a.type},hoverable:!1,clickable:!0,onclick:this._onclick};this._timelineShae=new f(this._timelineShae);this.shapeList.push(this._timelineShae)},_buildHandle:function(){var a=this._chainPoint[this.currentIndex],b=a.symbolSize+1,b=5>b?5:b;this._handleShape={zlevel:this._zlevelBase+1,hoverable:!1,draggable:!0,style:{iconType:"diamond",n:a.n,x:a.x-b,y:this._location.y+this._location.height/4-b,width:2*b,height:2*b,brushType:"both",textPosition:"specific",
textX:a.x,textY:this._location.y-this._location.height/4,textAlign:"center",textBaseline:"middle"},highlightStyle:{},ondrift:this._ondrift,ondragend:this._ondragend};this._handleShape=new p(this._handleShape);this.shapeList.push(this._handleShape)},_syncHandleShape:function(){if(this.timelineOption.show){var a=this.timelineOption,b=a.checkpointStyle,k=this._chainPoint[this.currentIndex];this._handleShape.style.text=b.label.show?k.name:"";this._handleShape.style.textFont=k.textFont;this._handleShape.style.n=
k.n;"auto"==b.symbol?this._handleShape.style.iconType="none"!=k.symbol?k.symbol:"diamond":(this._handleShape.style.iconType=b.symbol,b.symbol.match("star")&&(this._handleShape.style.n=b.symbol.replace("star","")-0||5,this._handleShape.style.iconType="star"));var h;"auto"==b.symbolSize?(h=k.symbolSize+2,h=5>h?5:h):h=b.symbolSize-0;this._handleShape.style.color="auto"==b.color?k.color?k.color:a.controlStyle.emphasis.color:b.color;this._handleShape.style.textColor="auto"==b.label.textStyle.color?this._handleShape.style.color:
b.label.textStyle.color;this._handleShape.highlightStyle.strokeColor=this._handleShape.style.strokeColor="auto"==b.borderColor?k.borderColor?k.borderColor:"#fff":b.borderColor;this._handleShape.style.lineWidth="auto"==b.borderWidth?k.borderWidth?k.borderWidth:0:b.borderWidth-0;this._handleShape.highlightStyle.lineWidth=this._handleShape.style.lineWidth+1;this.zr.animate(this._handleShape.id,"style").when(500,{x:k.x-h,textX:k.x,y:this._location.y+this._location.height/4-h,width:2*h,height:2*h}).start("ExponentialOut")}},
_findChainIndex:function(a){var b=this._chainPoint,k=b.length;if(a<=b[0].x)return 0;if(a>=b[k-1].x)return k-1;for(var h=0;h<k-1;h++)if(a>=b[h].x&&a<=b[h+1].x)return Math.abs(a-b[h].x)<Math.abs(a-b[h+1].x)?h:h+1},__onclick:function(a){a=l.getX(a.event);a=this._findChainIndex(a);if(a==this.currentIndex)return!0;this.currentIndex=a;this.timelineOption.autoPlay&&this.stop();clearTimeout(this.playTicket);this._onFrame()},__ondrift:function(a,b){this.timelineOption.autoPlay&&this.stop();var k=this._chainPoint,
h=k.length,g;a.style.x+b<=k[0].x-k[0].symbolSize?(a.style.x=k[0].x-k[0].symbolSize,g=0):a.style.x+b>=k[h-1].x-k[h-1].symbolSize?(a.style.x=k[h-1].x-k[h-1].symbolSize,g=h-1):(a.style.x+=b,g=this._findChainIndex(a.style.x));k=k[g];h=k.symbolSize+2;a.style.iconType=k.symbol;a.style.n=k.n;a.style.textX=a.style.x+h/2;a.style.y=this._location.y+this._location.height/4-h;a.style.width=2*h;a.style.height=2*h;a.style.text=k.name;if(g==this.currentIndex)return!0;this.currentIndex=g;if(this.timelineOption.realtime){clearTimeout(this.playTicket);
var c=this;this.playTicket=setTimeout(function(){c._setCurrentOption()},200)}return!0},__ondragend:function(){this.isDragend=!0},ondragend:function(a,b){this.isDragend&&a.target&&(!this.timelineOption.realtime&&this._setCurrentOption(),b.dragOut=!0,b.dragIn=!0,this.isDragend=b.needRefresh=!1,this._syncHandleShape())},last:function(){return this.timelineOption.autoPlay&&this.stop(),--this.currentIndex,0>this.currentIndex&&(this.currentIndex=this.timelineOption.data.length-1),this._onFrame(),this.currentIndex},
next:function(){return this.timelineOption.autoPlay&&this.stop(),this.currentIndex+=1,this.currentIndex>=this.timelineOption.data.length&&(this.currentIndex=0),this._onFrame(),this.currentIndex},play:function(a,b){return this._ctrPlayShape&&"playing"!=this._ctrPlayShape.style.status&&(this._ctrPlayShape.style.status="playing",this.zr.modShape(this._ctrPlayShape.id),this.zr.refresh()),this.timelineOption.autoPlay="undefined"!=typeof b?b:!0,this.timelineOption.autoPlay||clearTimeout(this.playTicket),
this.currentIndex="undefined"!=typeof a?a:this.currentIndex+1,this.currentIndex>=this.timelineOption.data.length&&(this.currentIndex=0),this._onFrame(),this.currentIndex},stop:function(){return this._ctrPlayShape&&"stop"!=this._ctrPlayShape.style.status&&(this._ctrPlayShape.style.status="stop",this.zr.modShape(this._ctrPlayShape.id),this.zr.refresh()),this.timelineOption.autoPlay=!1,clearTimeout(this.playTicket),this.currentIndex},resize:function(){this.timelineOption.show&&(this.clear(),this._buildShape(),
this._syncHandleShape())},setTheme:function(a){this.timelineOption=this.reformOption(m.clone(this.option.timeline));this.timelineOption.padding=this.reformCssArray(this.timelineOption.padding);this.timelineOption.label.textStyle=m.merge(this.timelineOption.label.textStyle||{},this.ecTheme.textStyle);this.timelineOption.checkpointStyle.label.textStyle=m.merge(this.timelineOption.checkpointStyle.label.textStyle||{},this.ecTheme.textStyle);this.timelineOption.show&&a&&(this.clear(),this._buildShape(),
this._syncHandleShape())},dispose:function(){this.clear();this.shapeList=null;clearTimeout(this.playTicket)}},p.prototype.iconLibrary.timelineControl=function(a,b){var k=b.x+2,h=b.y+2+2,g=b.width-2,c=b.height-2,l=b.symbol;if("last"==l)a.moveTo(k+g-2,h+c/3),a.lineTo(k+g-2,h),a.lineTo(k+2,h+c/2),a.lineTo(k+g-2,h+c),a.lineTo(k+g-2,h+c/3*2),a.moveTo(k,h),a.lineTo(k,h);else if("next"==l)a.moveTo(k+2,h+c/3),a.lineTo(k+2,h),a.lineTo(k+g-2,h+c/2),a.lineTo(k+2,h+c),a.lineTo(k+2,h+c/3*2),a.moveTo(k,h),a.lineTo(k,
h);else if("play"==l)"stop"==b.status?(a.moveTo(k+2,h),a.lineTo(k+g-2,h+c/2),a.lineTo(k+2,h+c),a.lineTo(k+2,h)):(l="both"==b.brushType?2:3,a.rect(k+2,h,l,c),a.rect(k+g-l-2,h,l,c));else if(l.match("image")){var e="",e=l.replace(/^image:\/\//,""),l=p.prototype.iconLibrary.image;l(a,{x:k,y:h,width:g,height:c,image:e})}},m.inherits(q,r),a("../component").define("timeline",q),q});
define("zrender/loadingEffect/Bar",["require","./Base","../tool/util","../tool/color","../shape/Rectangle"],function(a){function q(a){r.call(this,a)}var r=a("./Base"),s=a("../tool/util"),p=a("../tool/color"),f=a("../shape/Rectangle");return s.inherits(q,r),q.prototype._start=function(a,m){var n=s.merge(this.options,{textStyle:{color:"#888"},backgroundColor:"rgba(250, 250, 250, 0.8)",effectOption:{x:0,y:this.canvasHeight/2-30,width:this.canvasWidth,height:5,brushType:"fill",timeInterval:100}}),l=this.createTextShape(n.textStyle),
d=this.createBackgroundShape(n.backgroundColor),b=n.effectOption,k=new f({highlightStyle:s.clone(b)});k.highlightStyle.color=b.color||p.getLinearGradient(b.x,b.y,b.x+b.width,b.y+b.height,[[0,"#ff6400"],[.5,"#ffe100"],[1,"#b1ff00"]]);if(null!=n.progress)a(d),k.highlightStyle.width=this.adjust(n.progress,[0,1])*n.effectOption.width,a(k),a(l),m();else return k.highlightStyle.width=0,setInterval(function(){a(d);k.highlightStyle.width<b.width?k.highlightStyle.width+=8:k.highlightStyle.width=0;a(k);a(l);
m()},b.timeInterval)},q});
define("zrender/loadingEffect/Bubble",["require","./Base","../tool/util","../tool/color","../shape/Circle"],function(a){function q(a){r.call(this,a)}var r=a("./Base"),s=a("../tool/util"),p=a("../tool/color"),f=a("../shape/Circle");return s.inherits(q,r),q.prototype._start=function(a,m){for(var n=s.merge(this.options,{textStyle:{color:"#888"},backgroundColor:"rgba(250, 250, 250, 0.8)",effect:{n:50,lineWidth:2,brushType:"stroke",color:"random",timeInterval:100}}),l=this.createTextShape(n.textStyle),d=
this.createBackgroundShape(n.backgroundColor),n=n.effect,b=n.n,k=n.brushType,h=n.lineWidth,g=[],c=this.canvasWidth,t=this.canvasHeight,y=0;y<b;y++){var v="random"==n.color?p.alpha(p.random(),.3):n.color;g[y]=new f({highlightStyle:{x:Math.ceil(Math.random()*c),y:Math.ceil(Math.random()*t),r:Math.ceil(40*Math.random()),brushType:k,color:v,strokeColor:v,lineWidth:h},animationY:Math.ceil(20*Math.random())})}return setInterval(function(){a(d);for(var h=0;h<b;h++){var k=g[h].highlightStyle;0>=k.y-g[h].animationY+
k.r&&(g[h].highlightStyle.y=t+k.r,g[h].highlightStyle.x=Math.ceil(Math.random()*c));g[h].highlightStyle.y-=g[h].animationY;a(g[h])}a(l);m()},n.timeInterval)},q});
define("zrender/loadingEffect/DynamicLine",["require","./Base","../tool/util","../tool/color","../shape/Line"],function(a){function q(a){r.call(this,a)}var r=a("./Base"),s=a("../tool/util"),p=a("../tool/color"),f=a("../shape/Line");return s.inherits(q,r),q.prototype._start=function(a,m){for(var n=s.merge(this.options,{textStyle:{color:"#fff"},backgroundColor:"rgba(0, 0, 0, 0.8)",effectOption:{n:30,lineWidth:1,color:"random",timeInterval:100}}),l=this.createTextShape(n.textStyle),d=this.createBackgroundShape(n.backgroundColor),
n=n.effectOption,b=n.n,k=n.lineWidth,h=[],g=this.canvasWidth,c=this.canvasHeight,t=0;t<b;t++){var y=-Math.ceil(1E3*Math.random()),v=Math.ceil(400*Math.random()),F=Math.ceil(Math.random()*c),q="random"==n.color?p.random():n.color;h[t]=new f({highlightStyle:{xStart:y,yStart:F,xEnd:y+v,yEnd:F,strokeColor:q,lineWidth:k},animationX:Math.ceil(100*Math.random()),len:v})}return setInterval(function(){a(d);for(var k=0;k<b;k++){var t=h[k].highlightStyle;t.xStart>=g&&(h[k].len=Math.ceil(400*Math.random()),t.xStart=
-400,t.xEnd=-400+h[k].len,t.yStart=Math.ceil(Math.random()*c),t.yEnd=t.yStart);t.xStart+=h[k].animationX;t.xEnd+=h[k].animationX;a(h[k])}a(l);m()},n.timeInterval)},q});
define("zrender/loadingEffect/Ring","require ./Base ../tool/util ../tool/color ../shape/Ring ../shape/Sector".split(" "),function(a){function q(a){r.call(this,a)}var r=a("./Base"),s=a("../tool/util"),p=a("../tool/color"),f=a("../shape/Ring"),e=a("../shape/Sector");return s.inherits(q,r),q.prototype._start=function(a,n){var l=s.merge(this.options,{textStyle:{color:"#07a"},backgroundColor:"rgba(250, 250, 250, 0.8)",effect:{x:this.canvasWidth/2,y:this.canvasHeight/2,r0:60,r:100,color:"#bbdcff",brushType:"fill",
textPosition:"inside",textFont:"normal 30px verdana",textColor:"rgba(30, 144, 255, 0.6)",timeInterval:100}}),d=l.effect,b=l.textStyle;null==b.x&&(b.x=d.x);null==b.y&&(b.y=d.y+(d.r0+d.r)/2-5);for(var k=this.createTextShape(l.textStyle),h=this.createBackgroundShape(l.backgroundColor),b=d.x,g=d.y,c=d.r0+6,t=d.r-6,y=p.lift(d.color,.1),v=new f({highlightStyle:s.clone(d)}),F=[],q=p.getGradientColors(["#ff6400","#ffe100","#97ff00"],25),r=240,E=0;16>E;E++)F.push(new e({highlightStyle:{x:b,y:g,r0:c,r:t,startAngle:r-
15,endAngle:r,brushType:"fill",color:y},_color:p.getLinearGradient(b+c*Math.cos(r,!0),g-c*Math.sin(r,!0),b+c*Math.cos(r-15,!0),g-c*Math.sin(r-15,!0),[[0,q[2*E]],[1,q[2*E+1]]])})),r-=15;r=360;for(E=0;4>E;E++)F.push(new e({highlightStyle:{x:b,y:g,r0:c,r:t,startAngle:r-15,endAngle:r,brushType:"fill",color:y},_color:p.getLinearGradient(b+c*Math.cos(r,!0),g-c*Math.sin(r,!0),b+c*Math.cos(r-15,!0),g-c*Math.sin(r-15,!0),[[0,q[2*E+32]],[1,q[2*E+33]]])})),r-=15;var A=0;if(null!=l.progress){a(h);A=100*this.adjust(l.progress,
[0,1]).toFixed(2)/5;v.highlightStyle.text=5*A+"%";a(v);for(E=0;20>E;E++)F[E].highlightStyle.color=E<A?F[E]._color:y,a(F[E]);a(k);n()}else return setInterval(function(){a(h);A+=20<=A?-20:1;a(v);for(var b=0;20>b;b++)F[b].highlightStyle.color=b<A?F[b]._color:y,a(F[b]);a(k);n()},d.timeInterval)},q});
define("zrender/loadingEffect/Spin",["require","./Base","../tool/util","../tool/color","../shape/Sector"],function(a){function q(a){r.call(this,a)}var r=a("./Base"),s=a("../tool/util"),p=a("../tool/color"),f=a("../shape/Sector");return s.inherits(q,r),q.prototype._start=function(a,m){for(var n=s.merge(this.options.effect||{},{x:this.canvasWidth/2-80,y:this.canvasHeight/2,r0:9,r:15,n:18,color:"#fff",timeInterval:100}),l=s.merge(this.options,{textStyle:{color:"#fff",x:n.x+n.r+10,y:n.y,textAlign:"start"},
backgroundColor:"rgba(0, 0, 0, 0.8)"}),d=this.createTextShape(l.textStyle),b=this.createBackgroundShape(l.backgroundColor),k=n.n,l=n.x,h=n.y,g=n.r0,c=n.r,t=n.color,y=[],v=Math.round(180/k),F=0;F<k;F++)y[F]=new f({highlightStyle:{x:l,y:h,r0:g,r:c,startAngle:v*F*2,endAngle:v*F*2+v,color:p.alpha(t,(F+1)/k),brushType:"fill"}});var q=[0,l,h];return setInterval(function(){a(b);q[0]-=.3;for(var c=0;c<k;c++)y[c].rotation=q,a(y[c]);a(d);m()},n.timeInterval)},q});
define("zrender/loadingEffect/Whirling","require ./Base ../tool/util ../shape/Ring ../shape/Droplet ../shape/Circle".split(" "),function(a){function q(a){r.call(this,a)}var r=a("./Base"),s=a("../tool/util"),p=a("../shape/Ring"),f=a("../shape/Droplet"),e=a("../shape/Circle");return s.inherits(q,r),q.prototype._start=function(a,n){var l=s.merge(this.options.effect||{},{x:this.canvasWidth/2-80,y:this.canvasHeight/2,r:18,colorIn:"#fff",colorOut:"#555",colorWhirl:"#6cf",timeInterval:50}),d=s.merge(this.options,
{textStyle:{color:"#888",x:l.x+l.r+10,y:l.y,textAlign:"start"},backgroundColor:"rgba(250, 250, 250, 0.8)"}),b=this.createTextShape(d.textStyle),k=this.createBackgroundShape(d.backgroundColor),h=new f({highlightStyle:{a:Math.round(l.r/2),b:Math.round(l.r-l.r/6),brushType:"fill",color:l.colorWhirl}}),g=new e({highlightStyle:{r:Math.round(l.r/6),brushType:"fill",color:l.colorIn}}),c=new p({highlightStyle:{r0:Math.round(l.r-l.r/3),r:l.r,brushType:"fill",color:l.colorOut}}),t=[0,l.x,l.y];return h.highlightStyle.x=
g.highlightStyle.x=c.highlightStyle.x=t[1],h.highlightStyle.y=g.highlightStyle.y=c.highlightStyle.y=t[2],setInterval(function(){a(k);a(c);t[0]-=.3;h.rotation=t;a(h);a(g);a(b);n()},l.timeInterval)},q});define("echarts/theme/default",[],function(){return{}});
define("echarts/echarts","require ./config zrender/tool/util zrender/tool/event zrender/tool/env zrender zrender/config zrender ./chart/island ./component/toolbox ./component ./component/title ./component/tooltip ./component/legend ./util/ecData ./chart ./component zrender/tool/color ./component/timeline zrender zrender/shape/Image zrender/loadingEffect/Bar zrender/loadingEffect/Bubble zrender/loadingEffect/DynamicLine zrender/loadingEffect/Ring zrender/loadingEffect/Spin zrender/loadingEffect/Whirling ./theme/default".split(" "),function(a){function q(){e.Dispatcher.call(this)}
function r(b){this._themeConfig=f.clone(p);this.dom=b;this._connected=!1;this._status={dragIn:!1,dragOut:!1,needRefresh:!1};this._curEventType=!1;this._chartList=[];this._messageCenter=new q;this._messageCenterOutSide=new q;this.resize=this.resize();this._init()}function s(b,a,c,d,k){b=b._chartList;for(var l=b.length;l--;){var e=b[l];"function"==typeof e[a]&&e[a](c,d,k)}}var p=a("./config"),f=a("zrender/tool/util"),e=a("zrender/tool/event"),m={},n=a("zrender/tool/env").canvasSupported,l=new Date-
0,d={};m.version="2.0.2";m.dependencies={zrender:"2.0.2"};m.init=function(b,g){var c=a("zrender");(c.version||"1.0.3").replace(".","")-0<m.dependencies.zrender.replace(".","")-0&&console.error("ZRender "+(c.version||"1.0.3-")+" is too old for ECharts "+m.version+". Current version need ZRender "+m.dependencies.zrender+"+");b=b instanceof Array?b[0]:b;c=b.getAttribute("_echarts_instance_");return c||(c=l++,b.setAttribute("_echarts_instance_",c)),d[c]&&d[c].dispose(),d[c]=new r(b),d[c].id=c,d[c].setTheme(g),
d[c]};m.getInstanceById=function(b){return d[b]};f.merge(q.prototype,e.Dispatcher.prototype,!0);var b=a("zrender/config").EVENT,k="CLICK MOUSEOVER DRAGSTART DRAGEND DRAGENTER DRAGOVER DRAGLEAVE DROP".split(" ");return r.prototype={_init:function(){var h=this,g=a("zrender").init(this.dom);this._zr=g;this._messageCenter.dispatch=function(b,c,a,g){a=a||{};a.type=b;a.event=c;h._messageCenter.dispatchWithContext(b,a,g);"HOVER"!=b?setTimeout(function(){h._messageCenterOutSide.dispatchWithContext(b,a,g)},
50):h._messageCenterOutSide.dispatchWithContext(b,a,g)};this._onevent=function(b){return h.__onevent(b)};for(var c in p.EVENT)"CLICK"!=c&&"HOVER"!=c&&"MAP_ROAM"!=c&&this._messageCenter.bind(p.EVENT[c],this._onevent,this);var d={};this._onzrevent=function(b){return h[d[b.type]](b)};c=0;for(var l=k.length;c<l;c++){var e=k[c],f=b[e];d[f]="_on"+e.toLowerCase();g.on(f,this._onzrevent)}this.chart={};this.component={};this._island=new (a("./chart/island"))(this._themeConfig,this._messageCenter,g,{},this);
this.chart.island=this._island;this._toolbox=new (a("./component/toolbox"))(this._themeConfig,this._messageCenter,g,{},this);this.component.toolbox=this._toolbox;g=a("./component");g.define("title",a("./component/title"));g.define("tooltip",a("./component/tooltip"));g.define("legend",a("./component/legend"))},__onevent:function(b){b.__echartsId=b.__echartsId||this.id;var a=b.__echartsId==this.id;this._curEventType||(this._curEventType=b.type);switch(b.type){case p.EVENT.LEGEND_SELECTED:this._onlegendSelected(b);
break;case p.EVENT.DATA_ZOOM:if(!a){var c=this.component.dataZoom;c&&(c.silence(!0),c.absoluteZoom(b.zoom),c.silence(!1))}this._ondataZoom(b);break;case p.EVENT.DATA_RANGE:a&&this._ondataRange(b);break;case p.EVENT.MAGIC_TYPE_CHANGED:a||(c=this.component.toolbox)&&(c.silence(!0),c.setMagicType(b.magicType),c.silence(!1));this._onmagicTypeChanged(b);break;case p.EVENT.DATA_VIEW_CHANGED:a&&this._ondataViewChanged(b);break;case p.EVENT.TOOLTIP_HOVER:a&&this._tooltipHover(b);break;case p.EVENT.RESTORE:this._onrestore();
break;case p.EVENT.REFRESH:a&&this._onrefresh(b);break;case p.EVENT.TOOLTIP_IN_GRID:case p.EVENT.TOOLTIP_OUT_GRID:a?this._connected&&(c=this.component.grid)&&(b.x=(b.event.zrenderX-c.getX())/c.getWidth(),b.y=(b.event.zrenderY-c.getY())/c.getHeight()):(c=this.component.grid)&&this._zr.trigger("mousemove",{connectTrigger:!0,zrenderX:c.getX()+b.x*c.getWidth(),zrenderY:c.getY()+b.y*c.getHeight()})}if(this._connected&&a&&this._curEventType==b.type){for(var d in this._connected)this._connected[d].connectedEventHandler(b);
this._curEventType=null}if(!a||!this._connected&&a)this._curEventType=null},_onclick:function(b){s(this,"onclick",b);if(b.target){var a=this._eventPackage(b.target);a&&null!=a.seriesIndex&&this._messageCenter.dispatch(p.EVENT.CLICK,b.event,a,this)}},_onmouseover:function(b){if(b.target){var a=this._eventPackage(b.target);a&&null!=a.seriesIndex&&this._messageCenter.dispatch(p.EVENT.HOVER,b.event,a,this)}},_ondragstart:function(b){this._status={dragIn:!1,dragOut:!1,needRefresh:!1};s(this,"ondragstart",
b)},_ondragenter:function(b){s(this,"ondragenter",b)},_ondragover:function(b){s(this,"ondragover",b)},_ondragleave:function(b){s(this,"ondragleave",b)},_ondrop:function(b){s(this,"ondrop",b,this._status);this._island.ondrop(b,this._status)},_ondragend:function(b){s(this,"ondragend",b,this._status);this._timeline&&this._timeline.ondragend(b,this._status);this._island.ondragend(b,this._status);if(this._status.needRefresh){this._syncBackupData(this._option);var a=this._messageCenter;a.dispatch(p.EVENT.DATA_CHANGED,
b.event,this._eventPackage(b.target),this);a.dispatch(p.EVENT.REFRESH,null,null,this)}},_onlegendSelected:function(b){this._status.needRefresh=!1;s(this,"onlegendSelected",b,this._status);this._status.needRefresh&&this._messageCenter.dispatch(p.EVENT.REFRESH,null,null,this)},_ondataZoom:function(b){this._status.needRefresh=!1;s(this,"ondataZoom",b,this._status);this._status.needRefresh&&this._messageCenter.dispatch(p.EVENT.REFRESH,null,null,this)},_ondataRange:function(b){this._clearEffect();this._status.needRefresh=
!1;s(this,"ondataRange",b,this._status);this._status.needRefresh&&this._zr.refresh()},_onmagicTypeChanged:function(){this._clearEffect();this._render(this._toolbox.getMagicOption())},_ondataViewChanged:function(b){this._syncBackupData(b.option);this._messageCenter.dispatch(p.EVENT.DATA_CHANGED,null,b,this);this._messageCenter.dispatch(p.EVENT.REFRESH,null,null,this)},_tooltipHover:function(b){s(this,"ontooltipHover",b,[])},_onrestore:function(){this.restore()},_onrefresh:function(b){this._refreshInside=
!0;this.refresh(b);this._refreshInside=!1},_syncBackupData:function(b){this.component.dataZoom&&this.component.dataZoom.syncBackupData(b)},_eventPackage:function(b){if(b){var g=a("./util/ecData"),c=g.get(b,"seriesIndex"),d=g.get(b,"dataIndex");return d=-1!=c&&this.component.dataZoom?this.component.dataZoom.getRealDataIndex(c,d):d,{seriesIndex:c,dataIndex:d,data:g.get(b,"data"),name:g.get(b,"name"),value:g.get(b,"value"),special:g.get(b,"special")}}},_render:function(b){this._mergeGlobalConifg(b);
var g=b.backgroundColor;g&&(n||-1==g.indexOf("rgba")?this.dom.style.backgroundColor=g:(g=g.split(","),this.dom.style.filter="alpha(opacity="+100*g[3].substring(0,g[3].lastIndexOf(")"))+")",g.length=3,g[0]=g[0].replace("a",""),this.dom.style.backgroundColor=g.join(",")+")"));this._zr.clearAnimation();this._chartList=[];var g=a("./chart"),c=a("./component");if(b.xAxis||b.yAxis)b.grid=b.grid||{},b.dataZoom=b.dataZoom||{};for(var d="title legend tooltip dataRange grid dataZoom xAxis yAxis polar".split(" "),
k,l,e,f=0,m=d.length;f<m;f++)l=d[f],e=this.component[l],b[l]?(e?e.refresh&&e.refresh(b):(k=c.get(/^[xy]Axis$/.test(l)?"axis":l),e=new k(this._themeConfig,this._messageCenter,this._zr,b,this,l),this.component[l]=e),this._chartList.push(e)):e&&(e.dispose(),this.component[l]=null,delete this.component[l]);var q,r,s;k={};f=0;for(m=b.series.length;f<m;f++)(r=b.series[f].type)?k[r]||(k[r]=!0,q=g.get(r),q?(this.chart[r]?(s=this.chart[r],s.refresh(b)):s=new q(this._themeConfig,this._messageCenter,this._zr,
b,this),this._chartList.push(s),this.chart[r]=s):console.error(r+" has not been required.")):console.error("series["+f+"] chart type has not been defined.");for(r in this.chart)r!=p.CHART_TYPE_ISLAND&&!k[r]&&(this.chart[r].dispose(),this.chart[r]=null,delete this.chart[r]);this.component.grid&&this.component.grid.refixAxisShape(this.component);this._island.refresh(b);this._toolbox.refresh(b);b.animation&&!b.renderAsImage?this._zr.refresh():this._zr.render();q="IMG"+this.id;r=document.getElementById(q);
b.renderAsImage&&n?(r?r.src=this.getDataURL(b.renderAsImage):(r=this.getImage(b.renderAsImage),r.id=q,r.style.position="absolute",r.style.left=0,r.style.top=0,this.dom.firstChild.appendChild(r)),this.un(),this._zr.un(),this._disposeChartList(),this._zr.clear()):r&&r.parentNode.removeChild(r);this._option=b},restore:function(){this._clearEffect();this._option=f.clone(this._optionRestore);this._disposeChartList();this._island.clear();this._toolbox.reset(this._option,!0);this._render(this._option)},
refresh:function(b){this._clearEffect();b=b||{};var a=b.option;!this._refreshInside&&a&&(a=this.getOption(),f.merge(a,b.option,!0),f.merge(this._optionRestore,b.option,!0),this._toolbox.reset(a));this._island.refresh(a);this._toolbox.refresh(a);this._zr.clearAnimation();b=0;for(var c=this._chartList.length;b<c;b++)this._chartList[b].refresh&&this._chartList[b].refresh(a);this.component.grid&&this.component.grid.refixAxisShape(this.component);this._zr.refresh()},_disposeChartList:function(){this._clearEffect();
this._zr.clearAnimation();for(var b=this._chartList.length;b--;){var a=this._chartList[b];if(a){var c=a.type;this.chart[c]&&delete this.chart[c];this.component[c]&&delete this.component[c];a.dispose&&a.dispose()}}this._chartList=[]},_mergeGlobalConifg:function(b){for(var g="backgroundColor calculable calculableColor calculableHolderColor nameConnector valueConnector animation animationThreshold animationDuration animationEasing addDataAnimation symbolList DRAG_ENABLE_TIME".split(" "),c=g.length;c--;){var d=
g[c];null==b[d]&&(b[d]=this._themeConfig[d])}var k=b.color;k&&k.length||(k=this._themeConfig.color);this._zr.getColor=function(b){return a("zrender/tool/color").getColor(b,k)}},setOption:function(b,a){return b.timeline?this._setTimelineOption(b):this._setOption(b,a)},_setOption:function(b,a){!a&&this._option?this._option=f.merge(this.getOption(),f.clone(b),!0):this._option=f.clone(b);this._optionRestore=f.clone(this._option);if(this._option.series&&0!==this._option.series.length)return this.component.dataZoom&&
(this._option.dataZoom||this._option.toolbox&&this._option.toolbox.feature&&this._option.toolbox.feature.dataZoom&&this._option.toolbox.feature.dataZoom.show)&&this.component.dataZoom.syncOption(this._option),this._toolbox.reset(this._option),this._render(this._option),this;this._zr.clear()},getOption:function(){function b(d){var h=c._optionRestore[d];if(h)if(h instanceof Array)for(var k=h.length;k--;)a[d][k].data=f.clone(h[k].data);else a[d].data=f.clone(h.data)}var a=f.clone(this._option),c=this;
return b("xAxis"),b("yAxis"),b("series"),a},setSeries:function(b,a){return a?(this._option.series=b,this.setOption(this._option,a)):this.setOption({series:b}),this},getSeries:function(){return this.getOption().series},_setTimelineOption:function(b){this._timeline&&this._timeline.dispose();return this._timeline=new (a("./component/timeline"))(this._themeConfig,this._messageCenter,this._zr,b,this),this.component.timeline=this._timeline,this},addData:function(b,a,c,d,k){for(var l=b instanceof Array?
b:[[b,a,c,d,k]],e=this.getOption(),n=this._optionRestore,m=0,q=l.length;m<q;m++){b=l[m][0];a=l[m][1];c=l[m][2];d=l[m][3];k=l[m][4];var r=n.series[b],s=c?"unshift":"push";c=c?"pop":"shift";if(r){var C=r.data,u=e.series[b].data;C[s](a);u[s](a);d||(C[c](),a=u[c]());if(null!=k){var w,x;if(r.type==p.CHART_TYPE_PIE&&(w=n.legend)&&(x=w.data))r=e.legend.data,x[s](k),r[s](k),d||(d=f.indexOf(x,a.name),-1!=d&&x.splice(d,1),d=f.indexOf(r,a.name),-1!=d&&r.splice(d,1));else if(null!=n.xAxis&&null!=n.yAxis){var z,
D;a=r.xAxisIndex||0;if("undefined"==typeof n.xAxis[a].type||"category"==n.xAxis[a].type)z=n.xAxis[a].data,D=e.xAxis[a].data,z[s](k),D[s](k),d||(z[c](),D[c]());a=r.yAxisIndex||0;"category"==n.yAxis[a].type&&(z=n.yAxis[a].data,D=e.yAxis[a].data,z[s](k),D[s](k),d||(z[c](),D[c]()))}}this._option.series[b].data=e.series[b].data}}this._zr.clearAnimation();for(var I=this._chartList,m=0,q=I.length;m<q;m++)e.addDataAnimation&&I[m].addDataAnimation&&I[m].addDataAnimation(l);this.component.dataZoom&&this.component.dataZoom.syncOption(e);
this._option=e;var H=this;return setTimeout(function(){if(H._zr){H._zr.clearAnimation();for(var b=0,c=I.length;b<c;b++)I[b].motionlessOnce=e.addDataAnimation&&I[b].addDataAnimation;H._messageCenter.dispatch(p.EVENT.REFRESH,null,{option:e},H)}},e.addDataAnimation?500:0),this},addMarkPoint:function(b,a){return this._addMark(b,a,"markPoint")},addMarkLine:function(b,a){return this._addMark(b,a,"markLine")},_addMark:function(b,a,c){var d=this._option.series,k;if(d&&(k=d[b])){var d=this._optionRestore.series[b],
l=k[c],e=d[c],l=k[c]=l||{data:[]},e=d[c]=e||{data:[]},n;for(n in a)"data"==n?(l.data=l.data.concat(a.data),e.data=e.data.concat(a.data)):"object"!=typeof a[n]||"undefined"==typeof l[n]?l[n]=e[n]=a[n]:(f.merge(l[n],a[n],!0),f.merge(e[n],a[n],!0));(k=this.chart[k.type])&&k.addMark(b,a,c)}return this},delMarkPoint:function(b,a){return this._delMark(b,a,"markPoint")},delMarkLine:function(b,a){return this._delMark(b,a,"markLine")},_delMark:function(b,a,c){var d=this._option.series,k,l,e;if(!(d&&(k=d[b])&&
(l=k[c])&&(e=l.data)))return this;a=a.split(" > ");d=-1;l=0;for(var f=e.length;l<f;l++){var n=e[l];if(n instanceof Array){if(n[0].name==a[0]&&n[1].name==a[1]){d=l;break}}else if(n.name==a[0]){d=l;break}}-1<d&&(e.splice(d,1),this._optionRestore.series[b][c].data.splice(d,1),(k=this.chart[k.type])&&k.delMark(b,a.join(" > "),c));return this},getDom:function(){return this.dom},getZrender:function(){return this._zr},getDataURL:function(b){if(!n)return"";if(0===this._chartList.length){var a=document.getElementById("IMG"+
this.id);if(a)return a.src}(a=this.component.tooltip)&&a.hideTip();switch(b){case "jpeg":break;default:b="png"}a=this._option.backgroundColor;return a&&"rgba(0,0,0,0)"==a.replace(" ","")&&(a="#fff"),this._zr.toDataURL("image/"+b,a)},getImage:function(b){var a=this._optionRestore.title,c=document.createElement("img");return c.src=this.getDataURL(b),c.title=a&&a.text||"ECharts",c},getConnectedDataURL:function(b){if(!this.isConnected())return this.getDataURL(b);var g=this.dom,c={self:{img:this.getDataURL(b),
left:g.offsetLeft,top:g.offsetTop,right:g.offsetLeft+g.offsetWidth,bottom:g.offsetTop+g.offsetHeight}},d=c.self.left,k=c.self.top,l=c.self.right,e=c.self.bottom,f;for(f in this._connected)g=this._connected[f].getDom(),c[f]={img:this._connected[f].getDataURL(b),left:g.offsetLeft,top:g.offsetTop,right:g.offsetLeft+g.offsetWidth,bottom:g.offsetTop+g.offsetHeight},d=Math.min(d,c[f].left),k=Math.min(k,c[f].top),l=Math.max(l,c[f].right),e=Math.max(e,c[f].bottom);var n=document.createElement("div");n.style.position=
"absolute";n.style.left="-4000px";n.style.width=l-d+"px";n.style.height=e-k+"px";document.body.appendChild(n);var m=a("zrender").init(n);b=a("zrender/shape/Image");for(f in c)m.addShape(new b({style:{x:c[f].left-d,y:c[f].top-k,image:c[f].img}}));m.render();(c=this._option.backgroundColor)&&"rgba(0,0,0,0)"==c.replace(/ /g,"")&&(c="#fff");c=m.toDataURL("image/png",c);return setTimeout(function(){m.dispose();n.parentNode.removeChild(n);n=null},100),c},getConnectedImage:function(b){var a=this._optionRestore.title,
c=document.createElement("img");return c.src=this.getConnectedDataURL(b),c.title=a&&a.text||"ECharts",c},on:function(b,a){return this._messageCenterOutSide.bind(b,a,this),this},un:function(b,a){return this._messageCenterOutSide.unbind(b,a),this},connect:function(b){if(!b)return this;this._connected||(this._connected={});if(b instanceof Array)for(var a=0,c=b.length;a<c;a++)this._connected[b[a].id]=b[a];else this._connected[b.id]=b;return this},disConnect:function(b){if(!b||!this._connected)return this;
if(b instanceof Array)for(var a=0,c=b.length;a<c;a++)delete this._connected[b[a].id];else delete this._connected[b.id];for(var d in this._connected)return d,this;return this._connected=!1,this},connectedEventHandler:function(b){b.__echartsId!=this.id&&this._onevent(b)},isConnected:function(){return!!this._connected},showLoading:function(b){var g={bar:a("zrender/loadingEffect/Bar"),bubble:a("zrender/loadingEffect/Bubble"),dynamicLine:a("zrender/loadingEffect/DynamicLine"),ring:a("zrender/loadingEffect/Ring"),
spin:a("zrender/loadingEffect/Spin"),whirling:a("zrender/loadingEffect/Whirling")};this._toolbox.hideDataView();b=b||{};var c=b.textStyle||{};b.textStyle=c;var d=f.merge(f.clone(c),this._themeConfig.textStyle);c.textFont=d.fontStyle+" "+d.fontWeight+" "+d.fontSize+"px "+d.fontFamily;c.text=b.text||this._themeConfig.loadingText;null!=b.x&&(c.x=b.x);null!=b.y&&(c.y=b.y);b.effectOption=b.effectOption||{};b.effectOption.textStyle=c;c=b.effect;if("string"==typeof c||null==c)c=g[b.effect||"spin"];return this._zr.showLoading(new c(b.effectOption)),
this},hideLoading:function(){return this._zr.hideLoading(),this},setTheme:function(b){if(b){if("string"==typeof b)switch(b){default:b=a("./theme/default")}else b=b||{};for(var g in this._themeConfig)delete this._themeConfig[g];for(g in p)this._themeConfig[g]=f.clone(p[g]);b.color&&(this._themeConfig.color=[]);b.symbolList&&(this._themeConfig.symbolList=[]);f.merge(this._themeConfig,f.clone(b),!0)}n||(this._themeConfig.textStyle.fontFamily=this._themeConfig.textStyle.fontFamily2);this._timeline&&this._timeline.setTheme(!0);
this._optionRestore&&this.restore()},resize:function(){var b=this;return function(){b._clearEffect();b._zr.resize();if(b._option&&b._option.renderAsImage&&n)return b._render(b._option),b;b._zr.clearAnimation();b._island.resize();b._toolbox.resize();b._timeline&&b._timeline.resize();for(var a=0,c=b._chartList.length;a<c;a++)b._chartList[a].resize&&b._chartList[a].resize();return b.component.grid&&b.component.grid.refixAxisShape(b.component),b._zr.refresh(),b._messageCenter.dispatch(p.EVENT.RESIZE,
null,null,b),b}},_clearEffect:function(){this._zr.modLayer(p.EFFECT_ZLEVEL,{motionBlur:!1});this._zr.painter.clearLayer(p.EFFECT_ZLEVEL)},clear:function(){return this._disposeChartList(),this._zr.clear(),this._option={},this._optionRestore={},this},dispose:function(){var b=this.dom.getAttribute("_echarts_instance_");b&&delete d[b];this._island.dispose();this._toolbox.dispose();this._timeline&&this._timeline.dispose();this._messageCenter.unbind();this.clear();this._zr.dispose();this._zr=null}},m});
define("echarts",["echarts/echarts"],function(a){return a});
define("echarts/util/shape/GaugePointer",["require","zrender/shape/Base","zrender/tool/util","./normalIsCover"],function(a){function q(a){r.call(this,a)}var r=a("zrender/shape/Base"),s=a("zrender/tool/util");return q.prototype={type:"gauge-pointer",buildPath:function(a,f){var e=f.r,m=f.width,n=f.angle,l=f.x-Math.cos(n)*m*(m>=e/3?1:2),d=f.y+Math.sin(n)*m*(m>=e/3?1:2),n=f.angle-Math.PI/2;a.moveTo(l,d);a.lineTo(f.x+Math.cos(n)*m,f.y-Math.sin(n)*m);a.lineTo(f.x+Math.cos(f.angle)*e,f.y-Math.sin(f.angle)*
e);a.lineTo(f.x-Math.cos(n)*m,f.y+Math.sin(n)*m);a.lineTo(l,d)},getRect:function(a){if(a.__rect)return a.__rect;var f=2*a.width,e=a.x,m=a.y,n=e+Math.cos(a.angle)*a.r,l=m-Math.sin(a.angle)*a.r;return a.__rect={x:Math.min(e,n)-f,y:Math.min(m,l)-f,width:Math.abs(e-n)+f,height:Math.abs(m-l)+f},a.__rect},isCover:a("./normalIsCover")},s.inherits(q,r),q});
define("echarts/chart/gauge","require ../component/base ./base ../util/shape/GaugePointer zrender/shape/Text zrender/shape/Line zrender/shape/Rectangle zrender/shape/Circle zrender/shape/Sector ../config ../util/ecData ../util/accMath zrender/tool/util ../chart".split(" "),function(a){function q(b,c,a,d,k){r.call(this,b,c,a,d,k);s.call(this);this.refresh(d)}var r=a("../component/base"),s=a("./base"),p=a("../util/shape/GaugePointer"),f=a("zrender/shape/Text"),e=a("zrender/shape/Line"),m=a("zrender/shape/Rectangle"),
n=a("zrender/shape/Circle"),l=a("zrender/shape/Sector"),d=a("../config"),b=a("../util/ecData"),k=a("../util/accMath"),h=a("zrender/tool/util");return q.prototype={type:d.CHART_TYPE_GAUGE,_buildShape:function(){var b=this.series;this._paramsMap={};for(var c=0,a=b.length;c<a;c++)b[c].type==d.CHART_TYPE_GAUGE&&(b[c]=this.reformOption(b[c]),this._buildSingleGauge(c),this.buildMark(c));this.addShapeList()},_buildSingleGauge:function(b){var c=this.series[b];this._paramsMap[b]={center:this.parseCenter(this.zr,
c.center),radius:this.parseRadius(this.zr,c.radius),startAngle:c.startAngle.toFixed(2)-0,endAngle:c.endAngle.toFixed(2)-0};this._paramsMap[b].totalAngle=this._paramsMap[b].startAngle-this._paramsMap[b].endAngle;this._colorMap(b);this._buildAxisLine(b);this._buildSplitLine(b);this._buildAxisTick(b);this._buildAxisLabel(b);this._buildPointer(b);this._buildTitle(b);this._buildDetail(b)},_buildAxisLine:function(a){var c=this.series[a];if(c.axisLine.show)for(var d=c.min,k=c.max-d,h=this._paramsMap[a],
l=h.center,e=h.startAngle,f=h.totalAngle,n=h.colorArray,c=c.axisLine.lineStyle,m=this.parsePercent(c.width,h.radius[1]),h=h.radius[1],m=h-m,p,q=e,r,s=0,x=n.length;s<x;s++)r=e-f*(n[s][0]-d)/k,p=this._getSector(l,m,h,r,q,n[s][1],c),q=r,p._animationAdd="r",b.set(p,"seriesIndex",a),b.set(p,"dataIndex",s),this.shapeList.push(p)},_buildSplitLine:function(b){var c=this.series[b];if(c.splitLine.show)for(var a=this._paramsMap[b],d=c.splitNumber,k=c.min,h=c.max-k,c=c.splitLine,l=this.parsePercent(c.length,
a.radius[1]),c=c.lineStyle,f=c.color,n=a.center,m=a.startAngle*Math.PI/180,p=a.totalAngle*Math.PI/180,a=a.radius[1],l=a-l,q,r,s=0;s<=d;s++)q=m-p/d*s,r=Math.sin(q),q=Math.cos(q),this.shapeList.push(new e({zlevel:this._zlevelBase+1,hoverable:!1,style:{xStart:n[0]+q*a,yStart:n[1]-r*a,xEnd:n[0]+q*l,yEnd:n[1]-r*l,strokeColor:"auto"==f?this._getColor(b,k+h/d*s):f,lineType:c.type,lineWidth:c.width,shadowColor:c.shadowColor,shadowBlur:c.shadowBlur,shadowOffsetX:c.shadowOffsetX,shadowOffsetY:c.shadowOffsetY}}))},
_buildAxisTick:function(b){var c=this.series[b];if(c.axisTick.show)for(var a=this._paramsMap[b],d=c.splitNumber,k=c.min,h=c.max-k,l=c.axisTick,c=l.splitNumber,f=this.parsePercent(l.length,a.radius[1]),l=l.lineStyle,n=l.color,m=a.center,p=a.startAngle*Math.PI/180,q=a.totalAngle*Math.PI/180,a=a.radius[1],f=a-f,r,s=0,x=d*c;s<=x;s++)0!==s%c&&(r=p-q/x*s,d=Math.sin(r),r=Math.cos(r),this.shapeList.push(new e({zlevel:this._zlevelBase+1,hoverable:!1,style:{xStart:m[0]+r*a,yStart:m[1]-d*a,xEnd:m[0]+r*f,yEnd:m[1]-
d*f,strokeColor:"auto"==n?this._getColor(b,k+h/x*s):n,lineType:l.type,lineWidth:l.width,shadowColor:l.shadowColor,shadowBlur:l.shadowBlur,shadowOffsetX:l.shadowOffsetX,shadowOffsetY:l.shadowOffsetY}})))},_buildAxisLabel:function(b){var c=this.series[b];if(c.axisLabel.show)for(var a=c.splitNumber,d=c.min,h=c.max-d,l=c.axisLabel.textStyle,e=this.getFont(l),n=l.color,m=this._paramsMap[b],p=m.center,q=m.startAngle,r=m.totalAngle,m=m.radius[1]-this.parsePercent(c.splitLine.length,m.radius[1])-10,s,w,x,
z,D=0;D<=a;D++)z=d+k.accMul(k.accDiv(h,a),D),s=q-r/a*D,w=Math.sin(s*Math.PI/180),x=Math.cos(s*Math.PI/180),s=(s+360)%360,this.shapeList.push(new f({zlevel:this._zlevelBase+1,hoverable:!1,style:{x:p[0]+x*m,y:p[1]-w*m,color:"auto"==n?this._getColor(b,z):n,text:this._getLabelText(c.axisLabel.formatter,z),textAlign:110<=s&&250>=s?"left":70>=s||290<=s?"right":"center",textBaseline:10<=s&&170>=s?"top":190<=s&&350>=s?"bottom":"middle",textFont:e,shadowColor:l.shadowColor,shadowBlur:l.shadowBlur,shadowOffsetX:l.shadowOffsetX,
shadowOffsetY:l.shadowOffsetY}}))},_buildPointer:function(a){var c=this.series[a];if(c.pointer.show){var d=c.max-c.min,k=c.pointer,h=this._paramsMap[a],l=this.parsePercent(k.length,h.radius[1]),e=this.parsePercent(k.width,h.radius[1]),f=h.center,m=this._getValue(a),m=m<c.max?m:c.max,c=(h.startAngle-h.totalAngle/d*(m-c.min))*Math.PI/180,d="auto"==k.color?this._getColor(a,m):k.color,h=new p({zlevel:this._zlevelBase+1,style:{x:f[0],y:f[1],r:l,startAngle:h.startAngle*Math.PI/180,angle:c,color:d,width:e,
shadowColor:k.shadowColor,shadowBlur:k.shadowBlur,shadowOffsetX:k.shadowOffsetX,shadowOffsetY:k.shadowOffsetY},highlightStyle:{brushType:"fill",width:2<e?2:e/2,color:"#fff"}});b.pack(h,this.series[a],a,this.series[a].data[0],0,this.series[a].data[0].name,m);this.shapeList.push(h);this.shapeList.push(new n({zlevel:this._zlevelBase+2,hoverable:!1,style:{x:f[0],y:f[1],r:k.width/2.5,color:"#fff"}}))}},_buildTitle:function(b){var c=this.series[b];if(c.title.show){var a=c.data[0],a="undefined"!=typeof a.name?
a.name:"";if(""!==a){var d=c.title,c=d.offsetCenter,d=d.textStyle,k=d.color,h=this._paramsMap[b],l=h.center[0]+this.parsePercent(c[0],h.radius[1]),c=h.center[1]+this.parsePercent(c[1],h.radius[1]);this.shapeList.push(new f({zlevel:this._zlevelBase+(Math.abs(l-h.center[0])+Math.abs(c-h.center[1]))<2*d.fontSize?2:1,hoverable:!1,style:{x:l,y:c,color:"auto"==k?this._getColor(b):k,text:a,textAlign:"center",textFont:this.getFont(d),shadowColor:d.shadowColor,shadowBlur:d.shadowBlur,shadowOffsetX:d.shadowOffsetX,
shadowOffsetY:d.shadowOffsetY}}))}}},_buildDetail:function(b){var c=this.series[b];if(c.detail.show){var c=c.detail,a=c.offsetCenter,d=c.backgroundColor,k=c.textStyle,h=k.color,l=this._paramsMap[b],e=this._getValue(b),f=l.center[0]-c.width/2+this.parsePercent(a[0],l.radius[1]),a=l.center[1]+this.parsePercent(a[1],l.radius[1]);this.shapeList.push(new m({zlevel:this._zlevelBase+(Math.abs(f+c.width/2-l.center[0])+Math.abs(a+c.height/2-l.center[1]))<k.fontSize?2:1,hoverable:!1,style:{x:f,y:a,width:c.width,
height:c.height,brushType:"both",color:"auto"==d?this._getColor(b,e):d,lineWidth:c.borderWidth,strokeColor:c.borderColor,shadowColor:c.shadowColor,shadowBlur:c.shadowBlur,shadowOffsetX:c.shadowOffsetX,shadowOffsetY:c.shadowOffsetY,text:this._getLabelText(c.formatter,e),textFont:this.getFont(k),textPosition:"inside",textColor:"auto"==h?this._getColor(b,e):h}}))}},_getValue:function(b){b=this.series[b].data[0];return"undefined"!=typeof b.value?b.value:b},_colorMap:function(b){var c=this.series[b],a=
c.min,d=c.max-a,c=c.axisLine.lineStyle.color;c instanceof Array||(c=[[1,c]]);for(var k=[],h=0,l=c.length;h<l;h++)k.push([c[h][0]*d+a,c[h][1]]);this._paramsMap[b].colorArray=k},_getColor:function(b,c){"undefined"==typeof c&&(c=this._getValue(b));for(var a=this._paramsMap[b].colorArray,d=0,k=a.length;d<k;d++)if(a[d][0]>=c)return a[d][1];return a[a.length-1][1]},_getSector:function(b,c,a,d,k,h,e){return new l({zlevel:this._zlevelBase,hoverable:!1,style:{x:b[0],y:b[1],r0:c,r:a,startAngle:d,endAngle:k,
brushType:"fill",color:h,shadowColor:e.shadowColor,shadowBlur:e.shadowBlur,shadowOffsetX:e.shadowOffsetX,shadowOffsetY:e.shadowOffsetY}})},_getLabelText:function(b,c){if(b){if("function"==typeof b)return b.call(this.myChart,c);if("string"==typeof b)return b.replace("{value}",c)}return c},refresh:function(b){b&&(this.option=b,this.series=b.series);this.backupShapeList();this._buildShape()}},h.inherits(q,s),h.inherits(q,r),a("../chart").define("gauge",q),q});
define("echarts/chart/funnel","require ../component/base ./base zrender/shape/Text zrender/shape/Line zrender/shape/Polygon ../config ../util/ecData ../util/number zrender/tool/util zrender/tool/color zrender/tool/area ../chart".split(" "),function(a){function q(b,a,c,d,k){r.call(this,b,a,c,d,k);s.call(this);this.refresh(d)}var r=a("../component/base"),s=a("./base"),p=a("zrender/shape/Text"),f=a("zrender/shape/Line"),e=a("zrender/shape/Polygon"),m=a("../config"),n=a("../util/ecData"),l=a("../util/number"),
d=a("zrender/tool/util"),b=a("zrender/tool/color"),k=a("zrender/tool/area");return q.prototype={type:m.CHART_TYPE_FUNNEL,_buildShape:function(){var b=this.series,a=this.component.legend;this._paramsMap={};this._selected={};this.selectedMap={};for(var c,d=0,k=b.length;d<k;d++)b[d].type==m.CHART_TYPE_FUNNEL&&(b[d]=this.reformOption(b[d]),c=b[d].name||"",this.selectedMap[c]=a?a.isSelected(c):!0,this.selectedMap[c]&&(this._buildSingleFunnel(d),this.buildMark(d)));this.addShapeList()},_buildSingleFunnel:function(b){var a=
this.component.legend,c=this.series[b],d=this._mapData(b),k=this._getLocation(b);this._paramsMap[b]={location:k,data:d};for(var e,f=0,n=[],m=0,p=d.length;m<p;m++)e=d[m].name,a?this.selectedMap[e]=a.isSelected(e):this.selectedMap[e]=!0,this.selectedMap[e]&&!isNaN(d[m].value)&&(n.push(d[m]),f++);if(0!==f){for(var d=this._buildFunnelCase(b),q=c.gap,f=1<f?(k.height-(f-1)*q)/f:k.height,r,s=k.y,u="descending"==c.sort?this._getItemWidth(b,n[0].value):l.parsePercent(c.minSize,k.width),w="descending"==c.sort?
1:0,x=k.centerX,z=[[x-u/2-(0===u?0:10),s-(0===u?10:5)],[x+u/2+(0===u?0:10),s-(0===u?10:5)]],m=0,p=n.length;m<p;m++)e=n[m].name,this.selectedMap[e]&&!isNaN(n[m].value)&&(r=m<=p-2?this._getItemWidth(b,n[m+w].value):"descending"==c.sort?l.parsePercent(c.minSize,k.width):l.parsePercent(c.maxSize,k.width),this._buildItem(b,n[m]._index,a?a.getColor(e):this.zr.getColor(n[m]._index),x-u/2,s,u,r,f),s+=f+q,u=r,z.unshift([x-u/2-10,s]),z.push([x+u/2+10,s]));d&&(0===u?(z.pop(),z[0][0]+=10,z[0][1]+=10):(z[z.length-
1][1]+=5,z[0][1]+=5),d.style.pointList=z)}},_buildFunnelCase:function(b){var a=this.series[b];if(this.deepQuery([a,this.option],"calculable")){var c=this._paramsMap[b].location,c={hoverable:!1,style:{pointListd:[[c.x-10,c.y-10],[c.x+c.width+10,c.y-10],[c.x+c.width+10,c.y+c.height+10],[c.x-10,c.y+c.height+10]],brushType:"stroke",lineWidth:1,strokeColor:a.calculableHolderColor||this.ecTheme.calculableHolderColor}};return n.pack(c,a,b,void 0,-1),this.setCalculable(c),c=new e(c),this.shapeList.push(c),
c}},_getLocation:function(b){b=this.series[b];var a=this.zr.getWidth(),c=this.zr.getHeight(),d=this.parsePercent(b.x,a),k=this.parsePercent(b.y,c),l;"undefined"==typeof b.width?l=a-d-this.parsePercent(b.x2,a):l=this.parsePercent(b.width,a);var e;return"undefined"==typeof b.height?e=c-k-this.parsePercent(b.y2,c):e=this.parsePercent(b.height,c),{x:d,y:k,width:l,height:e,centerX:d+l/2}},_mapData:function(b){function a(b,c){return"-"==b.value?1:"-"==c.value?-1:c.value-b.value}function c(b,c){return-a(b,
c)}b=this.series[b];for(var k=d.clone(b.data),l=0,e=k.length;l<e;l++)k[l]._index=l;return"none"!=b.sort&&k.sort("descending"==b.sort?a:c),k},_buildItem:function(b,a,c,d,k,l,e,f){var m=this.series,p=m[b],q=p.data[a],r=this.getPolygon(b,a,c,d,k,l,e,f);n.pack(r,m[b],b,m[b].data[a],a,m[b].data[a].name);this.shapeList.push(r);var s=this.getLabel(b,a,c,d,k,l,e,f);n.pack(s,m[b],b,m[b].data[a],a,m[b].data[a].name);this.shapeList.push(s);this._needLabel(p,q,!1)||(s.invisible=!0);b=this.getLabelLine(b,a,c,
d,k,l,e,f);this.shapeList.push(b);this._needLabelLine(p,q,!1)||(b.invisible=!0);a=[];c=[];this._needLabelLine(p,q,!0)&&(a.push(b.id),c.push(b.id));this._needLabel(p,q,!0)&&(a.push(s.id),c.push(r.id));r.hoverConnect=a;s.hoverConnect=c;r.onmouseover=s.onmouseover=this.hoverConnect},_getItemWidth:function(b,a){var c=this.series[b],d=this._paramsMap[b].location,k=c.min,e=c.max,f=l.parsePercent(c.minSize,d.width),c=l.parsePercent(c.maxSize,d.width);return a*(c-f)/(e-k)},getPolygon:function(a,d,c,k,l,f,
n,m){var p=this.series[a],q=p.data[d],r=[q,p],s=this.deepMerge(r,"itemStyle.normal")||{},r=this.deepMerge(r,"itemStyle.emphasis")||{};c=this.getItemStyleColor(s.color,a,d,q)||c;a=this.getItemStyleColor(r.color,a,d,q)||("string"==typeof c?b.lift(c,-.2):c);k={zlevel:this._zlevelBase,clickable:!0,style:{pointList:[[k,l],[k+f,l],[k+f-(f-n)/2,l+m],[k+(f-n)/2,l+m]],brushType:"both",color:c,lineWidth:s.borderWidth,strokeColor:s.borderColor},highlightStyle:{color:a,lineWidth:r.borderWidth,strokeColor:r.borderColor}};
return this.deepQuery([q,p,this.option],"calculable")&&(this.setCalculable(k),k.draggable=!0),new e(k)},getLabel:function(a,g,c,l,e,f,n,m){var q=this.series[a],r=this._paramsMap[a].location,q=d.merge(d.clone(q.data[g].itemStyle)||{},q.itemStyle),s="normal",B=q[s].label,C=B.textStyle||{},u=q[s].labelLine.length,w=this.getLabelText(a,g,s),x=this.getFont(C),z,D,I=c;B.position=B.position||q.normal.label.position;"inner"==B.position||"inside"==B.position?(z="center",D=l+f/2,Math.max(f,n)/2>k.getTextWidth(w,
x)?I="#fff":I=b.reverse(c)):"left"==B.position?(z="right",D="auto"==u?r.x-10:r.centerX-Math.max(f,n)/2-u):(z="left",D="auto"==u?r.x+r.width+10:r.centerX+Math.max(f,n)/2+u);e={zlevel:this._zlevelBase+1,style:{x:D,y:e+m/2,color:C.color||I,text:w,textAlign:C.align||z,textBaseline:C.baseline||"middle",textFont:x}};return s="emphasis",B=q[s].label||B,C=B.textStyle||C,u=q[s].labelLine.length||u,B.position=B.position||q.normal.label.position,w=this.getLabelText(a,g,s),x=this.getFont(C),I=c,"inner"==B.position||
"inside"==B.position?(z="center",D=l+f/2,Math.max(f,n)/2>k.getTextWidth(w,x)?I="#fff":I=b.reverse(c)):"left"==B.position?(z="right",D="auto"==u?r.x-10:r.centerX-Math.max(f,n)/2-u):(z="left",D="auto"==u?r.x+r.width+10:r.centerX+Math.max(f,n)/2+u),e.highlightStyle={x:D,color:C.color||I,text:w,textAlign:C.align||z,textFont:x,brushType:"fill"},new p(e)},getLabelText:function(b,a,c){b=this.series[b];a=b.data[a];c=this.deepQuery([a,b],"itemStyle."+c+".label.formatter");if(!c)return a.name;if("function"==
typeof c)return c.call(this.myChart,b.name,a.name,a.value);if("string"==typeof c)return c=c.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}"),c=c.replace("{a0}",b.name).replace("{b0}",a.name).replace("{c0}",a.value),c},getLabelLine:function(b,a,c,k,l,e,n,m){var p=this.series[b];b=this._paramsMap[b].location;a=d.merge(d.clone(p.data[a].itemStyle)||{},p.itemStyle);var p="normal",q=a[p].labelLine,r=a[p].labelLine.length,s=q.lineStyle||{},C=a[p].label;C.position=C.position||a.normal.label.position;
var u;"inner"==C.position||"inside"==C.position?u=k+e/2:"left"==C.position?u="auto"==r?b.x-10:b.centerX-Math.max(e,n)/2-r:u="auto"==r?b.x+b.width+10:b.centerX+Math.max(e,n)/2+r;l={zlevel:this._zlevelBase+1,hoverable:!1,style:{xStart:b.centerX,yStart:l+m/2,xEnd:u,yEnd:l+m/2,strokeColor:s.color||c,lineType:s.type,lineWidth:s.width}};return p="emphasis",q=a[p].labelLine||q,r=a[p].labelLine.length||r,s=q.lineStyle||s,C=a[p].label||C,C.position=C.position,"inner"==C.position||"inside"==C.position?u=k+
e/2:"left"==C.position?u="auto"==r?b.x-10:b.centerX-Math.max(e,n)/2-r:u="auto"==r?b.x+b.width+10:b.centerX+Math.max(e,n)/2+r,l.highlightStyle={xEnd:u,strokeColor:s.color||c,lineType:s.type,lineWidth:s.width},new f(l)},_needLabel:function(b,a,c){return this.deepQuery([a,b],"itemStyle."+(c?"emphasis":"normal")+".label.show")},_needLabelLine:function(b,a,c){return this.deepQuery([a,b],"itemStyle."+(c?"emphasis":"normal")+".labelLine.show")},refresh:function(b){b&&(this.option=b,this.series=b.series);
this.backupShapeList();this._buildShape()}},d.inherits(q,s),d.inherits(q,r),a("../chart").define("funnel",q),q});
define("echarts/component/categoryAxis","require ./base zrender/shape/Text zrender/shape/Line zrender/shape/Rectangle ../config zrender/tool/util zrender/tool/area ../component".split(" "),function(a){function q(a,d,b,k,h,g){if(1>k.data.length)console.error("option.data.length < 1.");else{r.call(this,a,d,b,k,h);this.grid=this.component.grid;for(var c in g)this[c]=g[c];this.refresh(k)}}var r=a("./base"),s=a("zrender/shape/Text"),p=a("zrender/shape/Line"),f=a("zrender/shape/Rectangle"),e=a("../config"),
m=a("zrender/tool/util"),n=a("zrender/tool/area");return q.prototype={type:e.COMPONENT_TYPE_AXIS_CATEGORY,_getReformedLabel:function(a){var d="undefined"!=typeof this.option.data[a].value?this.option.data[a].value:this.option.data[a];a=this.option.data[a].formatter||this.option.axisLabel.formatter;return a&&("function"==typeof a?d=a.call(this.myChart,d):"string"==typeof a&&(d=a.replace("{value}",d))),d},_getInterval:function(){var a=this.option.axisLabel.interval;if("auto"==a){var d=this.option.axisLabel.textStyle.fontSize,
b=this.option.data,k=this.option.data.length;if(this.isHorizontal())if(3<k)for(var h=this.getGap(),g=!1,c,e,f=Math.floor(.5/h),f=1>f?1:f,a=Math.floor(15/h);!g&&a<k;){a+=f;g=!0;c=Math.floor(h*a);for(var p=Math.floor((k-1)/a)*a;0<=p;p-=a){if(0!==this.option.axisLabel.rotate)e=d;else if(b[p].textStyle)e=n.getTextWidth(this._getReformedLabel(p),this.getFont(m.merge(b[p].textStyle,this.option.axisLabel.textStyle)));else{e=this._getReformedLabel(p)+"";var r=(e.match(/\w/g)||"").length;e=r*d*2/3+(e.length-
r)*d}if(c<e){g=!1;break}}}else a=1;else if(3<k)for(h=this.getGap(),a=Math.floor(11/h);h*a-6<d&&a<k;)a++;else a=1}else a=a-0+1;return a},_buildShape:function(){this._interval=this._getInterval();this.option.splitArea.show&&this._buildSplitArea();this.option.splitLine.show&&this._buildSplitLine();this.option.axisLine.show&&this._buildAxisLine();this.option.axisTick.show&&this._buildAxisTick();this.option.axisLabel.show&&this._buildAxisLabel();for(var a=0,d=this.shapeList.length;a<d;a++)this.zr.addShape(this.shapeList[a])},
_buildAxisTick:function(){var a,d=this.option.data.length,b=this.option.axisTick,k=b.length,h=b.lineStyle.color,g=b.lineStyle.width,c="auto"==b.interval?this._interval:b.interval-0+1,e=b.onGap,e=e?this.getGap()/2:"undefined"==typeof e?this.option.boundaryGap?this.getGap()/2:0:0,f=0<e?-c:0;if(this.isHorizontal())for(b="bottom"==this.option.position?b.inside?this.grid.getYend()-k-1:this.grid.getYend()+1:b.inside?this.grid.getY()+1:this.grid.getY()-k-1;f<d;f+=c)a=this.subPixelOptimize(this.getCoordByIndex(f)+
(0<=f?e:0),g),a={_axisShape:"axisTick",zlevel:this._zlevelBase,hoverable:!1,style:{xStart:a,yStart:b,xEnd:a,yEnd:b+k,strokeColor:h,lineWidth:g}},this.shapeList.push(new p(a));else for(b="left"==this.option.position?b.inside?this.grid.getX()+1:this.grid.getX()-k-1:b.inside?this.grid.getXend()-k-1:this.grid.getXend()+1;f<d;f+=c)a=this.subPixelOptimize(this.getCoordByIndex(f)-(0<=f?e:0),g),a={_axisShape:"axisTick",zlevel:this._zlevelBase,hoverable:!1,style:{xStart:b,yStart:a,xEnd:b+k,yEnd:a,strokeColor:h,
lineWidth:g}},this.shapeList.push(new p(a))},_buildAxisLabel:function(){var a,d=this.option.data,b=this.option.data.length,k=this.option.axisLabel.rotate,h=this.option.axisLabel.margin,g=this.option.axisLabel.clickable,c=this.option.axisLabel.textStyle;if(this.isHorizontal()){var e,f;"bottom"==this.option.position?(e=this.grid.getYend()+h,f="top"):(e=this.grid.getY()-h,f="bottom");for(h=0;h<b;h+=this._interval)""!==this._getReformedLabel(h)&&(a=m.merge(d[h].textStyle||{},c),a={zlevel:this._zlevelBase,
hoverable:!1,style:{x:this.getCoordByIndex(h),y:e,color:a.color,text:this._getReformedLabel(h),textFont:this.getFont(a),textAlign:a.align||"center",textBaseline:a.baseline||f}},k&&(a.style.textAlign=0<k?"bottom"==this.option.position?"right":"left":"bottom"==this.option.position?"left":"right",a.rotation=[k*Math.PI/180,a.style.x,a.style.y]),this.shapeList.push(new s(this._axisLabelClickable(g,a))))}else{var n,p;"left"==this.option.position?(n=this.grid.getX()-h,p="right"):(n=this.grid.getXend()+h,
p="left");for(h=0;h<b;h+=this._interval)""!==this._getReformedLabel(h)&&(a=m.merge(d[h].textStyle||{},c),a={zlevel:this._zlevelBase,hoverable:!1,style:{x:n,y:this.getCoordByIndex(h),color:a.color,text:this._getReformedLabel(h),textFont:this.getFont(a),textAlign:a.align||p,textBaseline:a.baseline||0===h&&""!==this.option.name?"bottom":h==b-1&&""!==this.option.name?"top":"middle"}},k&&(a.rotation=[k*Math.PI/180,a.style.x,a.style.y]),this.shapeList.push(new s(this._axisLabelClickable(g,a))))}},_buildSplitLine:function(){var a,
d=this.option.data.length,b=this.option.splitLine,k=b.lineStyle.type,h=b.lineStyle.width,g=b.lineStyle.color,g=g instanceof Array?g:[g],c=g.length,e=b.onGap,b=e?this.getGap()/2:"undefined"==typeof e?this.option.boundaryGap?this.getGap()/2:0:0,d=d-(e||"undefined"==typeof e&&this.option.boundaryGap?1:0);if(this.isHorizontal())for(var f=this.grid.getY(),n=this.grid.getYend(),e=0;e<d;e+=this._interval)a=this.subPixelOptimize(this.getCoordByIndex(e)+b,h),a={zlevel:this._zlevelBase,hoverable:!1,style:{xStart:a,
yStart:f,xEnd:a,yEnd:n,strokeColor:g[e/this._interval%c],lineType:k,lineWidth:h}},this.shapeList.push(new p(a));else for(f=this.grid.getX(),n=this.grid.getXend(),e=0;e<d;e+=this._interval)a=this.subPixelOptimize(this.getCoordByIndex(e)-b,h),a={zlevel:this._zlevelBase,hoverable:!1,style:{xStart:f,yStart:a,xEnd:n,yEnd:a,strokeColor:g[e/this._interval%c],linetype:k,lineWidth:h}},this.shapeList.push(new p(a))},_buildSplitArea:function(){var a,d=this.option.splitArea,b=d.areaStyle.color;if(b instanceof
Array){var k=b.length,h=this.option.data.length,d=(d=d.onGap)?this.getGap()/2:"undefined"==typeof d?this.option.boundaryGap?this.getGap()/2:0:0;if(this.isHorizontal()){var g=this.grid.getY(),c=this.grid.getHeight();a=this.grid.getX();for(var e,n=0;n<=h;n+=this._interval)e=n<h?this.getCoordByIndex(n)+d:this.grid.getXend(),a={zlevel:this._zlevelBase,hoverable:!1,style:{x:a,y:g,width:e-a,height:c,color:b[n/this._interval%k]}},this.shapeList.push(new f(a)),a=e}else for(g=this.grid.getX(),c=this.grid.getWidth(),
a=this.grid.getYend(),n=0;n<=h;n+=this._interval)e=n<h?this.getCoordByIndex(n)-d:this.grid.getY(),a={zlevel:this._zlevelBase,hoverable:!1,style:{x:g,y:e,width:c,height:a-e,color:b[n/this._interval%k]}},this.shapeList.push(new f(a)),a=e}else a={zlevel:this._zlevelBase,hoverable:!1,style:{x:this.grid.getX(),y:this.grid.getY(),width:this.grid.getWidth(),height:this.grid.getHeight(),color:b}},this.shapeList.push(new f(a))},refresh:function(a){a&&(this.option=this.reformOption(a),this.option.axisLabel.textStyle=
m.merge(this.option.axisLabel.textStyle||{},this.ecTheme.textStyle));this.clear();this._buildShape()},getGap:function(){var a=this.option.data.length,d=this.isHorizontal()?this.grid.getWidth():this.grid.getHeight();return this.option.boundaryGap?d/a:d/(1<a?a-1:1)},getCoord:function(a){for(var d=this.option.data,b=d.length,k=this.getGap(),h=this.option.boundaryGap?k/2:0,g=0;g<b;g++){if(d[g]==a||"undefined"!=typeof d[g].value&&d[g].value==a)return this.isHorizontal()?h=this.grid.getX()+h:h=this.grid.getYend()-
h,h;h+=k}},getCoordByIndex:function(a){if(0>a)return this.isHorizontal()?this.grid.getX():this.grid.getYend();if(a>this.option.data.length-1)return this.isHorizontal()?this.grid.getXend():this.grid.getY();var d=this.getGap(),b=this.option.boundaryGap?d/2:0;return b+=a*d,this.isHorizontal()?b=this.grid.getX()+b:b=this.grid.getYend()-b,b},getNameByIndex:function(a){a=this.option.data[a];return"undefined"!=typeof a&&"undefined"!=typeof a.value?a.value:a},getIndexByName:function(a){for(var d=this.option.data,
b=d.length,k=0;k<b;k++)if(d[k]==a||"undefined"!=typeof d[k].value&&d[k].value==a)return k;return-1},getValueFromCoord:function(){return""},isMainAxis:function(a){return 0===a%this._interval}},m.inherits(q,r),a("../component").define("categoryAxis",q),q});
define("echarts/component/valueAxis","require ./base zrender/shape/Text zrender/shape/Line zrender/shape/Rectangle ../config zrender/tool/util ../component".split(" "),function(a){function q(a,e,d,b,k,h,g){if(g&&0!==g.length){r.call(this,a,e,d,b,k);this.series=g;this.grid=this.component.grid;for(var c in h)this[c]=h[c];this.refresh(b,g)}else console.err("option.series.length == 0.")}var r=a("./base"),s=a("zrender/shape/Text"),p=a("zrender/shape/Line"),f=a("zrender/shape/Rectangle"),e=a("../config"),
m=a("zrender/tool/util");return q.prototype={type:e.COMPONENT_TYPE_AXIS_VALUE,_buildShape:function(){this._hasData=!1;this._calculateValue();if(this._hasData){this.option.splitArea.show&&this._buildSplitArea();this.option.splitLine.show&&this._buildSplitLine();this.option.axisLine.show&&this._buildAxisLine();this.option.axisTick.show&&this._buildAxisTick();this.option.axisLabel.show&&this._buildAxisLabel();for(var a=0,e=this.shapeList.length;a<e;a++)this.zr.addShape(this.shapeList[a])}},_buildAxisTick:function(){var a,
e=this._valueList,d=this._valueList.length,b=this.option.axisTick,k=b.length,h=b.lineStyle.color,g=b.lineStyle.width;if(this.isHorizontal())for(var c="bottom"==this.option.position?b.inside?this.grid.getYend()-k-1:this.grid.getYend()+1:b.inside?this.grid.getY()+1:this.grid.getY()-k-1,b=0;b<d;b++)a=this.subPixelOptimize(this.getCoord(e[b]),g),a={_axisShape:"axisTick",zlevel:this._zlevelBase,hoverable:!1,style:{xStart:a,yStart:c,xEnd:a,yEnd:c+k,strokeColor:h,lineWidth:g}},this.shapeList.push(new p(a));
else for(c="left"==this.option.position?b.inside?this.grid.getX()+1:this.grid.getX()-k-1:b.inside?this.grid.getXend()-k-1:this.grid.getXend()+1,b=0;b<d;b++)a=this.subPixelOptimize(this.getCoord(e[b]),g),a={_axisShape:"axisTick",zlevel:this._zlevelBase,hoverable:!1,style:{xStart:c,yStart:a,xEnd:c+k,yEnd:a,strokeColor:h,lineWidth:g}},this.shapeList.push(new p(a))},_buildAxisLabel:function(){var a,e=this._valueList,d=this._valueList.length,b=this.option.axisLabel.rotate;a=this.option.axisLabel.margin;
var k=this.option.axisLabel.clickable,h=this.option.axisLabel.textStyle;if(this.isHorizontal()){var g,c;"bottom"==this.option.position?(g=this.grid.getYend()+a,c="top"):(g=this.grid.getY()-a,c="bottom");for(var f=0;f<d;f++)a={zlevel:this._zlevelBase,hoverable:!1,style:{x:this.getCoord(e[f]),y:g,color:"function"==typeof h.color?h.color(e[f]):h.color,text:this._valueLabel[f],textFont:this.getFont(h),textAlign:h.align||"center",textBaseline:h.baseline||c}},b&&(a.style.textAlign=0<b?"bottom"==this.option.position?
"right":"left":"bottom"==this.option.position?"left":"right",a.rotation=[b*Math.PI/180,a.style.x,a.style.y]),this.shapeList.push(new s(this._axisLabelClickable(k,a)))}else{var m,p;"left"==this.option.position?(m=this.grid.getX()-a,p="right"):(m=this.grid.getXend()+a,p="left");for(f=0;f<d;f++)a={zlevel:this._zlevelBase,hoverable:!1,style:{x:m,y:this.getCoord(e[f]),color:"function"==typeof h.color?h.color(e[f]):h.color,text:this._valueLabel[f],textFont:this.getFont(h),textAlign:h.align||p,textBaseline:h.baseline||
0===f&&""!==this.option.name?"bottom":f==d-1&&""!==this.option.name?"top":"middle"}},b&&(a.rotation=[b*Math.PI/180,a.style.x,a.style.y]),this.shapeList.push(new s(this._axisLabelClickable(k,a)))}},_buildSplitLine:function(){var a,e=this._valueList,d=this._valueList.length,b=this.option.splitLine,k=b.lineStyle.type,h=b.lineStyle.width,b=b.lineStyle.color,b=b instanceof Array?b:[b],g=b.length;if(this.isHorizontal())for(var c=this.grid.getY(),f=this.grid.getYend(),m=0;m<d;m++)a=this.subPixelOptimize(this.getCoord(e[m]),
h),a={zlevel:this._zlevelBase,hoverable:!1,style:{xStart:a,yStart:c,xEnd:a,yEnd:f,strokeColor:b[m%g],lineType:k,lineWidth:h}},this.shapeList.push(new p(a));else for(c=this.grid.getX(),f=this.grid.getXend(),m=0;m<d;m++)a=this.subPixelOptimize(this.getCoord(e[m]),h),a={zlevel:this._zlevelBase,hoverable:!1,style:{xStart:c,yStart:a,xEnd:f,yEnd:a,strokeColor:b[m%g],lineType:k,lineWidth:h}},this.shapeList.push(new p(a))},_buildSplitArea:function(){var a,e=this.option.splitArea.areaStyle.color;if(e instanceof
Array){var d=e.length,b=this._valueList,k=this._valueList.length;if(this.isHorizontal()){var h=this.grid.getY(),g=this.grid.getHeight();a=this.grid.getX();for(var c,t=0;t<=k;t++)c=t<k?this.getCoord(b[t]):this.grid.getXend(),a={zlevel:this._zlevelBase,hoverable:!1,style:{x:a,y:h,width:c-a,height:g,color:e[t%d]}},this.shapeList.push(new f(a)),a=c}else for(h=this.grid.getX(),g=this.grid.getWidth(),a=this.grid.getYend(),t=0;t<=k;t++)c=t<k?this.getCoord(b[t]):this.grid.getY(),a={zlevel:this._zlevelBase,
hoverable:!1,style:{x:h,y:c,width:g,height:a-c,color:e[t%d]}},this.shapeList.push(new f(a)),a=c}else a={zlevel:this._zlevelBase,hoverable:!1,style:{x:this.grid.getX(),y:this.grid.getY(),width:this.grid.getWidth(),height:this.grid.getHeight(),color:e}},this.shapeList.push(new f(a))},_calculateValue:function(){if(isNaN(this.option.min-0)||isNaN(this.option.max-0)){for(var a,f={},d,b=this.component.legend,k=0,h=this.series.length;k<h;k++)if(this.series[k].type==e.CHART_TYPE_LINE||this.series[k].type==
e.CHART_TYPE_BAR||this.series[k].type==e.CHART_TYPE_SCATTER||this.series[k].type==e.CHART_TYPE_K)if(!b||b.isSelected(this.series[k].name))if(a=this.series[k].xAxisIndex||0,d=this.series[k].yAxisIndex||0,this.option.xAxisIndex==a||this.option.yAxisIndex==d){var g=this.series[k].name||"kener";if(this.series[k].stack){var c="__Magic_Key_Positive__"+this.series[k].stack,t="__Magic_Key_Negative__"+this.series[k].stack;f[c]=f[c]||[];f[t]=f[t]||[];f[g]=f[g]||[];a=this.series[k].data;m=0;for(p=a.length;m<
p;m++)d="undefined"!=typeof a[m].value?a[m].value:a[m],"-"!=d&&(d-=0,0<=d?"undefined"!=typeof f[c][m]?f[c][m]+=d:f[c][m]=d:"undefined"!=typeof f[t][m]?f[t][m]+=d:f[t][m]=d,this.option.scale&&f[g].push(d))}else{f[g]=f[g]||[];a=this.series[k].data;for(var m=0,p=a.length;m<p;m++)d="undefined"!=typeof a[m].value?a[m].value:a[m],this.series[k].type==e.CHART_TYPE_SCATTER?(-1!=this.option.xAxisIndex&&f[g].push(d[0]),-1!=this.option.yAxisIndex&&f[g].push(d[1])):this.series[k].type==e.CHART_TYPE_K?(f[g].push(d[0]),
f[g].push(d[1]),f[g].push(d[2]),f[g].push(d[3])):f[g].push(d)}}for(k in f){a=f[k];m=0;for(p=a.length;m<p;m++)if(!isNaN(a[m])){this._hasData=!0;this._min=a[m];this._max=a[m];break}if(this._hasData)break}for(k in f)for(a=f[k],m=0,p=a.length;m<p;m++)isNaN(a[m])||(this._min=Math.min(this._min,a[m]),this._max=Math.max(this._max,a[m]));this._min=isNaN(this.option.min-0)?this._min-Math.abs(this._min*this.option.boundaryGap[0]):this.option.min-0;this._max=isNaN(this.option.max-0)?this._max+Math.abs(this._max*
this.option.boundaryGap[1]):this.option.max-0;this._min==this._max&&(0===this._max?this._max=0<this.option.power?this.option.power:1:0<this._max?this._min=this._max/this.option.splitNumber:this._max/=this.option.splitNumber);this._reformValue(this.option.scale)}else this._hasData=!0,this._min=this.option.min-0,this._max=this.option.max-0,this._customerValue()},_reformValue:function(a){var e=this.option.splitNumber,d=this.option.precision,b;0===d?b=1<this.option.power?this.option.power:1:(b=Math.pow(10,
d),this._min*=b,this._max*=b,b=this.option.power);if(0<=this._min&&0<=this._max){if(a){for(;this._min<b&&1!=b;)b/=10;0===d&&(this._min=Math.floor(this._min/b)*b,this._max=Math.ceil(this._max/b)*b)}else{for(;this._max/b<e&&1!=b;)b/=10;this._min=0}b=1<b?b/10:1;a=this._max-this._min;b*=Math.ceil(a/e/b);this._max=this._min+b*e}else if(0>=this._min&&0>=this._max){b=-b;if(a){for(;this._max>b&&-1!=b;)b/=10;0===d&&(this._min=Math.ceil(this._min/b)*b,this._max=Math.floor(this._max/b)*b)}else{for(;this._min/
b<e&&-1!=b;)b/=10;this._max=0}b=-1>b?b/10:-1;a=this._min-this._max;b*=-Math.ceil(a/e/b);this._min=-b*e+this._max}else{for(a=this._max-this._min;a/b<e&&1!=b;)b/=10;a=Math.round(this._max/a*e);a-=a==e?1:0;a+=0===a?1:0;b*=Math.ceil(Math.max(this._max/a,this._min/(a-e))/b);this._max=b*a;this._min=b*(a-e)}this._valueList=[];for(a=0;a<=e;a++)this._valueList.push(this._min+b*a);if(0!==d)for(b=Math.pow(10,d),this._min=(this._min/b).toFixed(d)-0,this._max=(this._max/b).toFixed(d)-0,a=0;a<=e;a++)this._valueList[a]=
(this._valueList[a]/b).toFixed(d)-0;this._reformLabelData()},_customerValue:function(){var a=this.option.splitNumber,e=this.option.precision,d=(this._max-this._min)/a;this._valueList=[];for(var b=0;b<=a;b++)this._valueList.push((this._min+d*b).toFixed(e)-0);this._reformLabelData()},_reformLabelData:function(){this._valueLabel=[];var a=this.option.axisLabel.formatter;if(a)for(var e=0,d=this._valueList.length;e<d;e++)"function"==typeof a?this._valueLabel.push(a.call(this.myChart,this._valueList[e])):
"string"==typeof a&&this._valueLabel.push(a.replace("{value}",this._valueList[e]));else for(e=0,d=this._valueList.length;e<d;e++)this._valueLabel.push(this.numAddCommas(this._valueList[e]))},getExtremum:function(){return this._calculateValue(),{min:this._min,max:this._max}},refresh:function(a,e){a&&(this.option=this.reformOption(a),this.option.axisLabel.textStyle=m.merge(this.option.axisLabel.textStyle||{},this.ecTheme.textStyle),this.series=e);this.zr&&(this.clear(),this._buildShape())},getCoord:function(a){a=
a<this._min?this._min:a;a=a>this._max?this._max:a;var e;return this.isHorizontal()?e=this.grid.getX()+(a-this._min)/(this._max-this._min)*this.grid.getWidth():e=this.grid.getYend()-(a-this._min)/(this._max-this._min)*this.grid.getHeight(),e},getCoordSize:function(a){return this.isHorizontal()?Math.abs(a/(this._max-this._min)*this.grid.getWidth()):Math.abs(a/(this._max-this._min)*this.grid.getHeight())},getValueFromCoord:function(a){var e;return this.isHorizontal()?(a=a<this.grid.getX()?this.grid.getX():
a,a=a>this.grid.getXend()?this.grid.getXend():a,e=this._min+(a-this.grid.getX())/this.grid.getWidth()*(this._max-this._min)):(a=a<this.grid.getY()?this.grid.getY():a,a=a>this.grid.getYend()?this.grid.getYend():a,e=this._max-(a-this.grid.getY())/this.grid.getHeight()*(this._max-this._min)),e.toFixed(2)-0}},m.inherits(q,r),a("../component").define("valueAxis",q),q});
define("echarts/component/axis","require ./base zrender/shape/Line ../config ../util/ecData zrender/tool/util zrender/tool/color ./categoryAxis ./valueAxis ../component".split(" "),function(a){function q(a,e,d,b,k,h){r.call(this,a,e,d,b,k);this.axisType=h;this._axisList=[];this.refresh(b)}var r=a("./base"),s=a("zrender/shape/Line"),p=a("../config"),f=a("../util/ecData"),e=a("zrender/tool/util"),m=a("zrender/tool/color");return q.prototype={type:p.COMPONENT_TYPE_AXIS,axisBase:{_buildAxisLine:function(){var a=
this.option.axisLine.lineStyle.width,e=a/2,d={_axisShape:"axisLine",zlevel:this._zlevelBase+1,hoverable:!1};switch(this.option.position){case "left":d.style={xStart:this.grid.getX()-e,yStart:this.grid.getYend(),xEnd:this.grid.getX()-e,yEnd:this.grid.getY(),lineCap:"round"};break;case "right":d.style={xStart:this.grid.getXend()+e,yStart:this.grid.getYend(),xEnd:this.grid.getXend()+e,yEnd:this.grid.getY(),lineCap:"round"};break;case "bottom":d.style={xStart:this.grid.getX(),yStart:this.grid.getYend()+
e,xEnd:this.grid.getXend(),yEnd:this.grid.getYend()+e,lineCap:"round"};break;case "top":d.style={xStart:this.grid.getX(),yStart:this.grid.getY()-e,xEnd:this.grid.getXend(),yEnd:this.grid.getY()-e,lineCap:"round"}}""!==this.option.name&&(d.style.text=this.option.name,d.style.textPosition=this.option.nameLocation,d.style.textFont=this.getFont(this.option.nameTextStyle),this.option.nameTextStyle.align&&(d.style.textAlign=this.option.nameTextStyle.align),this.option.nameTextStyle.baseline&&(d.style.textBaseline=
this.option.nameTextStyle.baseline),this.option.nameTextStyle.color&&(d.style.textColor=this.option.nameTextStyle.color));d.style.strokeColor=this.option.axisLine.lineStyle.color;d.style.lineWidth=a;this.isHorizontal()?d.style.yStart=d.style.yEnd=this.subPixelOptimize(d.style.yEnd,a):d.style.xStart=d.style.xEnd=this.subPixelOptimize(d.style.xEnd,a);d.style.lineType=this.option.axisLine.lineStyle.type;d=new s(d);this.shapeList.push(d)},_axisLabelClickable:function(a,e){return a?(f.pack(e,void 0,-1,
void 0,-1,e.style.text),e.hoverable=!0,e.clickable=!0,e.highlightStyle={color:m.lift(e.style.color,1),brushType:"fill"},e):e},refixAxisShape:function(a,e){if(this.option.axisLine.onZero){var d;if(this.isHorizontal()&&"undefined"!=typeof e)for(var b=0,k=this.shapeList.length;b<k;b++)"axisLine"==this.shapeList[b]._axisShape?(this.shapeList[b].style.yStart=this.shapeList[b].style.yEnd=this.subPixelOptimize(e,this.shapeList[b].stylelineWidth),this.zr.modShape(this.shapeList[b].id)):"axisTick"==this.shapeList[b]._axisShape&&
(d=this.shapeList[b].style.yEnd-this.shapeList[b].style.yStart,this.shapeList[b].style.yStart=e-d,this.shapeList[b].style.yEnd=e,this.zr.modShape(this.shapeList[b].id));if(!this.isHorizontal()&&"undefined"!=typeof a)for(b=0,k=this.shapeList.length;b<k;b++)"axisLine"==this.shapeList[b]._axisShape?(this.shapeList[b].style.xStart=this.shapeList[b].style.xEnd=this.subPixelOptimize(a,this.shapeList[b].stylelineWidth),this.zr.modShape(this.shapeList[b].id)):"axisTick"==this.shapeList[b]._axisShape&&(d=
this.shapeList[b].style.xEnd-this.shapeList[b].style.xStart,this.shapeList[b].style.xStart=a,this.shapeList[b].style.xEnd=a+d,this.zr.modShape(this.shapeList[b].id))}},getPosition:function(){return this.option.position},isHorizontal:function(){return"bottom"==this.option.position||"top"==this.option.position}},reformOption:function(a){!a||a instanceof Array&&0===a.length?a=[{type:p.COMPONENT_TYPE_AXIS_VALUE}]:a instanceof Array||(a=[a]);2<a.length&&(a=[a[0],a[1]]);if("xAxis"==this.axisType){if(!a[0].position||
"bottom"!=a[0].position&&"top"!=a[0].position)a[0].position="bottom";1<a.length&&(a[1].position="bottom"==a[0].position?"top":"bottom");for(var e=0,d=a.length;e<d;e++)a[e].type=a[e].type||"category",a[e].xAxisIndex=e,a[e].yAxisIndex=-1}else{if(!a[0].position||"left"!=a[0].position&&"right"!=a[0].position)a[0].position="left";1<a.length&&(a[1].position="left"==a[0].position?"right":"left");e=0;for(d=a.length;e<d;e++)a[e].type=a[e].type||"value",a[e].xAxisIndex=-1,a[e].yAxisIndex=e}return a},refresh:function(e){var f;
e&&(this.option=e,"xAxis"==this.axisType?(this.option.xAxis=this.reformOption(e.xAxis),f=this.option.xAxis):(this.option.yAxis=this.reformOption(e.yAxis),f=this.option.yAxis),this.series=e.series);for(var d=a("./categoryAxis"),b=a("./valueAxis"),k=Math.max(f&&f.length||0,this._axisList.length),h=0;h<k;h++)this._axisList[h]&&e&&(!f[h]||this._axisList[h].type!=f[h].type)&&(this._axisList[h].dispose&&this._axisList[h].dispose(),this._axisList[h]=!1),this._axisList[h]?this._axisList[h].refresh&&this._axisList[h].refresh(f?
f[h]:!1,this.series):f&&f[h]&&(this._axisList[h]="category"==f[h].type?new d(this.ecTheme,this.messageCenter,this.zr,f[h],this.myChart,this.axisBase):new b(this.ecTheme,this.messageCenter,this.zr,f[h],this.myChart,this.axisBase,this.series))},getAxis:function(a){return this._axisList[a]},clear:function(){for(var a=0,e=this._axisList.length;a<e;a++)this._axisList[a].dispose&&this._axisList[a].dispose();this._axisList=[]}},e.inherits(q,r),a("../component").define("axis",q),q});
define("echarts/component/grid","require ./base zrender/shape/Rectangle ../config zrender/tool/util ../component".split(" "),function(a){function q(a,f,n,l,d){r.call(this,a,f,n,l,d);this.refresh(l)}var r=a("./base"),s=a("zrender/shape/Rectangle"),p=a("../config"),f=a("zrender/tool/util");return q.prototype={type:p.COMPONENT_TYPE_GRID,getX:function(){return this._x},getY:function(){return this._y},getWidth:function(){return this._width},getHeight:function(){return this._height},getXend:function(){return this._x+
this._width},getYend:function(){return this._y+this._height},getArea:function(){return{x:this._x,y:this._y,width:this._width,height:this._height}},refixAxisShape:function(a){var f,n;a=a.xAxis._axisList.concat(a.yAxis._axisList);for(var l=a.length,d;l--;)d=a[l],d.type==p.COMPONENT_TYPE_AXIS_VALUE&&0>d._min&&0<=d._max&&(d.isHorizontal()?f=d.getCoord(0):n=d.getCoord(0));if("undefined"!=typeof f||"undefined"!=typeof n)for(l=a.length;l--;)a[l].refixAxisShape(f,n)},refresh:function(a){if(a||this._zrWidth!=
this.zr.getWidth()||this._zrHeight!=this.zr.getHeight()){this.clear();this.option=a||this.option;this.option.grid=this.reformOption(this.option.grid);a=this.option.grid;this._zrWidth=this.zr.getWidth();this._zrHeight=this.zr.getHeight();this._x=this.parsePercent(a.x,this._zrWidth);this._y=this.parsePercent(a.y,this._zrHeight);var f=this.parsePercent(a.x2,this._zrWidth),n=this.parsePercent(a.y2,this._zrHeight);"undefined"==typeof a.width?this._width=this._zrWidth-this._x-f:this._width=this.parsePercent(a.width,
this._zrWidth);"undefined"==typeof a.height?this._height=this._zrHeight-this._y-n:this._height=this.parsePercent(a.height,this._zrHeight);this._x=this.subPixelOptimize(this._x,a.borderWidth);this._y=this.subPixelOptimize(this._y,a.borderWidth);this.shapeList.push(new s({zlevel:this._zlevelBase,hoverable:!1,style:{x:this._x,y:this._y,width:this._width,height:this._height,brushType:0<a.borderWidth?"both":"fill",color:a.backgroundColor,strokeColor:a.borderColor,lineWidth:a.borderWidth}}));this.zr.addShape(this.shapeList[0])}}},
f.inherits(q,r),a("../component").define("grid",q),q});
define("echarts/component/dataZoom","require ./base zrender/shape/Rectangle zrender/shape/Polygon ../util/shape/Icon ../config zrender/tool/util ../component ../component".split(" "),function(a){function q(a,e,d,b,k){r.call(this,a,e,d,b,k);var h=this;h._ondrift=function(b,a){return h.__ondrift(this,b,a)};h._ondragend=function(){return h.__ondragend()};this._fillerSize=28;this._handleSize=8;this._isSilence=!1;this._zoom={};this.option.dataZoom=this.reformOption(this.option.dataZoom);this.zoomOption=
this.option.dataZoom;this._location=this._getLocation();this._zoom=this._getZoom();this._backupData();this.option.dataZoom.show&&this._buildShape();this._syncData()}var r=a("./base"),s=a("zrender/shape/Rectangle"),p=a("zrender/shape/Polygon"),f=a("../util/shape/Icon"),e=a("../config"),m=a("zrender/tool/util");return q.prototype={type:e.COMPONENT_TYPE_DATAZOOM,_buildShape:function(){this._buildBackground();this._buildFiller();this._buildHandle();this._buildFrame();for(var a=0,e=this.shapeList.length;a<
e;a++)this.zr.addShape(this.shapeList[a]);this._syncFrameShape()},_getLocation:function(){var a,e,d,b,k=this.component.grid;return"horizontal"==this.zoomOption.orient?(d=this.zoomOption.width||k.getWidth(),b=this.zoomOption.height||this._fillerSize,a="undefined"!=typeof this.zoomOption.x?this.zoomOption.x:k.getX(),e="undefined"!=typeof this.zoomOption.y?this.zoomOption.y:this.zr.getHeight()-b-2):(d=this.zoomOption.width||this._fillerSize,b=this.zoomOption.height||k.getHeight(),a="undefined"!=typeof this.zoomOption.x?
this.zoomOption.x:2,e="undefined"!=typeof this.zoomOption.y?this.zoomOption.y:k.getY()),{x:a,y:e,width:d,height:b}},_getZoom:function(){var a=this.option.series,f=this.option.xAxis;f&&!(f instanceof Array)&&(f=[f],this.option.xAxis=f);var d=this.option.yAxis;d&&!(d instanceof Array)&&(d=[d],this.option.yAxis=d);var b=[],k,h,g=this.zoomOption.xAxisIndex;if(f&&"undefined"==typeof g){k=[];for(var g=0,c=f.length;g<c;g++)"category"!=f[g].type&&"undefined"!=typeof f[g].type||k.push(g)}else g instanceof
Array?k=g:"undefined"!=typeof g?k=[g]:k=[];g=this.zoomOption.yAxisIndex;if(d&&"undefined"==typeof g)for(h=[],g=0,c=d.length;g<c;g++)"category"==d[g].type&&h.push(g);else g instanceof Array?h=g:"undefined"!=typeof g?h=[g]:h=[];g=0;for(c=a.length;g<c;g++)if(a[g].type==e.CHART_TYPE_LINE||a[g].type==e.CHART_TYPE_BAR||a[g].type==e.CHART_TYPE_SCATTER||a[g].type==e.CHART_TYPE_K){f=0;for(d=k.length;f<d;f++)if(k[f]==(a[g].xAxisIndex||0)){b.push(g);break}f=0;for(d=h.length;f<d;f++)if(h[f]==(a[g].yAxisIndex||
0)){b.push(g);break}a[g].type==e.CHART_TYPE_SCATTER&&"undefined"==typeof this.zoomOption.xAxisIndex&&"undefined"==typeof this.zoomOption.yAxisIndex&&b.push(g)}a="undefined"!=typeof this._zoom.start?this._zoom.start:"undefined"!=typeof this.zoomOption.start?this.zoomOption.start:0;g="undefined"!=typeof this._zoom.end?this._zoom.end:"undefined"!=typeof this.zoomOption.end?this.zoomOption.end:100;a>g&&(a+=g,g=a-g,a-=g);c=Math.round((g-a)/100*("horizontal"==this.zoomOption.orient?this._location.width:
this._location.height));return{start:a,end:g,start2:0,end2:100,size:c,xAxisIndex:k,yAxisIndex:h,seriesIndex:b,scatterMap:this._zoom.scatterMap||{}}},_backupData:function(){this._originalData={xAxis:{},yAxis:{},series:{}};for(var a=this.option.xAxis,f=this._zoom.xAxisIndex,d=0,b=f.length;d<b;d++)this._originalData.xAxis[f[d]]=a[f[d]].data;a=this.option.yAxis;f=this._zoom.yAxisIndex;d=0;for(b=f.length;d<b;d++)this._originalData.yAxis[f[d]]=a[f[d]].data;for(var a=this.option.series,f=this._zoom.seriesIndex,
k,d=0,b=f.length;d<b;d++)k=a[f[d]],this._originalData.series[f[d]]=k.data,k.type==e.CHART_TYPE_SCATTER&&this._calculScatterMap(f[d])},_calculScatterMap:function(e){this._zoom.scatterMap=this._zoom.scatterMap||{};this._zoom.scatterMap[e]=this._zoom.scatterMap[e]||{};var f=a("../component").get("axis"),d=m.clone(this.option.xAxis);d instanceof Array?(d[0].type="value",d[0].boundary=[0,0],d[1]&&(d[1].type="value",d[1].boundary=[0,0])):(d.type="value",d.boundary=[0,0]);var d=new f(this.ecTheme,null,!1,
{xAxis:d,series:this.option.series},this,"xAxis"),b=this.option.series[e].xAxisIndex||0;this._zoom.scatterMap[e].x=d.getAxis(b).getExtremum();d.dispose();d=m.clone(this.option.yAxis);d instanceof Array?(d[0].type="value",d[1]&&(d[1].type="value",d[1].boundary=[0,0])):(d.type="value",d.boundary=[0,0]);d=new f(this.ecTheme,null,!1,{yAxis:d,series:this.option.series},this,"yAxis");b=this.option.series[e].yAxisIndex||0;this._zoom.scatterMap[e].y=d.getAxis(b).getExtremum();d.dispose()},_buildBackground:function(){var a=
this._location.width,f=this._location.height;this.shapeList.push(new s({zlevel:this._zlevelBase,hoverable:!1,style:{x:this._location.x,y:this._location.y,width:a,height:f,color:this.zoomOption.backgroundColor}}));for(var d=0,b=this._originalData.xAxis,k=this._zoom.xAxisIndex,h=0,g=k.length;h<g;h++)d=Math.max(d,b[k[h]].length);b=this._originalData.yAxis;k=this._zoom.yAxisIndex;h=0;for(g=k.length;h<g;h++)d=Math.max(d,b[k[h]].length);for(var b=this._zoom.seriesIndex[0],k=this._originalData.series[b],
c=Number.MIN_VALUE,t=Number.MAX_VALUE,m,h=0,g=k.length;h<g;h++)m="undefined"!=typeof k[h]?"undefined"!=typeof k[h].value?k[h].value:k[h]:0,this.option.series[b].type==e.CHART_TYPE_K&&(m=m[1]),isNaN(m)&&(m=0),c=Math.max(c,m),t=Math.min(t,m);var c=c-t,v=[],r=a/(d-(1<d?1:0)),q=f/(d-(1<d?1:0)),M=1;"horizontal"==this.zoomOption.orient&&1>r?M=Math.floor(3*d/a):"vertical"==this.zoomOption.orient&&1>q&&(M=Math.floor(3*d/f));h=0;for(g=d;h<g;h+=M)m="undefined"!=typeof k[h]?"undefined"!=typeof k[h].value?k[h].value:
k[h]:0,this.option.series[b].type==e.CHART_TYPE_K&&(m=m[1]),isNaN(m)&&(m=0),"horizontal"==this.zoomOption.orient?v.push([this._location.x+r*h,this._location.y+f-1-Math.round((m-t)/c*(f-10))]):v.push([this._location.x+1+Math.round((m-t)/c*(a-10)),this._location.y+q*h]);"horizontal"==this.zoomOption.orient?(v.push([this._location.x+a,this._location.y+f]),v.push([this._location.x,this._location.y+f])):(v.push([this._location.x,this._location.y+f]),v.push([this._location.x,this._location.y]));this.shapeList.push(new p({zlevel:this._zlevelBase,
style:{pointList:v,color:this.zoomOption.dataBackgroundColor},hoverable:!1}))},_buildFiller:function(){this._fillerShae={zlevel:this._zlevelBase,draggable:!0,ondrift:this._ondrift,ondragend:this._ondragend,_type:"filler"};"horizontal"==this.zoomOption.orient?this._fillerShae.style={x:this._location.x+Math.round(this._zoom.start/100*this._location.width)+this._handleSize,y:this._location.y,width:this._zoom.size-2*this._handleSize,height:this._location.height,color:this.zoomOption.fillerColor,text:":::",
textPosition:"inside"}:this._fillerShae.style={x:this._location.x,y:this._location.y+Math.round(this._zoom.start/100*this._location.height)+this._handleSize,width:this._location.width,height:this._zoom.size-2*this._handleSize,color:this.zoomOption.fillerColor,text:"::",textPosition:"inside"};this._fillerShae.highlightStyle={brushType:"fill",color:"rgba(0,0,0,0)"};this._fillerShae=new s(this._fillerShae);this.shapeList.push(this._fillerShae)},_buildHandle:function(){this._startShape={zlevel:this._zlevelBase,
draggable:!0,style:{iconType:"rectangle",x:this._location.x,y:this._location.y,width:this._handleSize,height:this._handleSize,color:this.zoomOption.handleColor,text:"=",textPosition:"inside"},highlightStyle:{brushType:"fill"},ondrift:this._ondrift,ondragend:this._ondragend};"horizontal"==this.zoomOption.orient?(this._startShape.style.height=this._location.height,this._endShape=m.clone(this._startShape),this._startShape.style.x=this._fillerShae.style.x-this._handleSize,this._endShape.style.x=this._fillerShae.style.x+
this._fillerShae.style.width):(this._startShape.style.width=this._location.width,this._endShape=m.clone(this._startShape),this._startShape.style.y=this._fillerShae.style.y-this._handleSize,this._endShape.style.y=this._fillerShae.style.y+this._fillerShae.style.height);this._startShape=new f(this._startShape);this._endShape=new f(this._endShape);this.shapeList.push(this._startShape);this.shapeList.push(this._endShape)},_buildFrame:function(){var a=this.subPixelOptimize(this._location.x,1),e=this.subPixelOptimize(this._location.y,
1);this._startFrameShape={zlevel:this._zlevelBase,hoverable:!1,style:{x:a,y:e,width:this._location.width-(a>this._location.x?1:0),height:this._location.height-(e>this._location.y?1:0),lineWidth:1,brushType:"stroke",strokeColor:this.zoomOption.handleColor}};this._endFrameShape=m.clone(this._startFrameShape);this._startFrameShape=new s(this._startFrameShape);this._endFrameShape=new s(this._endFrameShape);this.shapeList.push(this._startFrameShape);this.shapeList.push(this._endFrameShape)},_syncHandleShape:function(){"horizontal"==
this.zoomOption.orient?(this._startShape.style.x=this._fillerShae.style.x-this._handleSize,this._endShape.style.x=this._fillerShae.style.x+this._fillerShae.style.width,this._zoom.start=Math.floor((this._startShape.style.x-this._location.x)/this._location.width*100),this._zoom.end=Math.ceil((this._endShape.style.x+this._handleSize-this._location.x)/this._location.width*100)):(this._startShape.style.y=this._fillerShae.style.y-this._handleSize,this._endShape.style.y=this._fillerShae.style.y+this._fillerShae.style.height,
this._zoom.start=Math.floor((this._startShape.style.y-this._location.y)/this._location.height*100),this._zoom.end=Math.ceil((this._endShape.style.y+this._handleSize-this._location.y)/this._location.height*100));this.zr.modShape(this._startShape.id);this.zr.modShape(this._endShape.id);this._syncFrameShape();this.zr.refresh()},_syncFillerShape:function(){var a,e;"horizontal"==this.zoomOption.orient?(a=this._startShape.style.x,e=this._endShape.style.x,this._fillerShae.style.x=Math.min(a,e)+this._handleSize,
this._fillerShae.style.width=Math.abs(a-e)-this._handleSize,this._zoom.start=Math.floor((Math.min(a,e)-this._location.x)/this._location.width*100),this._zoom.end=Math.ceil((Math.max(a,e)+this._handleSize-this._location.x)/this._location.width*100)):(a=this._startShape.style.y,e=this._endShape.style.y,this._fillerShae.style.y=Math.min(a,e)+this._handleSize,this._fillerShae.style.height=Math.abs(a-e)-this._handleSize,this._zoom.start=Math.floor((Math.min(a,e)-this._location.y)/this._location.height*
100),this._zoom.end=Math.ceil((Math.max(a,e)+this._handleSize-this._location.y)/this._location.height*100));this.zr.modShape(this._fillerShae.id);this._syncFrameShape();this.zr.refresh()},_syncFrameShape:function(){"horizontal"==this.zoomOption.orient?(this._startFrameShape.style.width=this._fillerShae.style.x-this._location.x,this._endFrameShape.style.x=this._fillerShae.style.x+this._fillerShae.style.width,this._endFrameShape.style.width=this._location.x+this._location.width-this._endFrameShape.style.x):
(this._startFrameShape.style.height=this._fillerShae.style.y-this._location.y,this._endFrameShape.style.y=this._fillerShae.style.y+this._fillerShae.style.height,this._endFrameShape.style.height=this._location.y+this._location.height-this._endFrameShape.style.y);this.zr.modShape(this._startFrameShape.id);this.zr.modShape(this._endFrameShape.id)},_syncShape:function(){this.zoomOption.show&&("horizontal"==this.zoomOption.orient?(this._startShape.style.x=this._location.x+this._zoom.start/100*this._location.width,
this._endShape.style.x=this._location.x+this._zoom.end/100*this._location.width-this._handleSize,this._fillerShae.style.x=this._startShape.style.x+this._handleSize,this._fillerShae.style.width=this._endShape.style.x-this._startShape.style.x-this._handleSize):(this._startShape.style.y=this._location.y+this._zoom.start/100*this._location.height,this._endShape.style.y=this._location.y+this._zoom.end/100*this._location.height-this._handleSize,this._fillerShae.style.y=this._startShape.style.y+this._handleSize,
this._fillerShae.style.height=this._endShape.style.y-this._startShape.style.y-this._handleSize),this.zr.modShape(this._startShape.id),this.zr.modShape(this._endShape.id),this.zr.modShape(this._fillerShae.id),this._syncFrameShape(),this.zr.refresh())},_syncData:function(a){var f,d,b,k,h;for(h in this._originalData){f=this._originalData[h];for(var g in f)k=f[g],"undefined"!=typeof k&&(b=k.length,d=Math.floor(this._zoom.start/100*b),b=Math.ceil(this._zoom.end/100*b),this.option[h][g].type!=e.CHART_TYPE_SCATTER?
this.option[h][g].data=k.slice(d,b):this.option[h][g].data=this._synScatterData(g,k))}!this._isSilence&&(this.zoomOption.realtime||a)&&this.messageCenter.dispatch(e.EVENT.DATA_ZOOM,null,{zoom:this._zoom},this.myChart)},_synScatterData:function(a,e){if(0===this._zoom.start&&100==this._zoom.end&&0===this._zoom.start2&&100==this._zoom.end2)return e;var d=[],b=this._zoom.scatterMap[a],k,h,g,c,f;"horizontal"==this.zoomOption.orient?(k=b.x.max-b.x.min,h=this._zoom.start/100*k+b.x.min,g=this._zoom.end/100*
k+b.x.min,k=b.y.max-b.y.min,c=this._zoom.start2/100*k+b.y.min,f=this._zoom.end2/100*k+b.y.min):(k=b.x.max-b.x.min,h=this._zoom.start2/100*k+b.x.min,g=this._zoom.end2/100*k+b.x.min,k=b.y.max-b.y.min,c=this._zoom.start/100*k+b.y.min,f=this._zoom.end/100*k+b.y.min);k=0;for(var m=e.length;k<m;k++)b=e[k].value||e[k],b[0]>=h&&b[0]<=g&&b[1]>=c&&b[1]<=f&&d.push(e[k]);return d},__ondrift:function(a,e,d){this.zoomOption.zoomLock&&(a=this._fillerShae);var b="filler"==a._type?this._handleSize:0;return"horizontal"==
this.zoomOption.orient?a.style.x+e-b<=this._location.x?a.style.x=this._location.x+b:a.style.x+e+a.style.width+b>=this._location.x+this._location.width?a.style.x=this._location.x+this._location.width-a.style.width-b:a.style.x+=e:a.style.y+d-b<=this._location.y?a.style.y=this._location.y+b:a.style.y+d+a.style.height+b>=this._location.y+this._location.height?a.style.y=this._location.y+this._location.height-a.style.height-b:a.style.y+=d,"filler"==a._type?this._syncHandleShape():this._syncFillerShape(),
this.zoomOption.realtime&&this._syncData(),!0},__ondragend:function(){this.isDragend=!0},ondragend:function(a,f){this.isDragend&&a.target&&(!this.zoomOption.realtime&&this._syncData(),f.dragOut=!0,f.dragIn=!0,this._isSilence||this.zoomOption.realtime||this.messageCenter.dispatch(e.EVENT.DATA_ZOOM,null,{zoom:this._zoom},this.myChart),this.isDragend=f.needRefresh=!1)},ondataZoom:function(a,e){e.needRefresh=!0},absoluteZoom:function(a){this._zoom.start=a.start;this._zoom.end=a.end;this._zoom.start2=
a.start2;this._zoom.end2=a.end2;this._syncShape();this._syncData(!0)},rectZoom:function(a){if(!a)return this._zoom.start=this._zoom.start2=0,this._zoom.end=this._zoom.end2=100,this._syncShape(),this._syncData(!0),this._zoom;var e=this.component.grid.getArea(),d=a.x,b=a.y,k=a.width,h=a.height;0>k&&(d+=k,k=-k);0>h&&(b+=h,h=-h);if(d>e.x+e.width||b>e.y+e.height)return!1;d<e.x&&(d=e.x);d+k>e.x+e.width&&(k=e.x+e.width-d);b+h>e.y+e.height&&(h=e.y+e.height-b);var g;a=(d-e.x)/e.width;d=1-(d+k-e.x)/e.width;
k=1-(b+h-e.y)/e.height;e=(b-e.y)/e.height;return"horizontal"==this.zoomOption.orient?(g=this._zoom.end-this._zoom.start,this._zoom.start+=g*a,this._zoom.end-=g*d,g=this._zoom.end2-this._zoom.start2,this._zoom.start2+=g*k,this._zoom.end2-=g*e):(g=this._zoom.end-this._zoom.start,this._zoom.start+=g*k,this._zoom.end-=g*e,g=this._zoom.end2-this._zoom.start2,this._zoom.start2+=g*a,this._zoom.end2-=g*d),this._syncShape(),this._syncData(!0),this._zoom},syncBackupData:function(a){var e,d=this._originalData.series;
a=a.series;for(var b,k=0,h=a.length;k<h;k++){b=a[k].data;d[k]?e=Math.floor(this._zoom.start/100*d[k].length):e=0;for(var g=0,c=b.length;g<c;g++)d[k]&&(d[k][g+e]=b[g])}},syncOption:function(a){this.silence(!0);this.option=a;this.clear();this._location=this._getLocation();this._zoom=this._getZoom();this._backupData();this.option.dataZoom&&this.option.dataZoom.show&&this._buildShape();this._syncData();this.silence(!1)},silence:function(a){this._isSilence=a},getRealDataIndex:function(a,e){if(!this._originalData||
0===this._zoom.start&&100==this._zoom.end)return e;var d=this._originalData.series;return d[a]?Math.floor(this._zoom.start/100*d[a].length)+e:-1},resize:function(){this.clear();this._location=this._getLocation();this._zoom=this._getZoom();this.option.dataZoom.show&&this._buildShape()}},m.inherits(q,r),a("../component").define("dataZoom",q),q});
define("echarts/util/shape/HandlePolygon",["require","zrender/shape/Base","zrender/shape/Polygon","zrender/tool/util"],function(a){function q(a){r.call(this,a)}var r=a("zrender/shape/Base"),s=a("zrender/shape/Polygon");a=a("zrender/tool/util");return q.prototype={type:"handle-polygon",buildPath:function(a,f){s.prototype.buildPath(a,f)},isCover:function(a,f){var e=this.getTansform(a,f);a=e[0];f=e[1];e=this.style.rect;return a>=e.x&&a<=e.x+e.width&&f>=e.y&&f<=e.y+e.height?!0:!1}},a.inherits(q,r),q});
define("echarts/component/dataRange","require ./base zrender/shape/Text zrender/shape/Rectangle ../util/shape/HandlePolygon ../config zrender/tool/util zrender/tool/area zrender/tool/color zrender/tool/color ../component".split(" "),function(a){function q(a,b,k,h,g){if("undefined"==typeof this.query(h,"dataRange.min")||"undefined"==typeof this.query(h,"dataRange.max"))console.error("option.dataRange.min or option.dataRange.max has not been defined.");else{r.call(this,a,b,k,h,g);var c=this;c._ondrift=
function(b,a){return c.__ondrift(this,b,a)};c._ondragend=function(){return c.__ondragend()};c._dataRangeSelected=function(b){return c.__dataRangeSelected(b)};this._selectedMap={};this._range={};this.refresh(h)}}var r=a("./base"),s=a("zrender/shape/Text"),p=a("zrender/shape/Rectangle"),f=a("../util/shape/HandlePolygon"),e=a("../config"),m=a("zrender/tool/util"),n=a("zrender/tool/area"),l=a("zrender/tool/color");return q.prototype={type:e.COMPONENT_TYPE_DATARANGE,_textGap:10,_buildShape:function(){this._itemGroupLocation=
this._getItemGroupLocation();this._buildBackground();0>=this.dataRangeOption.splitNumber||this.dataRangeOption.calculable?this._buildGradient():this._buildItem();for(var a=0,b=this.shapeList.length;a<b;a++)this.zr.addShape(this.shapeList[a]);this._syncShapeFromRange()},_buildItem:function(){var a=this._valueTextList,b=a.length,k,h,g,c=this.getFont(this.dataRangeOption.textStyle),e=this._itemGroupLocation.x,f=this._itemGroupLocation.y,l=this.dataRangeOption.itemWidth,m=this.dataRangeOption.itemHeight,
r=this.dataRangeOption.itemGap;k=n.getTextHeight("\u56fd",c);"vertical"==this.dataRangeOption.orient&&"right"==this.dataRangeOption.x&&(e=this._itemGroupLocation.x+this._itemGroupLocation.width-l);var q=!0;this.dataRangeOption.text&&(q=!1,this.dataRangeOption.text[0]&&(g=this._getTextShape(e,f,this.dataRangeOption.text[0]),"horizontal"==this.dataRangeOption.orient?e+=n.getTextWidth(this.dataRangeOption.text[0],c)+this._textGap:(f+=k+this._textGap,g.style.y+=k/2+this._textGap,g.style.textBaseline=
"bottom"),this.shapeList.push(new s(g))));for(var E=0;E<b;E++)k=a[E],h=this.getColor((b-E)*this._gap+this.dataRangeOption.min),h=this._getItemShape(e,f,l,m,this._selectedMap[E]?h:"#ccc"),h._idx=E,h.onclick=this._dataRangeSelected,this.shapeList.push(new p(h)),q&&(g={zlevel:this._zlevelBase,style:{x:e+l+5,y:f,color:this._selectedMap[E]?this.dataRangeOption.textStyle.color:"#ccc",text:a[E],textFont:c,textBaseline:"top"},highlightStyle:{brushType:"fill"},clickable:!0},"vertical"==this.dataRangeOption.orient&&
"right"==this.dataRangeOption.x&&(g.style.x-=l+10,g.style.textAlign="right"),g._idx=E,g.onclick=this._dataRangeSelected,this.shapeList.push(new s(g))),"horizontal"==this.dataRangeOption.orient?e+=l+(q?5:0)+(q?n.getTextWidth(k,c):0)+r:f+=m+r;!q&&this.dataRangeOption.text[1]&&("horizontal"==this.dataRangeOption.orient?e=e-r+this._textGap:f=f-r+this._textGap,g=this._getTextShape(e,f,this.dataRangeOption.text[1]),"horizontal"!=this.dataRangeOption.orient&&(g.style.y-=5,g.style.textBaseline="top"),this.shapeList.push(new s(g)))},
_buildGradient:function(){var d,b,k=this.getFont(this.dataRangeOption.textStyle),h=this._itemGroupLocation.x,g=this._itemGroupLocation.y,c=this.dataRangeOption.itemWidth,e=this.dataRangeOption.itemHeight,f=n.getTextHeight("\u56fd",k),l=!0;this.dataRangeOption.text&&(l=!1,this.dataRangeOption.text[0]&&(b=this._getTextShape(h,g,this.dataRangeOption.text[0]),"horizontal"==this.dataRangeOption.orient?h+=n.getTextWidth(this.dataRangeOption.text[0],k)+this._textGap:(g+=f+this._textGap,b.style.y+=f/2+this._textGap,
b.style.textBaseline="bottom"),this.shapeList.push(new s(b))));for(var k=a("zrender/tool/color"),f=1/(this.dataRangeOption.color.length-1),m=[],r=0,q=this.dataRangeOption.color.length;r<q;r++)m.push([r*f,this.dataRangeOption.color[r]]);"horizontal"==this.dataRangeOption.orient?(d={zlevel:this._zlevelBase,style:{x:h,y:g,width:10*c,height:e,color:k.getLinearGradient(h,g,h+10*c,g,m)},hoverable:!1},h+=10*c+this._textGap):(d={zlevel:this._zlevelBase,style:{x:h,y:g,width:c,height:10*e,color:k.getLinearGradient(h,
g,h,g+10*e,m)},hoverable:!1},g+=10*e+this._textGap);this.shapeList.push(new p(d));this.dataRangeOption.calculable&&(this._calculableLocation=d.style,this._buildFiller(),this._bulidMask(),this._bulidHandle());!l&&this.dataRangeOption.text[1]&&(b=this._getTextShape(h,g,this.dataRangeOption.text[1]),this.shapeList.push(new s(b)))},_buildFiller:function(){this._fillerShae={zlevel:this._zlevelBase+1,style:{x:this._calculableLocation.x,y:this._calculableLocation.y,width:this._calculableLocation.width,height:this._calculableLocation.height,
color:"rgba(255,255,255,0)"},highlightStyle:{strokeColor:"rgba(255,255,255,0.5)",lineWidth:1},draggable:!0,ondrift:this._ondrift,ondragend:this._ondragend,_type:"filler"};this._fillerShae=new p(this._fillerShae);this.shapeList.push(this._fillerShae)},_bulidHandle:function(){var a=this._calculableLocation.x,b=this._calculableLocation.y,k=this._calculableLocation.width,h=this._calculableLocation.height,g=this.getFont(this.dataRangeOption.textStyle),c=n.getTextHeight("\u56fd",g),g=Math.max(n.getTextWidth(this._textFormat(this.dataRangeOption.max),
g),n.getTextWidth(this._textFormat(this.dataRangeOption.min),g))+2,e,l,m,p,r,q,s,A;"horizontal"==this.dataRangeOption.orient?"bottom"!=this.dataRangeOption.y?(e=[[a,b],[a,b+h+c],[a-c,b+h+c],[a-1,b+h],[a-1,b]],l=a-g/2-c,m=b+h+c/2+2,p={x:a-g-c,y:b+h,width:g+c,height:c},r=[[a+k,b],[a+k,b+h+c],[a+k+c,b+h+c],[a+k+1,b+h],[a+k+1,b]],q=a+k+g/2+c,s=m,A={x:a+k,y:b+h,width:g+c,height:c}):(e=[[a,b+h],[a,b-c],[a-c,b-c],[a-1,b],[a-1,b+h]],l=a-g/2-c,m=b-c/2-2,p={x:a-g-c,y:b-c,width:g+c,height:c},r=[[a+k,b+h],[a+
k,b-c],[a+k+c,b-c],[a+k+1,b],[a+k+1,b+h]],q=a+k+g/2+c,s=m,A={x:a+k,y:b-c,width:g+c,height:c}):(g+=c,"right"!=this.dataRangeOption.x?(e=[[a,b],[a+k+c,b],[a+k+c,b-c],[a+k,b-1],[a,b-1]],l=a+k+g/2+c/2,m=b-c/2,p={x:a+k,y:b-c,width:g+c,height:c},r=[[a,b+h],[a+k+c,b+h],[a+k+c,b+c+h],[a+k,b+1+h],[a,b+h+1]],q=l,s=b+h+c/2,A={x:a+k,y:b+h,width:g+c,height:c}):(e=[[a+k,b],[a-c,b],[a-c,b-c],[a,b-1],[a+k,b-1]],l=a-g/2-c/2,m=b-c/2,p={x:a-g-c,y:b-c,width:g+c,height:c},r=[[a+k,b+h],[a-c,b+h],[a-c,b+c+h],[a,b+1+h],
[a+k,b+h+1]],q=l,s=b+h+c/2,A={x:a-g-c,y:b+h,width:g+c,height:c}));this._startShape={style:{pointList:e,text:this._textFormat(this.dataRangeOption.max),textX:l,textY:m,color:this.getColor(this.dataRangeOption.max),rect:p,x:e[0][0],y:e[0][1],_x:e[0][0],_y:e[0][1]}};this._startShape.highlightStyle={strokeColor:this._startShape.style.color,lineWidth:1};this._endShape={style:{pointList:r,text:this._textFormat(this.dataRangeOption.min),textX:q,textY:s,color:this.getColor(this.dataRangeOption.min),rect:A,
x:r[0][0],y:r[0][1],_x:r[0][0],_y:r[0][1]}};this._endShape.highlightStyle={strokeColor:this._endShape.style.color,lineWidth:1};this._startShape.zlevel=this._endShape.zlevel=this._zlevelBase+1;this._startShape.draggable=this._endShape.draggable=!0;this._startShape.ondrift=this._endShape.ondrift=this._ondrift;this._startShape.ondragend=this._endShape.ondragend=this._ondragend;this._startShape.style.textColor=this._endShape.style.textColor=this.dataRangeOption.textStyle.color;this._startShape.style.textAlign=
this._endShape.style.textAlign="center";this._startShape.style.textPosition=this._endShape.style.textPosition="specific";this._startShape.style.textBaseline=this._endShape.style.textBaseline="middle";this._startShape.style.width=this._endShape.style.width=0;this._startShape.style.height=this._endShape.style.height=0;this._startShape.style.textPosition=this._endShape.style.textPosition="specific";this._startShape=new f(this._startShape);this._endShape=new f(this._endShape);this.shapeList.push(this._startShape);
this.shapeList.push(this._endShape)},_bulidMask:function(){var a=this._calculableLocation.x,b=this._calculableLocation.y,k=this._calculableLocation.width,h=this._calculableLocation.height;this._startMask={zlevel:this._zlevelBase+1,style:{x:a,y:b,width:"horizontal"==this.dataRangeOption.orient?0:k,height:"horizontal"==this.dataRangeOption.orient?h:0,color:"#ccc"},hoverable:!1};this._endMask={zlevel:this._zlevelBase+1,style:{x:"horizontal"==this.dataRangeOption.orient?a+k:a,y:"horizontal"==this.dataRangeOption.orient?
b:b+h,width:"horizontal"==this.dataRangeOption.orient?0:k,height:"horizontal"==this.dataRangeOption.orient?h:0,color:"#ccc"},hoverable:!1};this._startMask=new p(this._startMask);this._endMask=new p(this._endMask);this.shapeList.push(this._startMask);this.shapeList.push(this._endMask)},_buildBackground:function(){var a=this.dataRangeOption.padding[0],b=this.dataRangeOption.padding[3];this.shapeList.push(new p({zlevel:this._zlevelBase,hoverable:!1,style:{x:this._itemGroupLocation.x-b,y:this._itemGroupLocation.y-
a,width:this._itemGroupLocation.width+b+this.dataRangeOption.padding[1],height:this._itemGroupLocation.height+a+this.dataRangeOption.padding[2],brushType:0===this.dataRangeOption.borderWidth?"fill":"both",color:this.dataRangeOption.backgroundColor,strokeColor:this.dataRangeOption.borderColor,lineWidth:this.dataRangeOption.borderWidth}}))},_getItemGroupLocation:function(){var a=this._valueTextList,b=a.length,k=this.dataRangeOption.itemGap,h=this.dataRangeOption.itemWidth,g=this.dataRangeOption.itemHeight,
c=0,e=0,f=this.getFont(this.dataRangeOption.textStyle),l=n.getTextHeight("\u56fd",f);if("horizontal"==this.dataRangeOption.orient){if(this.dataRangeOption.text||0>=this.dataRangeOption.splitNumber||this.dataRangeOption.calculable)c=(0>=this.dataRangeOption.splitNumber||this.dataRangeOption.calculable?10*h+k:b*(h+k))+(this.dataRangeOption.text&&"undefined"!=typeof this.dataRangeOption.text[0]?n.getTextWidth(this.dataRangeOption.text[0],f)+this._textGap:0)+(this.dataRangeOption.text&&"undefined"!=typeof this.dataRangeOption.text[1]?
n.getTextWidth(this.dataRangeOption.text[1],f)+this._textGap:0);else for(var h=h+5,m=0;m<b;m++)c+=h+n.getTextWidth(a[m],f)+k;c-=k;e=Math.max(l,g)}else{if(this.dataRangeOption.text||0>=this.dataRangeOption.splitNumber||this.dataRangeOption.calculable)e=(0>=this.dataRangeOption.splitNumber||this.dataRangeOption.calculable?10*g+k:b*(g+k))+(this.dataRangeOption.text&&"undefined"!=typeof this.dataRangeOption.text[0]?this._textGap+l:0)+(this.dataRangeOption.text&&"undefined"!=typeof this.dataRangeOption.text[1]?
this._textGap+l:0),c=Math.max(n.getTextWidth(this.dataRangeOption.text&&this.dataRangeOption.text[0]||"",f),n.getTextWidth(this.dataRangeOption.text&&this.dataRangeOption.text[1]||"",f)),c=Math.max(h,c);else{e=(g+k)*b;h+=5;for(m=c=0;m<b;m++)c=Math.max(c,n.getTextWidth(a[m],f));c=h+c}e-=k}b=this.zr.getWidth();switch(this.dataRangeOption.x){case "center":a=Math.floor((b-c)/2);break;case "left":a=this.dataRangeOption.padding[3]+this.dataRangeOption.borderWidth;break;case "right":a=b-c-this.dataRangeOption.padding[1]-
this.dataRangeOption.borderWidth;break;default:a=this.parsePercent(this.dataRangeOption.x,b),a=isNaN(a)?0:a}h=this.zr.getHeight();switch(this.dataRangeOption.y){case "top":k=this.dataRangeOption.padding[0]+this.dataRangeOption.borderWidth;break;case "bottom":k=h-e-this.dataRangeOption.padding[2]-this.dataRangeOption.borderWidth;break;case "center":k=Math.floor((h-e)/2);break;default:k=this.parsePercent(this.dataRangeOption.y,h),k=isNaN(k)?0:k}this.dataRangeOption.calculable&&(f=Math.max(n.getTextWidth(this.dataRangeOption.max,
f),n.getTextWidth(this.dataRangeOption.min,f))+l,"horizontal"==this.dataRangeOption.orient?(a<f&&(a=f),a+c+f>b&&(a-=f)):(k<l&&(k=l),k+e+l>h&&(k-=l)));return{x:a,y:k,width:c,height:e}},_getTextShape:function(a,b,k){return{zlevel:this._zlevelBase,style:{x:"horizontal"==this.dataRangeOption.orient?a:this._itemGroupLocation.x+this._itemGroupLocation.width/2,y:"horizontal"==this.dataRangeOption.orient?this._itemGroupLocation.y+this._itemGroupLocation.height/2:b,color:this.dataRangeOption.textStyle.color,
text:k,textFont:this.getFont(this.dataRangeOption.textStyle),textBaseline:"horizontal"==this.dataRangeOption.orient?"middle":"top",textAlign:"horizontal"==this.dataRangeOption.orient?"left":"center"},hoverable:!1}},_getItemShape:function(a,b,k,h,g){return{zlevel:this._zlevelBase,style:{x:a,y:b+1,width:k,height:h-2,color:g},highlightStyle:{strokeColor:g,lineWidth:1},clickable:!0}},__ondrift:function(a,b,k){var h=this._calculableLocation.x,g=this._calculableLocation.y,c=this._calculableLocation.width,
e=this._calculableLocation.height;return"horizontal"==this.dataRangeOption.orient?a.style.x+b<=h?a.style.x=h:a.style.x+b+a.style.width>=h+c?a.style.x=h+c-a.style.width:a.style.x+=b:a.style.y+k<=g?a.style.y=g:a.style.y+k+a.style.height>=g+e?a.style.y=g+e-a.style.height:a.style.y+=k,"filler"==a._type?this._syncHandleShape():this._syncFillerShape(a),this.dataRangeOption.realtime&&this._syncData(),!0},__ondragend:function(){this.isDragend=!0},ondragend:function(a,b){this.isDragend&&a.target&&(!this.dataRangeOption.realtime&&
this._syncData(),b.dragOut=!0,b.dragIn=!0,this.isDragend=b.needRefresh=!1)},_syncShapeFromRange:function(){var a=this.dataRangeOption.range||{};this._range.end="undefined"!=typeof this._range.end?this._range.end:"undefined"!=typeof a.start?a.start:0;this._range.start="undefined"!=typeof this._range.start?this._range.start:"undefined"!=typeof a.end?a.end:100;if(100!=this._range.start||0!==this._range.end)"horizontal"==this.dataRangeOption.orient?(a=this._fillerShae.style.width,this._fillerShae.style.x+=
a*(100-this._range.start)/100,this._fillerShae.style.width=a*(this._range.start-this._range.end)/100):(a=this._fillerShae.style.height,this._fillerShae.style.y+=a*(100-this._range.start)/100,this._fillerShae.style.height=a*(this._range.start-this._range.end)/100),this.zr.modShape(this._fillerShae.id),this._syncHandleShape()},_syncHandleShape:function(){var a=this._calculableLocation.x,b=this._calculableLocation.y,k=this._calculableLocation.width,h=this._calculableLocation.height;"horizontal"==this.dataRangeOption.orient?
(this._startShape.style.x=this._fillerShae.style.x,this._startMask.style.width=this._startShape.style.x-a,this._endShape.style.x=this._fillerShae.style.x+this._fillerShae.style.width,this._endMask.style.x=this._endShape.style.x,this._endMask.style.width=a+k-this._endShape.style.x,this._range.start=Math.ceil(100-(this._startShape.style.x-a)/k*100),this._range.end=Math.floor(100-(this._endShape.style.x-a)/k*100)):(this._startShape.style.y=this._fillerShae.style.y,this._startMask.style.height=this._startShape.style.y-
b,this._endShape.style.y=this._fillerShae.style.y+this._fillerShae.style.height,this._endMask.style.y=this._endShape.style.y,this._endMask.style.height=b+h-this._endShape.style.y,this._range.start=Math.ceil(100-(this._startShape.style.y-b)/h*100),this._range.end=Math.floor(100-(this._endShape.style.y-b)/h*100));this._syncShape()},_syncFillerShape:function(a){var b=this._calculableLocation.x,k=this._calculableLocation.y,h=this._calculableLocation.width,g=this._calculableLocation.height,c,e;"horizontal"==
this.dataRangeOption.orient?(c=this._startShape.style.x,e=this._endShape.style.x,a.id==this._startShape.id&&c>=e?(e=c,this._endShape.style.x=c):a.id==this._endShape.id&&c>=e&&(c=e,this._startShape.style.x=c),this._fillerShae.style.x=c,this._fillerShae.style.width=e-c,this._startMask.style.width=c-b,this._endMask.style.x=e,this._endMask.style.width=b+h-e,this._range.start=Math.ceil(100-(c-b)/h*100),this._range.end=Math.floor(100-(e-b)/h*100)):(c=this._startShape.style.y,e=this._endShape.style.y,a.id==
this._startShape.id&&c>=e?(e=c,this._endShape.style.y=c):a.id==this._endShape.id&&c>=e&&(c=e,this._startShape.style.y=c),this._fillerShae.style.y=c,this._fillerShae.style.height=e-c,this._startMask.style.height=c-k,this._endMask.style.y=e,this._endMask.style.height=k+g-e,this._range.start=Math.ceil(100-(c-k)/g*100),this._range.end=Math.floor(100-(e-k)/g*100));this._syncShape()},_syncShape:function(){this._startShape.position=[this._startShape.style.x-this._startShape.style._x,this._startShape.style.y-
this._startShape.style._y];this._startShape.style.text=this._textFormat(this._gap*this._range.start+this.dataRangeOption.min);this._startShape.style.color=this._startShape.highlightStyle.strokeColor=this.getColor(this._gap*this._range.start+this.dataRangeOption.min);this._endShape.position=[this._endShape.style.x-this._endShape.style._x,this._endShape.style.y-this._endShape.style._y];this._endShape.style.text=this._textFormat(this._gap*this._range.end+this.dataRangeOption.min);this._endShape.style.color=
this._endShape.highlightStyle.strokeColor=this.getColor(this._gap*this._range.end+this.dataRangeOption.min);this.zr.modShape(this._startShape.id);this.zr.modShape(this._endShape.id);this.zr.modShape(this._startMask.id);this.zr.modShape(this._endMask.id);this.zr.modShape(this._fillerShae.id);this.zr.refresh()},_syncData:function(){this.dataRangeOption.realtime&&this.messageCenter.dispatch(e.EVENT.DATA_RANGE,null,{range:{start:this._range.end,end:this._range.start}},this.myChart)},__dataRangeSelected:function(a){a=
a.target._idx;this._selectedMap[a]=!this._selectedMap[a];this.messageCenter.dispatch(e.EVENT.REFRESH,null,null,this.myChart)},_textFormat:function(a,b){a=a.toFixed(this.dataRangeOption.precision);b="undefined"!=typeof b?b.toFixed(this.dataRangeOption.precision):"";if(this.dataRangeOption.formatter){if("string"==typeof this.dataRangeOption.formatter)return this.dataRangeOption.formatter.replace("{value}",a).replace("{value2}",b);if("function"==typeof this.dataRangeOption.formatter)return this.dataRangeOption.formatter.call(this.myChart,
a,b)}return""!==b?a+" - "+b:a},refresh:function(a){if(a){this.option=a;this.option.dataRange=this.reformOption(this.option.dataRange);this.option.dataRange.padding=this.reformCssArray(this.option.dataRange.padding);this.dataRangeOption=this.option.dataRange;a=0>=this.dataRangeOption.splitNumber||this.dataRangeOption.calculable?100:this.dataRangeOption.splitNumber;this._colorList=l.getGradientColors(this.dataRangeOption.color,Math.max((a-this.dataRangeOption.color.length)/(this.dataRangeOption.color.length-
1),0)+1);if(this._colorList.length>a){for(var b=this._colorList.length,k=[this._colorList[0]],h=b/(a-1),g=1;g<a-1;g++)k.push(this._colorList[Math.floor(g*h)]);k.push(this._colorList[b-1]);this._colorList=k}b=this.dataRangeOption.precision;for(this._gap=(this.dataRangeOption.max-this.dataRangeOption.min)/a;this._gap.toFixed(b)-0!=this._gap&&5>b;)b++;this.dataRangeOption.precision=b;this._gap=((this.dataRangeOption.max-this.dataRangeOption.min)/a).toFixed(b)-0;this._valueTextList=[];for(g=0;g<a;g++)this._selectedMap[g]=
!0,this._valueTextList.unshift(this._textFormat(g*this._gap+this.dataRangeOption.min,(g+1)*this._gap+this.dataRangeOption.min))}this.clear();this._buildShape()},getColor:function(a){if(isNaN(a))return null;a<this.dataRangeOption.min?a=this.dataRangeOption.min:a>this.dataRangeOption.max&&(a=this.dataRangeOption.max);if(this.dataRangeOption.calculable&&(5E-5<a-(this._gap*this._range.start+this.dataRangeOption.min)||-5E-5>a-(this._gap*this._range.end+this.dataRangeOption.min)))return null;a=this._colorList.length-
Math.ceil((a-this.dataRangeOption.min)/(this.dataRangeOption.max-this.dataRangeOption.min)*this._colorList.length);return a==this._colorList.length&&a--,this._selectedMap[a]?this._colorList[a]:null}},m.inherits(q,r),a("../component").define("dataRange",q),q});
define("echarts/chart/scatter","require ../component/base ./base ../util/shape/Symbol ../component/axis ../component/grid ../component/dataZoom ../component/dataRange ../config zrender/tool/util zrender/tool/color ../chart".split(" "),function(a){function q(a,e,d,b,k){r.call(this,a,e,d,b,k);s.call(this);this.refresh(b)}var r=a("../component/base"),s=a("./base"),p=a("../util/shape/Symbol");a("../component/axis");a("../component/grid");a("../component/dataZoom");a("../component/dataRange");var f=a("../config"),
e=a("zrender/tool/util"),m=a("zrender/tool/color");return q.prototype={type:f.CHART_TYPE_SCATTER,_buildShape:function(){var a=this.series;this._sIndex2ColorMap={};this._symbol=this.option.symbolList;this._sIndex2ShapeMap={};this.selectedMap={};this.xMarkMap={};for(var e=this.component.legend,d=[],b,k,h,g=0,c=a.length;g<c;g++)if(b=a[g],k=b.name,b.type==f.CHART_TYPE_SCATTER){a[g]=this.reformOption(a[g]);this._sIndex2ShapeMap[g]=this.query(b,"symbol")||this._symbol[g%this._symbol.length];if(e){if(this.selectedMap[k]=
e.isSelected(k),this._sIndex2ColorMap[g]=m.alpha(e.getColor(k),.5),b=e.getItemShape(k))h=this._sIndex2ShapeMap[g],b.style.brushType=h.match("empty")?"stroke":"both",h=h.replace("empty","").toLowerCase(),h.match("rectangle")&&(b.style.x+=Math.round((b.style.width-b.style.height)/2),b.style.width=b.style.height),h.match("star")&&(b.style.n=h.replace("star","")-0||5,h="star"),h.match("image")&&(b.style.image=h.replace(/^image:\/\//,""),b.style.x+=Math.round((b.style.width-b.style.height)/2),b.style.width=
b.style.height,h="image"),b.style.iconType=h,e.setItemShape(k,b)}else this.selectedMap[k]=!0,this._sIndex2ColorMap[g]=this.zr.getColor(g);this.selectedMap[k]&&d.push(g)}this._buildSeries(d);this.addShapeList()},_buildSeries:function(a){if(0!==a.length){for(var e=this.series,d,b,k,h,g,c,f={},m,p=0,r=a.length;p<r;p++)if(d=a[p],b=e[d],0!==b.data.length){g=this.component.xAxis.getAxis(b.xAxisIndex||0);c=this.component.yAxis.getAxis(b.yAxisIndex||0);f[d]=[];for(var q=0,s=b.data.length;q<s;q++)k=b.data[q],
h="undefined"!=typeof k?"undefined"!=typeof k.value?k.value:k:"-","-"==h||2>h.length||(m=g.getCoord(h[0]),h=c.getCoord(h[1]),f[d].push([m,h,q,k.name||""]));this.xMarkMap[d]=this._markMap(g,c,b.data,f[d]);this.buildMark(d)}this._buildPointList(f)}},_markMap:function(a,e,d,b){for(var k={min0:Number.POSITIVE_INFINITY,max0:Number.NEGATIVE_INFINITY,sum0:0,counter0:0,average0:0,min1:Number.POSITIVE_INFINITY,max1:Number.NEGATIVE_INFINITY,sum1:0,counter1:0,average1:0},h,g=0,c=b.length;g<c;g++)h=d[b[g][2]].value||
d[b[g][2]],k.min0>h[0]&&(k.min0=h[0],k.minY0=b[g][1],k.minX0=b[g][0]),k.max0<h[0]&&(k.max0=h[0],k.maxY0=b[g][1],k.maxX0=b[g][0]),k.sum0+=h[0],k.counter0++,k.min1>h[1]&&(k.min1=h[1],k.minY1=b[g][1],k.minX1=b[g][0]),k.max1<h[1]&&(k.max1=h[1],k.maxY1=b[g][1],k.maxX1=b[g][0]),k.sum1+=h[1],k.counter1++;d=this.component.grid.getX();b=this.component.grid.getXend();h=this.component.grid.getY();g=this.component.grid.getYend();k.average0=(k.sum0/k.counter0).toFixed(2)-0;a=a.getCoord(k.average0);k.averageLine0=
[[a,g],[a,h]];k.minLine0=[[k.minX0,g],[k.minX0,h]];k.maxLine0=[[k.maxX0,g],[k.maxX0,h]];k.average1=(k.sum1/k.counter1).toFixed(2)-0;e=e.getCoord(k.average1);return k.averageLine1=[[d,e],[b,e]],k.minLine1=[[d,k.minY1],[b,k.minY1]],k.maxLine1=[[d,k.maxY1],[b,k.maxY1]],k},_buildPointList:function(a){var e=this.series,d,b,k,h;for(h in a)if(d=e[h],b=a[h],d.large&&d.data.length>d.largeThreshold)this.shapeList.push(this._getLargeSymbol(b,this.getItemStyleColor(this.query(d,"itemStyle.normal.color"),h,-1)||
this._sIndex2ColorMap[h]));else{d=0;for(var g=b.length;d<g;d++)k=b[d],(k=this._getSymbol(h,k[2],k[3],k[0],k[1]))&&this.shapeList.push(k)}},_getSymbol:function(a,e,d,b,k){var h=this.series[a],g=h.data[e],c=this.component.dataRange;if(c){if(c=isNaN(g[2])?this._sIndex2ColorMap[a]:c.getColor(g[2]),!c)return null}else c=this._sIndex2ColorMap[a];a=this.getSymbolShape(h,a,g,e,d,b,k,this._sIndex2ShapeMap[a],c,"rgba(0,0,0,0)","vertical");return a.zlevel=this._zlevelBase,a._main=!0,a},_getLargeSymbol:function(a,
e){return new p({zlevel:this._zlevelBase,_main:!0,hoverable:!1,style:{pointList:a,color:e,strokeColor:e},highlightStyle:{pointList:[]}})},getMarkCoord:function(a,e){var d=this.series[a],b=this.xMarkMap[a],k=this.component.xAxis.getAxis(d.xAxisIndex),d=this.component.yAxis.getAxis(d.yAxisIndex);!e.type||"max"!=e.type&&"min"!=e.type&&"average"!=e.type?b=["string"!=typeof e.xAxis&&k.getCoordByIndex?k.getCoordByIndex(e.xAxis||0):k.getCoord(e.xAxis||0),"string"!=typeof e.yAxis&&d.getCoordByIndex?d.getCoordByIndex(e.yAxis||
0):d.getCoord(e.yAxis||0)]:(k="undefined"!=typeof e.valueIndex?e.valueIndex:1,b=[b[e.type+"X"+k],b[e.type+"Y"+k],b[e.type+"Line"+k],b[e.type+k]]);return b},refresh:function(a){a&&(this.option=a,this.series=a.series);this.backupShapeList();this._buildShape()},ondataRange:function(a,e){this.component.dataRange&&(this.refresh(),e.needRefresh=!0)}},e.inherits(q,s),e.inherits(q,r),a("../chart").define("scatter",q),q});
define("echarts/chart/k","require ../component/base ./base ../util/shape/Candle ../component/axis ../component/grid ../component/dataZoom ../config ../util/ecData zrender/tool/util ../chart".split(" "),function(a){function q(a,e,d,b,k){r.call(this,a,e,d,b,k);s.call(this);this.refresh(b)}var r=a("../component/base"),s=a("./base"),p=a("../util/shape/Candle");a("../component/axis");a("../component/grid");a("../component/dataZoom");var f=a("../config"),e=a("../util/ecData"),m=a("zrender/tool/util");return q.prototype=
{type:f.CHART_TYPE_K,_buildShape:function(){var a=this.series;this.selectedMap={};for(var e={top:[],bottom:[]},d,b=0,k=a.length;b<k;b++)a[b].type==f.CHART_TYPE_K&&(a[b]=this.reformOption(a[b]),d=this.component.xAxis.getAxis(a[b].xAxisIndex),d.type==f.COMPONENT_TYPE_AXIS_CATEGORY&&e[d.getPosition()].push(b));for(var h in e)0<e[h].length&&this._buildSinglePosition(h,e[h]);this.addShapeList()},_buildSinglePosition:function(a,e){var d=this._mapData(e),b=d.locationMap,d=d.maxDataLength;if(0!==d&&0!==b.length)for(this._buildHorizontal(e,
d,b),b=0,d=e.length;b<d;b++)this.buildMark(e[b])},_mapData:function(a){for(var e=this.series,d,b,k=this.component.legend,h=[],g=0,c=0,f=a.length;c<f;c++)d=e[a[c]],b=d.name,k?this.selectedMap[b]=k.isSelected(b):this.selectedMap[b]=!0,this.selectedMap[b]&&h.push(a[c]),g=Math.max(g,d.data.length);return{locationMap:h,maxDataLength:g}},_buildHorizontal:function(a,e,d){for(var b=this.series,k,h,g,c,f={},m,p,r=0,q=d.length;r<q;r++){k=d[r];h=b[k];g=h.xAxisIndex||0;g=this.component.xAxis.getAxis(g);m=h.barWidth||
Math.floor(g.getGap()/2);(c=h.barMaxWidth)&&c<m&&(m=c);c=h.yAxisIndex||0;c=this.component.yAxis.getAxis(c);f[k]=[];for(var s=0,E=e;s<E&&"undefined"!=typeof g.getNameByIndex(s);s++)p=h.data[s],p="undefined"!=typeof p?"undefined"!=typeof p.value?p.value:p:"-","-"!=p&&4==p.length&&f[k].push([g.getCoordByIndex(s),m,c.getCoord(p[0]),c.getCoord(p[1]),c.getCoord(p[2]),c.getCoord(p[3]),s,g.getNameByIndex(s)])}this._buildKLine(a,f)},_buildKLine:function(a,e){for(var d=this.series,b,k,h,g,c,t,m,p,r,q,s,E,A,
B,C,u,w=0,x=a.length;w<x;w++)if(u=a[w],s=d[u],A=e[u],this._isLarge(A)&&(A=this._getLargePointList(A)),s.type==f.CHART_TYPE_K&&"undefined"!=typeof A){E=s;b=this.query(E,"itemStyle.normal.lineStyle.width");k=this.query(E,"itemStyle.normal.lineStyle.color");h=this.query(E,"itemStyle.normal.lineStyle.color0");g=this.query(E,"itemStyle.normal.color");c=this.query(E,"itemStyle.normal.color0");t=this.query(E,"itemStyle.emphasis.lineStyle.width");m=this.query(E,"itemStyle.emphasis.lineStyle.color");p=this.query(E,
"itemStyle.emphasis.lineStyle.color0");r=this.query(E,"itemStyle.emphasis.color");q=this.query(E,"itemStyle.emphasis.color0");for(var z=0,D=A.length;z<D;z++)B=A[z],E=s.data[B[6]],C=B[3]<B[2],this.shapeList.push(this._getCandle(u,B[6],B[7],B[0],B[1],B[2],B[3],B[4],B[5],C?this.query(E,"itemStyle.normal.color")||g:this.query(E,"itemStyle.normal.color0")||c,this.query(E,"itemStyle.normal.lineStyle.width")||b,C?this.query(E,"itemStyle.normal.lineStyle.color")||k:this.query(E,"itemStyle.normal.lineStyle.color0")||
h,C?this.query(E,"itemStyle.emphasis.color")||r||g:this.query(E,"itemStyle.emphasis.color0")||q||c,this.query(E,"itemStyle.emphasis.lineStyle.width")||t||b,C?this.query(E,"itemStyle.emphasis.lineStyle.color")||m||k:this.query(E,"itemStyle.emphasis.lineStyle.color0")||p||h))}},_isLarge:function(a){return.5>a[0][1]},_getLargePointList:function(a){for(var e=this.component.grid.getWidth(),d=a.length,b=[],k=0;k<e;k++)b[k]=a[Math.floor(d/e*k)];return b},_getCandle:function(a,f,d,b,k,h,g,c,t,m,r,q,s,M,E){var A=
this.series;b={zlevel:this._zlevelBase,clickable:!0,style:{x:b,y:[h,g,c,t],width:k,color:m,strokeColor:q,lineWidth:r,brushType:"both"},highlightStyle:{color:s,strokeColor:E,lineWidth:M},_seriesIndex:a};return e.pack(b,A[a],a,A[a].data[f],f,d),b=new p(b),b},getMarkCoord:function(a,e){var d=this.series[a],b=this.component.xAxis.getAxis(d.xAxisIndex),d=this.component.yAxis.getAxis(d.yAxisIndex);return["string"!=typeof e.xAxis&&b.getCoordByIndex?b.getCoordByIndex(e.xAxis||0):b.getCoord(e.xAxis||0),"string"!=
typeof e.yAxis&&d.getCoordByIndex?d.getCoordByIndex(e.yAxis||0):d.getCoord(e.yAxis||0)]},refresh:function(a){a&&(this.option=a,this.series=a.series);this.backupShapeList();this._buildShape()},addDataAnimation:function(a){for(var f=this.series,d={},b=0,k=a.length;b<k;b++)d[a[b][0]]=a[b];for(var h,g,b=0,k=this.shapeList.length;b<k;b++)a=this.shapeList[b]._seriesIndex,d[a]&&!d[a][3]&&"candle"==this.shapeList[b].type&&(g=e.get(this.shapeList[b],"dataIndex"),h=f[a],d[a][2]&&g==h.data.length-1?this.zr.delShape(this.shapeList[b].id):
d[a][2]||0!==g?(h=this.component.xAxis.getAxis(h.xAxisIndex||0).getGap(),a=d[a][2]?h:-h,this.zr.animate(this.shapeList[b].id,"").when(500,{position:[a,0]}).start()):this.zr.delShape(this.shapeList[b].id))}},m.inherits(q,s),m.inherits(q,r),a("../chart").define("k",q),q});
define("echarts/util/coordinates",["require","zrender/tool/math"],function(a){var q=a("zrender/tool/math");return{polar2cartesian:function(a,s){return[a*q.sin(s),a*q.cos(s)]},cartesian2polar:function(a,q){return[Math.sqrt(a*a+q*q),Math.atan(q/a)]}}});
define("echarts/component/polar","require ./base zrender/shape/Text zrender/shape/Line zrender/shape/Polygon zrender/shape/Circle zrender/shape/Ring ../config zrender/tool/util ../util/coordinates ../component".split(" "),function(a){function q(a,d,e,g,c){r.call(this,a,d,e,g,c);this.refresh(g)}var r=a("./base"),s=a("zrender/shape/Text"),p=a("zrender/shape/Line"),f=a("zrender/shape/Polygon"),e=a("zrender/shape/Circle"),m=a("zrender/shape/Ring"),n=a("../config"),l=a("zrender/tool/util"),d=a("../util/coordinates");
return q.prototype={type:n.COMPONENT_TYPE_POLAR,_buildShape:function(){for(var a=0;a<this.polar.length;a++)this._index=a,this.reformOption(this.polar[a]),this._queryTarget=[this.polar[a],this.option],this._createVector(a),this._buildSpiderWeb(a),this._buildText(a),this._adjustIndicatorValue(a),this._addAxisLabel(a);for(a=0;a<this.shapeList.length;a++)this.zr.addShape(this.shapeList[a])},_createVector:function(a){var k=this.polar[a];a=this.deepQuery(this._queryTarget,"indicator").length;for(var e=
k.startAngle,g=2*Math.PI/a,c=this._getRadius(),k=k.__ecIndicator=[],f,l=0;l<a;l++)f=d.polar2cartesian(c,e*Math.PI/180+g*l),k.push({vector:[f[1],-f[0]]})},_getRadius:function(){return this.parsePercent(this.polar[this._index].radius,Math.min(this.zr.getWidth(),this.zr.getHeight())/2)},_buildSpiderWeb:function(a){var d=this.polar[a],e=d.__ecIndicator,g=d.splitArea,c=d.splitLine;a=this.getCenter(a);var d=d.splitNumber,f=c.lineStyle.color,l=c.lineStyle.width,c=c.show,m=this.deepQuery(this._queryTarget,
"axisLine");this._addArea(e,d,a,g,f,l,c);m.show&&this._addLine(e,a,m)},_addAxisLabel:function(a){for(var d=this.polar[a],e=this.deepQuery(this._queryTarget,"indicator"),g=d.__ecIndicator,c,f,m=this.deepQuery(this._queryTarget,"splitNumber"),n=this.getCenter(a),p,r,q,E,A=this.deepQuery(this._queryTarget,"precision"),B,C=0;C<e.length;C++)if(c=this.deepQuery([e[C],d,this.option],"axisLabel"),c.show){f={};f.textFont=this.getFont();f=l.merge(f,c);f.lineWidth=f.width;a=g[C].vector;p=g[C].value;q=C/e.length*
2*Math.PI;E=c.offset||10;B=c.interval||0;for(var u=1;u<=m;u+=B+1)c=l.merge({},f),r=u*(p.max-p.min)/m+p.min,A&&(r=r.toFixed(A)),c.text=this.numAddCommas(r),c.x=u*a[0]/m+Math.cos(q)*E+n[0],c.y=u*a[1]/m+Math.sin(q)*E+n[1],this.shapeList.push(new s({zlevel:this._zlevelBase,style:c,draggable:!1,hoverable:!1}))}},_buildText:function(a){var d=this.polar[a],e=d.__ecIndicator,g,c=this.deepQuery(this._queryTarget,"indicator");a=this.getCenter(a);for(var f,l,m,n,p=0,r=0,q,A=0;A<c.length;A++)m=this.deepQuery([c[A],
d,this.option],"name"),m.show&&(g=this.deepQuery([m,d,this.option],"textStyle"),f={},f.textFont=this.getFont(g),f.color=g.color,"function"==typeof m.formatter?f.text=m.formatter.call(this.myChart,c[A].text,A):"string"==typeof m.formatter?f.text=m.formatter.replace("{value}",c[A].text):f.text=c[A].text,e[A].text=f.text,g=e[A].vector,0<Math.round(g[0])?l="left":0>Math.round(g[0])?l="right":l="center",m.margin?(q=m.margin,p=0<g[0]?q:-q,r=0<g[1]?q:-q,p=0===g[0]?0:p,r=0===g[1]?0:r,g=this._mapVector(g,
a,1)):g=this._mapVector(g,a,1.2),f.textAlign=l,f.x=g[0]+p,f.y=g[1]+r,m.rotate?n=[m.rotate/180*Math.PI,g[0],g[1]]:n=[0,0,0],this.shapeList.push(new s({zlevel:this._zlevelBase,style:f,draggable:!1,hoverable:!1,rotation:n})))},getIndicatorText:function(a,d){return this.polar[a]&&this.polar[a].__ecIndicator[d]&&this.polar[a].__ecIndicator[d].text},getDropBox:function(a){a=a||0;var d=this.polar[a];a=this.getCenter(a);var e=d.__ecIndicator,g=e.length,c=[],f,d=d.type;if("polygon"==d){for(d=0;d<g;d++)f=e[d].vector,
c.push(this._mapVector(f,a,1.2));f=this._getShape(c,"fill","rgba(0,0,0,0)","",1)}else"circle"==d&&(f=this._getCircle("",1,1.2,a,"fill","rgba(0,0,0,0)"));return f},_addArea:function(a,d,e,g,c,f,l){for(var m,n,p,r,q=this.deepQuery(this._queryTarget,"type"),s=0;s<d;s++)n=(d-s)/d,l&&("polygon"==q?(r=this._getPointList(a,n,e),m=this._getShape(r,"stroke","",c,f)):"circle"==q&&(m=this._getCircle(c,f,n,e,"stroke")),this.shapeList.push(m)),g.show&&(p=(d-s-1)/d,this._addSplitArea(a,g,n,p,e,s))},_getCircle:function(a,
d,h,g,c,f){var l=this._getRadius();return new e({zlevel:this._zlevelBase,style:{x:g[0],y:g[1],r:l*h,brushType:c,strokeColor:a,lineWidth:d,color:f},hoverable:!1,draggable:!1})},_getRing:function(a,d,e,g){var c=this._getRadius();return new m({zlevel:this._zlevelBase,style:{x:g[0],y:g[1],r:d*c,r0:e*c,color:a,brushType:"fill"},hoverable:!1,draggable:!1})},_getPointList:function(a,d,e){for(var g=[],c=a.length,f,l=0;l<c;l++)f=a[l].vector,g.push(this._mapVector(f,e,d));return g},_getShape:function(a,d,e,
g,c){return new f({zlevel:this._zlevelBase,style:{pointList:a,brushType:d,color:e,strokeColor:g,lineWidth:c},hoverable:!1,draggable:!1})},_addSplitArea:function(a,d,e,g,c,f){var l=a.length,m=d.areaStyle.color,n,p;d=[];l=a.length;d=this.deepQuery(this._queryTarget,"type");"string"==typeof m&&(m=[m]);f=m[f%m.length];if("polygon"==d)for(m=0;m<l;m++)d=[],n=a[m].vector,p=a[(m+1)%l].vector,d.push(this._mapVector(n,c,e)),d.push(this._mapVector(n,c,g)),d.push(this._mapVector(p,c,g)),d.push(this._mapVector(p,
c,e)),n=this._getShape(d,"fill",f,"",1),this.shapeList.push(n);else"circle"==d&&(n=this._getRing(f,e,g,c),this.shapeList.push(n))},_mapVector:function(a,d,e){return[a[0]*e+d[0],a[1]*e+d[1]]},getCenter:function(a){return this.parseCenter(this.zr,this.polar[a||0].center)},_addLine:function(a,d,e){var g=a.length,c,f=e.lineStyle;e=f.color;for(var l=f.width,f=f.type,m=0;m<g;m++)c=a[m].vector,c=this._getLine(d[0],d[1],c[0]+d[0],c[1]+d[1],e,l,f),this.shapeList.push(c)},_getLine:function(a,d,e,g,c,f,l){return new p({zlevel:this._zlevelBase,
style:{xStart:a,yStart:d,xEnd:e,yEnd:g,strokeColor:c,lineWidth:f,lineType:l},hoverable:!1})},_adjustIndicatorValue:function(a){var d=this.polar[a],e=this.deepQuery(this._queryTarget,"indicator"),g=e.length,c=d.__ecIndicator,f,l,m;a=this._getSeriesData(a);for(var d=d.splitNumber,n=this.deepQuery(this._queryTarget,"boundaryGap"),p=this.deepQuery(this._queryTarget,"precision"),r=this.deepQuery(this._queryTarget,"power"),q=this.deepQuery(this._queryTarget,"scale"),s=0;s<g;s++)"number"==typeof e[s].max?
(l=e[s].max,m=e[s].min||0,f={max:l,min:m}):f=this._findValue(a,s,d,n,p,r,q),c[s].value=f},_getSeriesData:function(a){for(var d=[],e,g,c=this.component.legend,f,l=0;l<this.series.length;l++)if(e=this.series[l],e.type==n.CHART_TYPE_RADAR){g=e.data||[];for(var m=0;m<g.length;m++)f=this.deepQuery([g[m],e,this.option],"polarIndex")||0,f!=a||c&&!c.isSelected(g[m].name)||d.push(g[m])}return d},_findValue:function(a,d,e,g,c,f,l){function m(a){(a>n||void 0===n)&&(n=a);(a<p||void 0===p)&&(p=a)}var n,p,r,q;
q=0;var s,B;if(a&&0!==a.length){1==a.length&&(p=0);if(1!=a.length)for(var C=0;C<a.length;C++)r="undefined"!=typeof a[C].value[d].value?a[C].value[d].value:a[C].value[d],m(r);else for(d=a[0],C=0;C<d.value.length;C++)m("undefined"!=typeof d.value[C].value?d.value[C].value:d.value[C]);if(1!=a.length)if(l){a=this._getDelta(n,p,e,c,f);if(1<=a)p=Math.floor(p/a)*a-a;else{if(0===a)return 0<n?(B=0,s=2*n):0===n?(B=0,s=100):(s=0,B=2*p),{max:s,min:B};q=(a+"").split(".")[1];q=q.length;p=Math.floor(p*Math.pow(10,
q))/Math.pow(10,q)-a}Math.abs(p)<=a&&(p=0);n=p+Math.floor(a*Math.pow(10,q)*(e+1))/Math.pow(10,q)}else p=0<p?0:p;return g&&(n=0<n?1.2*n:.8*n,p=0<p?.8*p:1.2*p),{max:n,min:p}}},_getDelta:function(a,d,e,g,c){a=(a-d)/e;var f,l;if(1<a)return c?(a=Math.ceil(a),0<a%c?(Math.ceil(a/c)+1)*c:a):(f=(a+"").split(".")[0],l=f.length,5<=f.charAt(0)?Math.pow(10,l):(f.charAt(0)-0+1)*Math.pow(10,l-1));if(1==a)return 1;if(0===a)return 0;if(!g){f=(a+"").split(".")[1];for(l=0;"0"==f[l];)l++;return 5<=f[l]?"0."+f.substring(0,
l+1)-0+1/Math.pow(10,l):"0."+f.substring(0,l+1)-0+1/Math.pow(10,l+1)}return Math.ceil(a*Math.pow(10,g))/Math.pow(10,g)},getVector:function(a,d,e){a=a||0;d=d||0;if(!(d>=this.polar[a].__ecIndicator.length)){d=this.polar[a].__ecIndicator[d];a=this.getCenter(a);var g=d.vector,c=d.value.max;d=d.value.min;var f;if("undefined"==typeof e)return a;switch(e){case "min":e=d;break;case "max":e=c;break;case "center":e=(c+d)/2}return c!=d?f=(e-d)/(c-d):f=.5,this._mapVector(g,a,f)}},isInside:function(a){return(a=
this.getNearestIndex(a))?a.polarIndex:-1},getNearestIndex:function(a){for(var e,h,g,c,f,l,m=0;m<this.polar.length;m++){e=this.polar[m];h=this.getCenter(m);if(a[0]==h[0]&&a[1]==h[1])return{polarIndex:m,valueIndex:0};g=this._getRadius();c=e.startAngle;e=e.indicator;f=e.length;l=2*Math.PI/f;e=d.cartesian2polar(a[0]-h[0],h[1]-a[1]);0>a[0]-h[0]&&(e[1]+=Math.PI);0>e[1]&&(e[1]+=2*Math.PI);h=e[1]-c/180*Math.PI+2*Math.PI;if(Math.abs(Math.cos(h%(l/2)))*g>e[0])return{polarIndex:m,valueIndex:Math.floor((h+l/
2)/l)%f}}},getIndicator:function(a){return this.polar[a||0].indicator},refresh:function(a){a&&(this.option=a,this.polar=this.option.polar,this.series=this.option.series);this.clear();this._buildShape()}},l.inherits(q,r),a("../component").define("polar",q),q});
define("echarts/chart/radar","require ../component/base ./base zrender/shape/Polygon ../component/polar ../config ../util/ecData zrender/tool/util zrender/tool/color ../util/accMath ../chart".split(" "),function(a){function q(a,d,b,e,h){r.call(this,a,d,b,e,h);s.call(this);this.refresh(e)}var r=a("../component/base"),s=a("./base"),p=a("zrender/shape/Polygon");a("../component/polar");var f=a("../config"),e=a("../util/ecData"),m=a("zrender/tool/util"),n=a("zrender/tool/color");return q.prototype={type:f.CHART_TYPE_RADAR,
_buildShape:function(){this.selectedMap={};this._symbol=this.option.symbolList;this._queryTarget;this._dropBoxList=[];this._radarDataCounter=0;for(var a=this.series,d=this.component.legend,b,e=0,h=a.length;e<h;e++)a[e].type==f.CHART_TYPE_RADAR&&(this.serie=this.reformOption(a[e]),b=this.serie.name||"",this.selectedMap[b]=d?d.isSelected(b):!0,this.selectedMap[b]&&(this._queryTarget=[this.serie,this.option],this.deepQuery(this._queryTarget,"calculable")&&this._addDropBox(e),this._buildSingleRadar(e),
this.buildMark(e)));this.addShapeList()},_buildSingleRadar:function(a){for(var d=this.component.legend,b,e=this.serie.data,h,g,c=this.deepQuery(this._queryTarget,"calculable"),f=0;f<e.length;f++)g=e[f].name||"",this.selectedMap[g]=d?d.isSelected(g):!0,this.selectedMap[g]&&(d?(h=d.getColor(g),b=d.getItemShape(g),b&&(b.style.brushType=this.deepQuery([e[f],this.serie],"itemStyle.normal.areaStyle")?"both":"stroke",d.setItemShape(g,b))):h=this.zr.getColor(f),g=this._getPointList(this.serie.polarIndex,
e[f]),this._addSymbol(g,h,f,a,this.serie.polarIndex),this._addDataShape(g,h,e[f],a,f,c),this._radarDataCounter++)},_getPointList:function(a,d){for(var b=[],e,h=this.component.polar,g=0,c=d.value.length;g<c;g++)(e=h.getVector(a,g,"undefined"!=typeof d.value[g].value?d.value[g].value:d.value[g]))&&b.push(e);return b},_addSymbol:function(a,d,b,k,h){for(var g=this.series,c,f=this.component.polar,m=0,n=a.length;m<n;m++)c=this.getSymbolShape(this.deepMerge([g[k].data[b],g[k]]),k,g[k].data[b].value[m],m,
f.getIndicatorText(h,m),a[m][0],a[m][1],this._symbol[this._radarDataCounter%this._symbol.length],d,"#fff","vertical"),c.zlevel=this._zlevelBase+1,e.set(c,"data",g[k].data[b]),e.set(c,"value",g[k].data[b].value),e.set(c,"dataIndex",b),e.set(c,"special",m),this.shapeList.push(c)},_addDataShape:function(a,d,b,k,h,g){var c=this.series,f=[b,this.serie],m=this.getItemStyleColor(this.deepQuery(f,"itemStyle.normal.color"),k,h,b),q=this.deepQuery(f,"itemStyle.normal.lineStyle.width"),r=this.deepQuery(f,"itemStyle.normal.lineStyle.type"),
s=this.deepQuery(f,"itemStyle.normal.areaStyle.color"),M=this.deepQuery(f,"itemStyle.normal.areaStyle");a={zlevel:this._zlevelBase,style:{pointList:a,brushType:M?"both":"stroke",color:s||m||n.alpha(d,.5),strokeColor:m||d,lineWidth:q,lineType:r},highlightStyle:{brushType:this.deepQuery(f,"itemStyle.emphasis.areaStyle")||M?"both":"stroke",color:this.deepQuery(f,"itemStyle.emphasis.areaStyle.color")||s||m||n.alpha(d,.5),strokeColor:this.getItemStyleColor(this.deepQuery(f,"itemStyle.emphasis.color"),
k,h,b)||m||d,lineWidth:this.deepQuery(f,"itemStyle.emphasis.lineStyle.width")||q,lineType:this.deepQuery(f,"itemStyle.emphasis.lineStyle.type")||r}};e.pack(a,c[k],k,b,h,b.name,this.component.polar.getIndicator(c[k].polarIndex));g&&(a.draggable=!0,this.setCalculable(a));a=new p(a);this.shapeList.push(a)},_addDropBox:function(a){var d=this.series,b=this.deepQuery(this._queryTarget,"polarIndex");if(!this._dropBoxList[b]){var k=this.component.polar.getDropBox(b);k.zlevel=this._zlevelBase;this.setCalculable(k);
e.pack(k,d,a,void 0,-1);this.shapeList.push(k);this._dropBoxList[b]=!0}},ondragend:function(a,d){var b=this.series;if(this.isDragend&&a.target){var k=a.target,h=e.get(k,"seriesIndex"),k=e.get(k,"dataIndex");this.component.legend&&this.component.legend.del(b[h].data[k].name);b[h].data.splice(k,1);d.dragOut=!0;d.needRefresh=!0;this.isDragend=!1}},ondrop:function(f,d){var b=this.series;if(this.isDrop&&f.target){var k=f.target,h=f.dragged,g=e.get(k,"seriesIndex"),c=e.get(k,"dataIndex"),k=this.component.legend;
if(-1==c)c={value:e.get(h,"value"),name:e.get(h,"name")},b[g].data.push(c);else{var m=a("../util/accMath"),c=b[g].data[c];k&&k.del(c.name);c.name+=this.option.nameConnector+e.get(h,"name");b=e.get(h,"value");for(g=0;g<b.length;g++)c.value[g]=m.accAdd(c.value[g],b[g])}k&&k.add(c.name,h.style.color||h.style.strokeColor);d.dragIn=d.dragIn||!0;this.isDrop=!1}},refresh:function(a){a&&(this.option=a,this.series=a.series);this.backupShapeList();this._buildShape()}},m.inherits(q,s),m.inherits(q,r),a("../chart").define("radar",
q),q});
define("echarts/util/shape/Chord",["require","zrender/shape/Base","zrender/tool/util"],function(a){function q(a){r.call(this,a)}var r=a("zrender/shape/Base");a=a("zrender/tool/util");var s=a.getContext();return q.prototype={type:"chord",buildPath:function(a,f){var e=2*Math.PI,m=f.center[0],n=f.center[1],l=f.r,d=f.source0/180*Math.PI,b=f.source1/180*Math.PI,k=f.target0/180*Math.PI,h=f.target1/180*Math.PI,g=m+Math.cos(e-d)*l,c=n-Math.sin(e-d)*l,t=m+Math.cos(e-b)*l,q=n-Math.sin(e-b)*l,r=m+Math.cos(e-k)*
l,s=n-Math.sin(e-k)*l,L=m+Math.cos(e-h)*l,e=n-Math.sin(e-h)*l;a.moveTo(g,c);a.arc(m,n,f.r,d,b,!1);a.bezierCurveTo(.7*(m-t)+t,.7*(n-q)+q,.7*(m-r)+r,.7*(n-s)+s,r,s);if(f.source0!==f.target0||f.source1!==f.target1)a.arc(m,n,f.r,k,h,!1),a.bezierCurveTo(.7*(m-L)+L,.7*(n-e)+e,.7*(m-g)+g,.7*(n-c)+c,g,c)},getRect:function(){return{x:0,y:0,width:0,height:0}},isCover:function(a,f){if(!s.isPointInPath)return!1;var e=this.getTansform(a,f);return a=e[0],f=e[1],s.beginPath(),q.prototype.buildPath.call(null,s,this.style),
s.closePath(),s.isPointInPath(a,f)}},a.inherits(q,r),q});
define("echarts/util/kwargs",[],function(){return function(a,q){var r=a.toString().replace(/(\/\*[\w\'\,\(\)\s\r\n\*]*\*\/)|(\/\/[\w\s\'][^\n\r]*$)|(<![\-\-\s\w\>\/]*>)/gim,"").replace(/\s+/gim,"").match(/function.*?\((.*?)\)/i)[1].split(",");return q!==Object(q)&&(q={}),function(){var s=Array.prototype.slice.call(arguments),p=s[s.length-1];p&&p.constructor===Object?s.pop():p={};for(var f=0;f<r.length;f++){var e=r[f];e in p?s[f]=p[e]:e in q&&null==s[f]&&(s[f]=q[e])}return a.apply(this,s)}}});
define("echarts/util/ndarray",["require","./kwargs"],function(a){function q(a){if("undefined"==typeof a)return"number";switch(Object.prototype.toString.call(a)){case "[object Int32Array]":return"int32";case "[object Int16Array]":return"int16";case "[object Int8Array]":return"int8";case "[object Uint32Array]":return"uint32";case "[object Uint16Array]":return"uint16";case "[object Uint8Array]":return"uint8";case "[object Uint8ClampedArray]":return"uint8c";case "[object Float32Array]":return"float32";
case "[object Float64Array]":return"float64";default:return"number"}}function r(a){for(var b=a[0],d=1;d<a.length;d++)b*=a[d];return b}function s(a){var b=1;for(a=a[0];a instanceof Array;)a=a[0],b++;return b}function p(a){var b=[a.length];for(a=a[0];a instanceof Array;)b.push(a.length),a=a[0];return b}function f(a,b){if(b==a.length-1)return 1;for(var d=a[b+1],g=b+2;g<a.length;g++)d*=a[g];return d}function e(a){for(var b=[],d=1,g=r(a),e=0;e<a.length;e++)d*=a[e],b.push(g/d);return b}function m(a,b){if(a.length!==
b.length)return!1;for(var d=0;d<a.length;d++)if(a[d]!==b[d])return!1;return!0}function n(a,b){return"Shape ("+a.toString()+") ("+b.toString()+") could not be broadcast together"}function l(a){return"Axis "+a+" out of bounds"}function d(a){return"Index "+a+" out of bounds"}a=a("./kwargs");var b=Array.prototype.slice;this.Int32Array=window.Int32Array||Array;this.Int16Array=window.Int16Array||Array;this.Int8Array=window.Int8Array||Array;this.Uint32Array=window.Uint32Array||Array;this.Uint16Array=window.Uint16Array||
Array;this.Uint8Array=window.Uint8Array||Array;this.Float32Array=window.Float32Array||Array;this.Float64Array=window.Float64Array||Array;var k={int32:this.Int32Array,int16:this.Int16Array,int8:this.Int8Array,uint32:this.Uint32Array,uint16:this.Uint16Array,uint8:this.Uint8Array,uint8c:this.Uint8ClampedArray,float32:this.Float32Array,float64:this.Float64Array,number:Array},h={int32:4,int16:2,int8:1,uint32:4,uint16:2,uint8:1,uint8c:1,float32:4,float64:8,number:1},g=function(a){var b=arguments[arguments.length-
1];"string"==typeof b?this._dtype=b:this._dtype=q(a);if(a&&"string"!=typeof a){if(a instanceof g)return a._dtype=this._dtype,a;"undefined"!=typeof a.length?this.initFromArray(a):"number"==typeof a&&this.initFromShape.apply(this,arguments)}else this._array=new k[this._dtype],this._shape=[0],this._size=0};return g.prototype={initFromArray:function(a){function b(a,c,e){for(var k=e.length,h=0;h<k;h++)a<d-1?b(a+1,c,e[h]):c[g++]=e[h]}var d=s(a),g=0,e=p(a),h=r(e);return this._array=new k[this._dtype](h),
b(0,this._array,a),this._shape=e,this._size=h,this},initFromShape:function(a){"number"==typeof a&&(a=Array.prototype.slice.call(arguments));if(a){var b=r(a);if("number"===this._dtype)for(var d=this._array=[],g=0;g<b;g++)d[g]=0;else this._array=new k[this._dtype](b)}return this._shape=a,this._size=r(a),this},fill:function(a){for(var b=this._array,d=0;d<b.length;d++)b[d]=a;return this},shape:function(){return this._shape.slice()},size:function(){return this._size},dtype:function(){return this._dtype},
dimension:function(){return this._shape.length},strides:function(){for(var a=e(this._shape),b=h[this._dtype],d=0;d<a.length;d++)a[d]*=b;return a},reshape:function(a){"number"==typeof a&&(a=Array.prototype.slice.call(arguments));if(!this._isShapeValid(a))throw Error("Total size of new array must be unchanged");return this._shape=a,this},_isShapeValid:function(a){return r(a)===this._size},resize:function(a){"number"==typeof a&&(a=Array.prototype.slice.call(arguments));var b=r(a);if(b<this._size)"number"===
this._dtype&&(this._array.length=b);else if("number"===this._dtype)for(var d=this._array.length;d<b;d++)this._array[d]=0;else{for(var g=new k[this._dtype](b),e=this._array,d=0;d<e.length;d++)g[d]=e[d];this._array=g}return this._shape=a,this._size=b,this},transpose:a(function(a,b){for(var d=[],g=0;g<this._shape.length;g++)d.push(g);"undefined"==typeof a&&(a=d.slice());for(g=0;g<a.length;g++)if(a[g]>=this._shape.length)throw Error(l(a[g]));if(1>=a.length)return this;d=d.slice();for(g=0;g<Math.floor(a.length/
2);g++)for(var e=a.length-1;e>=Math.ceil(a.length/2);e--)d[a[g]]=a[e],d[a[e]]=a[g];return this._transposelike(d,b)}),swapaxes:a(function(a,b,d){return this.transpose([a,b],d)}),rollaxis:a(function(a,b,d){if(a>=this._shape.length)throw Error(l(a));for(var g=[],e=0;e<this._shape.length;e++)g.push(e);return g.splice(a,1),g.splice(b,0,a),this._transposelike(g,d)},{start:0}),_transposelike:function(a,b){function d(a,b,c){var g=f[a],e=l[a],k=s[a];if(a<m-1)for(var n=0;n<g;n++)d(a+1,b+e*n,c+k*n);else for(n=
0;n<g;n++)w[c+n]=h[b+e*n]}for(var h=this._array,f=this._shape.slice(),l=e(this._shape),m=f.length,n=[],p=[],q=0;q<a.length;q++){var r=a[q];p[q]=f[r];n[q]=l[r]}l=n;this._shape=f=p;var s=e(this._shape);b||(b=new g,b._shape=this._shape.slice(),b._dtype=this._dtype,b._size=this._size);var w=new k[this._dtype](this._size);return b._array=w,d(0,0,0),b},repeat:a(function(a,b,d){var e;"undefined"==typeof b?(e=[this._size],b=0):e=this._shape.slice();var k=e.slice();e[b]*=a;if(!d)d=new g(this._dtype),d.initFromShape(e);
else if(!m(e,d._shape))throw Error(n(e,d._shape));e=d._array;var h=f(k,b);b=k[b];for(var k=this._array,l=h*b,p=0;p<this._size;p+=l)for(var q=0;q<h;q++)for(var r=p+q,s=p*a+q,u=0;u<b;u++){for(var w=0;w<a;w++)e[s]=k[r],s+=h;r+=h}return d}),choose:function(){console.warn("TODO")},take:function(){console.warn("TODO")},tile:function(){console.warn("TODO")},_withPreprocess1:function(a,b,d,e){var k=this._array;if(this._size){if("undefined"!=typeof a){0>a&&(a=this._shape.length+a);if(a>=this._shape.length||
0>a)throw Error(l(a));e=this._shape.slice();e.splice(a,1);if(b&&!m(e,b._shape))throw Error(n(e,b._shape));b||(b=new g(this._dtype),b.initFromShape(e));e=b._array;var h=f(this._shape,a);a=this._shape[a];return d.call(this,e,k,h*a,a,h),b}return e.call(this,k)}},_withPreprocess2:function(a,b,d,e){var k=this._array;if(this._size){if(b&&!m(this._shape,b._shape))throw Error(n(this._shape,b._shape));b||(b=new g(this._dtype),b.initFromShape(this._shape));var h=b._array;if("undefined"!=typeof a){0>a&&(a=this._shape.length+
a);if(a>=this._shape.length||0>a)throw Error(l(a));if(a>=this._shape.length)throw Error(l(a));e=f(this._shape,a);a=this._shape[a];d.call(this,h,k,e*a,a,e)}else b.reshape([this._size]),e.call(this,h,k);return b}},max:a(function(){function a(b,c,d,g,e){for(var k=0,h=0;h<this._size;h+=d)for(var f=0;f<e;f++){for(var l=f+h,m=c[l],n=0;n<g;n++){var t=c[l];t>m&&(m=t);l+=e}b[k++]=m}}function b(a){for(var c=a[0],d=1;d<this._size;d++)a[d]>c&&(c=a[d]);return c}return function(d,g){return this._withPreprocess1(d,
g,a,b)}}()),min:a(function(){function a(b,c,d,g,e){for(var k=0,h=0;h<this._size;h+=d)for(var f=0;f<e;f++){for(var l=f+h,m=c[l],n=0;n<g;n++){var t=c[l];t<m&&(m=t);l+=e}b[k++]=m}}function b(a){for(var c=a[0],d=1;d<this._size;d++)a[d]<c&&(c=a[d]);return c}return function(d,g){return this._withPreprocess1(d,g,a,b)}}()),argmax:a(function(){function a(b,c,d,g,e){for(var k=0,h=0;h<this._size;h+=d)for(var f=0;f<e;f++){for(var l=0,m=f+h,n=c[m],t=0;t<g;t++){var p=c[m];p>n&&(n=p,l=t);m+=e}b[k++]=l}}function b(a){for(var c=
a[0],d=0,g=1;g<this._size;g++)a[g]>c&&(d=g,c=a[g]);return d}return function(d,g){return this._withPreprocess1(d,g,a,b)}}()),argmin:a(function(){function a(b,c,d,g,e){for(var k=0,h=0;h<this._size;h+=d)for(var f=0;f<e;f++){for(var l=0,m=f+h,n=c[m],t=0;t<g;t++){var p=c[m];p<n&&(n=p,l=t);m+=e}b[k++]=l}}function b(a){for(var c=a[0],d=0,g=1;g<this._size;g++)a[g]<c&&(d=g,c=a[g]);return d}return function(d,g){return this._withPreprocess1(d,g,a,b)}}()),sum:a(function(){function a(b,c,d,g,e){for(var k=0,h=
0;h<this._size;h+=d)for(var f=0;f<e;f++){for(var l=0,m=f+h,n=0;n<g;n++)l+=c[m],m+=e;b[k++]=l}}function b(a){for(var c=0,d=0;d<this._size;d++)c+=a[d];return c}return function(d,g){return this._withPreprocess1(d,g,a,b)}}()),prod:a(function(){function a(b,c,d,g,e){for(var k=0,h=0;h<this._size;h+=d)for(var f=0;f<e;f++){for(var l=1,m=f+h,n=0;n<g;n++)l*=c[m],m+=e;b[k++]=l}}function b(a){for(var c=1,d=0;d<this._size;d++)c*=a[d];return c}return function(d,g){return this._withPreprocess1(d,g,a,b)}}()),mean:a(function(){function a(b,
c,d,g,e){for(var k=0,h=0;h<this._size;h+=d)for(var f=0;f<e;f++){for(var l=0,m=f+h,n=0;n<g;n++)l+=c[m],m+=e;l/=g;b[k++]=l}}function b(a){for(var c=0,d=a.length,g=0;g<d;g++)c+=a[g];return c/d}return function(d,g){return this._withPreprocess1(d,g,a,b)}}()),"var":a(function(){function a(b,c,d,g,e){for(var k=0,h=0;h<this._size;h+=d)for(var f=0;f<e;f++){for(var l=0,m=f+h,n=0;n<g;n++)l+=c[m],m+=e;for(var l=l/g,t=0,m=f+h,n=0;n<g;n++)var p=c[m]-l,t=t+p*p,m=m+e;b[k++]=t/g}}function b(a){for(var c=0,d=a.length,
g=0;g<d;g++)c+=a[g];for(var c=c/d,e=0,g=0;g<d;g++)var k=a[g]-c,e=e+k*k;return e/d}return function(d,g){return this._withPreprocess1(d,g,a,b)}}()),std:a(function(){function a(b,c,d,g,e){for(var k=0,h=0;h<this._size;h+=d)for(var f=0;f<e;f++){for(var l=0,m=f+h,n=0;n<g;n++)l+=c[m],m+=e;for(var l=l/g,t=0,m=f+h,n=0;n<g;n++)var p=c[m]-l,t=t+p*p,m=m+e;b[k++]=Math.sqrt(t/g)}}function b(a){for(var c=0,d=a.length,g=0;g<d;g++)c+=a[g];for(var c=c/d,e=0,g=0;g<d;g++)var k=a[g]-c,e=e+k*k;return Math.sqrt(e/d)}return function(d,
g){return this._withPreprocess1(d,g,a,b)}}()),ptp:a(function(){function a(b,c,d,g,e){for(var k=0,h=0;h<this._size;h+=d)for(var f=0;f<e;f++){for(var l=h+f,m=c[l],n=c[l],t=0;t<g;t++){var p=c[l];p<m&&(m=p);p>n&&(n=p);l+=e}b[k++]=n-m}}function b(a){for(var c=a[0],d=a[0],g=1;g<this._size;g++)a[g]<c&&(c=a[g]),a[g]>d&&(d=a[g]);return d-c}return function(d,g){return this._withPreprocess1(d,g,a,b)}}()),sort:a(function(a,b){0>a&&(a=this._shape.length+a);var d;"ascending"===b?d=function(a,b){return a-b}:"descending"===
b&&(d=function(a,b){return b-a});for(var g=this._array,e=f(this._shape,a),k=this._shape[a],h=e*k,l=Array(k),m=0;m<this._size;m+=h)for(var n=0;n<e;n++){for(var p=m+n,q=0;q<k;q++)l[q]=g[p],p+=e;l.sort(d);p=m+n;for(q=0;q<k;q++)g[p]=l[q],p+=e}return this},{axis:-1,order:"ascending"}),argsort:a(function(a,b,d){0>a&&(a=this._shape.length+a);if(this._size){if(d&&!m(this._shape,d._shape))throw Error(n(this._shape,d._shape));d||(d=new g(this._dtype),d.initFromShape(this._shape));var e=d._array,k;"ascending"===
b?k=function(a,b){return p[a]-p[b]}:"descending"===b&&(k=function(a,b){return p[b]-p[a]});b=this._array;var h=f(this._shape,a);a=this._shape[a];for(var l=h*a,p=Array(a),q=Array(a),r=0;r<this._size;r+=l)for(var s=0;s<h;s++){for(var u=r+s,w=0;w<a;w++)p[w]=b[u],q[w]=w,u+=h;q.sort(k);u=r+s;for(w=0;w<a;w++)e[u]=q[w],u+=h}return d}},{axis:-1,order:"ascending"}),cumsum:a(function(){function a(b,c,d,g,e){for(var k=0;k<this._size;k+=d)for(var h=0;h<e;h++){var f=k+h,l=f;b[f]=c[f];for(var m=1;m<g;m++)l=f,f+=
e,b[f]=b[l]+c[f]}}function b(a,c){a[0]=c[0];for(var d=1;d<a.length;d++)a[d]=a[d-1]+c[d]}return function(d,g){return this._withPreprocess2(d,g,a,b)}}()),cumprod:a(function(){function a(b,c,d,g,e){for(var k=0;k<this._size;k+=d)for(var h=0;h<e;h++){var f=k+h,l=f;b[f]=c[f];for(var m=1;m<g;m++)l=f,f+=e,b[f]=b[l]*c[f]}}function b(a,c){a[0]=c[0];for(var d=1;d<a.length;d++)a[d]=a[d-1]*c[d]}return function(d,g){return this._withPreprocess2(d,g,a,b)}}()),dot:function(){console.warn("TODO")},map:function(a,
b){for(var d=this._array,g=this._array,e=d[0],k=d[0],h=this._size,f=1;f<h;f++){var l=d[f];l<e&&(e=l);l>k&&(k=l)}for(var k=k-e,m=b-a,f=0;f<h;f++)0===k?g[f]=a:(l=d[f],g[f]=(l-e)/k*m+a);return this},add:function(a,b){return this.binaryOperation(this,a,0,b)},sub:function(a,b){return this.binaryOperation(this,a,1,b)},mul:function(a,b){return this.binaryOperation(this,a,2,b)},div:function(a,b){return this.binaryOperation(this,a,3,b)},mod:function(a,b){return this.binaryOperation(this,a,4,b)},and:function(a,
b){return this.binaryOperation(this,a,5,b)},or:function(a,b){return this.binaryOperation(this,a,6,b)},xor:function(a,b){return this.binaryOperation(this,a,7,b)},equal:function(a,b){return this.binaryOperation(this,a,8,b)},binaryOperation:function(a,b,d,e){var k=[],h="number"==typeof a,l="number"==typeof b;if(h)k=b._shape.slice();else if(l)k=a._shape.slice();else{for(var p=a._shape.length-1,q=b._shape.length-1,r=a,s=b;0<=p&&0<=q;){if(1==a._shape[p])k.unshift(b._shape[q]),r=a.repeat(b._shape[q],p);
else if(1==b._shape[q])k.unshift(a._shape[p]),s=b.repeat(a._shape[p],q);else{if(b._shape[q]!=a._shape[p])throw Error(n(a._shape,b._shape));k.unshift(a._shape[p])}p--;q--}for(;0<=p;p--)k.unshift(a._shape[p]);for(p=q;0<=p;p--)k.unshift(b._shape[p]);a=r;b=s}if(!e)e=new g(this._dtype),e.initFromShape(k);else if(!m(k,e._shape))throw Error(n(k,e._shape));var q=e._array,u,w,x,z;h?(u=b._shape.length-1,w=!1,x=a,z=b._array):l?(u=a._shape.length-1,w=!0,z=b,x=a._array):(u=Math.abs(a._shape.length-b._shape.length),
w=a._shape.length>=b._shape.length,x=a._array,z=b._array);a=f(k,u)*k[u];b=e._size/a;k=0;if(w)if(l)for(h=0;h<b;h++)for(p=0;p<a;p++){l=x[k];w=z;switch(d){case 0:l+=w;break;case 1:l-=w;break;case 2:l*=w;break;case 3:l/=w;break;case 4:l%=w;break;case 5:l&=w;break;case 6:l|=w;break;case 7:l^=w;break;case 8:l=l==w;break;default:throw Error("Unkown operation "+d);}q[k]=l;k++}else for(h=0;h<b;h++)for(p=0;p<a;p++){l=x[k];w=z[p];switch(d){case 0:l+=w;break;case 1:l-=w;break;case 2:l*=w;break;case 3:l/=w;break;
case 4:l%=w;break;case 5:l&=w;break;case 6:l|=w;break;case 7:l^=w;break;case 8:l=l==w;break;default:throw Error("Unkown operation "+d);}q[k]=l;k++}else if(h)for(h=0;h<b;h++)for(p=0;p<a;p++){l=x;w=z[k];switch(d){case 0:l+=w;break;case 1:l-=w;break;case 2:l*=w;break;case 3:l/=w;break;case 4:l%=w;break;case 5:l&=w;break;case 6:l|=w;break;case 7:l^=w;break;case 8:l=l==w;break;default:throw Error("Unkown operation "+d);}q[k]=l;k++}else for(h=0;h<b;h++)for(p=0;p<a;p++){l=x[k];w=z[p];switch(d){case 0:l+=
w;break;case 1:l-=w;break;case 2:l*=w;break;case 3:l/=w;break;case 4:l%=w;break;case 5:l&=w;break;case 6:l|=w;break;case 7:l^=w;break;case 8:l=l==w;break;default:throw Error("Unkown operation "+d);}q[k]=l;k++}return e},neg:function(){for(var a=this._array,b=0;b<this._size;b++)a[b]=-a[b];return this},sin:function(){return this._mathAdapter(Math.sin)},cos:function(){return this._mathAdapter(Math.cos)},tan:function(){return this._mathAdapter(Math.tan)},abs:function(){return this._mathAdapter(Math.abs)},
log:function(){return this._mathAdapter(Math.log)},sqrt:function(){return this._mathAdapter(Math.sqrt)},ceil:function(){return this._mathAdapter(Math.ceil)},floor:function(){return this._mathAdapter(Math.floor)},pow:function(a){for(var b=this._array,d=0;d<this._size;d++)b[d]=Math.pow(b[d],a);return this},_mathAdapter:function(a){for(var b=this._array,d=0;d<this._size;d++)b[d]=a(b[d]);return this},round:function(a){a=Math.floor(a||0);var b=Math.pow(10,a),d=this._array;if(0===a)for(a=0;a<this._size;a++)d[a]=
Math.round(d[a]);else for(a=0;a<this._size;a++)d[a]=Math.round(d[a]*b)/b;return this},clip:function(a,b){for(var d=this._array,g=0;g<this._size;g++)d[g]=Math.max(Math.min(d[g],b),a);return this},get:function(a,b){function d(a,b){var c=f[a],g=k[a];if(a<l-1)if(0<c[2])for(var e=c[0];e<c[1];e+=c[2])d(a+1,b+g*e);else for(e=c[0];e>c[1];e+=c[2])d(a+1,b+g*e);else if(0<c[2])for(e=c[0];e<c[1];e+=c[2])for(var h=0;h<g;h++)m[p++]=n[e*g+h+b];else for(e=c[0];e>c[1];e+=c[2])for(h=0;h<g;h++)m[p++]=n[e*g+h+b]}"number"==
typeof a&&(a=a.toString());var k=e(this._shape),h=this._parseRanges(a),f=h[0],h=h[1];if(f.length>this._shape.length)throw Error("Too many indices");var l=f.length,m;h.length?(b=new g(this._dtype),b.initFromShape(h),m=b._array):m=[];var n=this._array,p=0;return d(0,0),h.length?b:m[0]},set:function(a,b){"number"==typeof a&&(a=a.toString());var d=e(this._shape),g=this._parseRanges(a),k=g[0],g=g[1];if(k.length>this._shape.length)throw Error("Too many indices");var h="number"==typeof b,f=k.length,l=this._array;
if(h)var p=b;else{if(!m(g,b.shape()))throw Error(n(g,b.shape()));p=b._array}var q=0,r=function(a,b){var c=k[a],g=d[a];if(a<f-1)if(0<c[2])for(var e=c[0];e<c[1];e+=c[2])r(a+1,b+g*e);else for(e=c[0];e>c[1];e+=c[2])r(a+1,b+g*e);else if(0<c[2])for(e=c[0];e<c[1];e+=c[2])for(var m=0;m<g;m++)h?l[e*g+m+b]=p:l[e*g+m+b]=p[q++];else for(e=c[0];e>c[1];e+=c[2])for(m=0;m<g;m++)h?l[e*g+m+b]=p:l[e*g+m+b]=p[q++]};return r(0,0),this},insert:a(function(a,b,e){var h=this._array,l=!1;"number"==typeof a&&(a=[a],l=!0);"number"==
typeof b?b=new g([b]):b instanceof Array&&(b=new g(b));"undefined"==typeof e&&(this._shape=[this._size],e=0);for(var h=a[0],m=this._shape[e],p=0;p<a.length;p++){0>a[p]&&(a[p]=m+a[p]);if(a[p]>m)throw Error(d(a[p]));if(a[p]<h)throw Error("Index must be in ascending order");h=a[p]}p=this._shape.slice();l?p.splice(e,1):p[e]=a.length;for(var l=b._shape,m=l.length-1,h=p.length-1,q=b;0<=m&&0<=h;){if(1===l[m])q=b.repeat(p[h],m);else if(l[m]!==p[h])throw Error(n(l,p));m--;h--}b=q;for(var l=f(this._shape,e),
m=this._shape[e],h=m*l,q=a.length,m=new Uint32Array(this._size/h*q),s=0,B=0;B<this._size;B+=h)for(p=0;p<q;p++){var C=a[p];m[s++]=B+C*l}q=this._shape.slice();q[e]+=a.length;a=r(q);h=this._array.length<a?new k[this._dtype](a):this._array;e=this._array;for(var s=b._array,B=m.length-1,C=this._size,u=m[B],w=a-1,x=b._size-1;0<=B;){for(p=C-1;p>=u;p--)h[w--]=e[p];C=u;u=m[--B];for(p=0;p<l;p++)0>x&&(x=b._size-1),h[w--]=s[x--]}for(p=C-1;0<=p;p--)h[w--]=e[p];return this._array=h,this._shape=q,this._size=a,this}),
append:function(){console.warn("TODO")},"delete":a(function(a,b){var g=this._array;"number"==typeof a&&(a=[a]);var e=this._size;"undefined"==typeof b&&(this._shape=[e],b=0);for(var k=f(this._shape,b),h=this._shape[b],l=k*h,m=0,n=0;n<e;n+=l){for(var p=0,q=a[0],s=0;s<a.length;){0>q&&(q+=h);if(q>h)throw Error(d(q));if(q<p)throw Error("Index must be in ascending order");for(;p<q;p++)for(var w=0;w<k;w++)g[m++]=g[p*k+w+n];p=q+1;q=a[++s]}for(;p<h;p++)for(w=0;w<k;w++)g[m++]=g[p*k+w+n]}return this._shape[b]-=
a.length,this._size=r(this._shape),this}),_parseRanges:function(a){a=a.split(/\s*,\s*/);for(var b=[],g=[],e=0,k=0;k<a.length;k++)if("..."===a[k])for(var h=this._shape.length-(a.length-k);e<=h;)b.push([0,this._shape[e],1]),g.push(this._shape[e]),e++;else{var f;var l=a[k];f=this._shape[e];if(0<=l.indexOf(":")){var m=l.split(/\s*:\s*/),n=parseInt(m[2]||1,10),l=h=void 0;if(0===n)throw Error("Slice step cannot be zero");f=(0<n?(h=parseInt(m[0]||0,10),l=parseInt(m[1]||f,10)):(h=parseInt(m[0]||f-1,10),l=
parseInt(m[1]||-1,10)),0>h&&(h=f+h),0>l&&m[1]&&(l=f+l),0<n?(h=Math.max(Math.min(f,h),0),l=Math.max(Math.min(f,l),0)):(h=Math.max(Math.min(f-1,h),-1),l=Math.max(Math.min(f-1,l),-1)),[h,l,n])}else{h=parseInt(l,10);0>h&&(h=f+h);if(0>h||h>f)throw Error(d(l));f=(h=Math.max(Math.min(f-1,h),0),[h,h+1,1])}b.push(f);0<=a[k].indexOf(":")&&(h=Math.floor((f[1]-f[0])/f[2]),h=0>h?0:h,g.push(h));e++}for(;e<this._shape.length;e++)g.push(this._shape[e]);return[b,g]},toArray:function(){function a(k,h){for(var f=g[k],
l=0;l<f;l++)k<e-1?a(k+1,h[l]=[]):h[l]=b[d++]}var b=this._array,d=0,g=this._shape,e=g.length,k=[];return a(0,k),k},copy:function(){var a=new g;return a._array=b.call(this._array),a._shape=this._shape.slice(),a._dtype=this._dtype,a._size=this._size,a},constructor:g},g.range=a(function(a,d,e,h){var f=b.call(arguments),l=f[f.length-1];"string"==typeof l&&(h=l,f.pop());1===f.length?(d=f[0],e=1,a=0):2==f.length&&(e=1);h=h||"number";for(var f=new k[h](Math.ceil((d-a)/e)),l=0,m=a;m<d;m+=e)f[l++]=m;l=new g;
return l._array=f,l._shape=[f.length],l._dtype=h,l._size=f.length,l}),g.zeros=a(function(a,b){var d=new g(b);return d.initFromShape(a),d}),g});
define("echarts/chart/chord","require ../component/base ./base zrender/shape/Text zrender/shape/Line zrender/shape/Sector ../util/shape/Chord ../config ../util/ecData zrender/tool/util zrender/tool/vector ../util/ndarray ../chart".split(" "),function(a){function q(a,b,d,e,k){r.call(this,a,b,d,e,k);s.call(this);this.refresh(e)}var r=a("../component/base"),s=a("./base"),p=a("zrender/shape/Text"),f=a("zrender/shape/Line"),e=a("zrender/shape/Sector"),m=a("../util/shape/Chord"),n=a("../config"),l=a("../util/ecData"),
d=a("zrender/tool/util"),b=a("zrender/tool/vector"),k=a("../util/ndarray"),h=window.devicePixelRatio||1;return q.prototype={type:n.CHART_TYPE_CHORD,_buildShape:function(){var a=this.series;this.selectedMap={};this.chordSeries=[];this.chordSerieSample=null;for(var b=[],d=0,e=0,f=a.length;e<f;e++)if(a[e].type===this.type){this.chordSerieSample||(this.chordSerieSample=a[e],this.reformOption(this.chordSerieSample));var l=this.isSelected(a[e].name);if(this.selectedMap[a[e].name]=l)this.chordSeries.push(a[e]),
this.buildMark(e),b.push(a[e].matrix),d++}if(this.chordSerieSample){if(this.chordSeries.length){a=this.zr.getWidth();f=this.zr.getHeight();e=Math.min(a,f);this.groups=this.chordSerieSample.data;this.startAngle=this.chordSerieSample.startAngle;this.startAngle%=360;0>this.startAngle&&(this.startAngle+=360);this.clockWise=this.chordSerieSample.clockWise;this.innerRadius=this.parsePercent(this.chordSerieSample.radius[0],e/2);this.outerRadius=this.parsePercent(this.chordSerieSample.radius[1],e/2);this.padding=
this.chordSerieSample.padding;this.sortGroups=this.chordSerieSample.sort;this.sortSubGroups=this.chordSerieSample.sortSub;this.showScale=this.chordSerieSample.showScale;this.showScaleText=this.chordSerieSample.showScaleText;this.center=[this.parsePercent(this.chordSerieSample.center[0],a),this.parsePercent(this.chordSerieSample.center[1],f)];this.strokeFix=(this.chordSerieSample.itemStyle.normal.chordStyle.lineStyle.width-this.chordSerieSample.itemStyle.normal.lineStyle.width)/h/this.innerRadius/
Math.PI*180;this.dataMat=new k(b);this.dataMat=this.dataMat._transposelike([1,2,0]);a=this._filterData(this.dataMat,this.groups);this.dataMat=a[0];this.groups=a[1];a=this.dataMat.shape();if(a[0]!==a[1]||a[0]!==this.groups.length)throw Error("Data not valid");if(0!==a[0]&&0!==a[2]){this.dataMat.reshape(a[0],a[1]*a[2]);var e=this.dataMat.sum(1),l=e.mul(1/e.sum()),b=a[0],f=a[1]*a[2],m=l.mul(360-this.padding*b),n=this.dataMat.div(this.dataMat.sum(1).reshape(b,1)),n=n.mul(m.sub(2*this.strokeFix).reshape(b,
1));switch(this.sortGroups){case "ascending":case "descending":l=m.argsort(0,this.sortGroups);m.sort(0,this.sortGroups);e.sort(0,this.sortGroups);break;default:l=k.range(a[0])}switch(this.sortSubGroups){case "ascending":case "descending":var p=n.argsort(1,this.sortSubGroups);n.sort(1,this.sortSubGroups);break;default:p=k.range(f).reshape(1,f).repeat(b,0)}for(var l=l.toArray(),m=m.toArray(),p=p.toArray(),n=n.toArray(),q=e.toArray(),r=[],s=(new k(b,f)).toArray(),u=[],w=0,x=0,e=0;e<b;e++){var z=l[e];
u[z]=q[e];x=w+m[e];r[z]=[w,x];for(var D=w+=this.strokeFix,I=0;I<f;I++)D=w+n[z][I],s[z][p[z][I]]=[w,D],w=D;w=x+this.padding}this.chordShapes=(new k(b,b,d)).toArray();this.sectorShapes=[];this._buildSectors(r,u);s=(new k(s)).reshape(b,b,d,2).toArray();this._buildChords(s,this.dataMat.reshape(a).toArray());a=this.normalizeValue(u);this.showScale&&this._buildScales(a[0],a[1],r,(new k(a[0])).sum()/(360-this.padding*b))}}this.addShapeList()}},_filterData:function(a,b){for(var d=[],e=[],k=0;k<b.length;k++){var h=
b[k].name;this.selectedMap[h]=this.isSelected(h);this.selectedMap[h]?e.push(b[k]):d.push(k)}d.length&&(a=a["delete"](d,0),a=a["delete"](d,1));if(!a.size())return[a,e];d=[];h=[];k=a.shape();a.reshape(k[0],k[1]*k[2]);var f=a.sum(1).toArray();a.reshape(k);for(k=0;k<e.length;k++)0===f[k]?d.push(k):h.push(e[k]);return d.length&&(a=a["delete"](d,0),a=a["delete"](d,1)),[a,h]},_buildSectors:function(a,c){function d(a){return function(){m&&clearTimeout(m);m=setTimeout(function(){for(var b=0;b<h;b++){C.sectorShapes[b].style.opacity=
b===a?1:.1;C.zr.modShape(C.sectorShapes[b].id);for(var c=0;c<h;c++)for(var d=0;d<f;d++){var g=C.chordShapes[b][c][d];g&&(g.style.opacity=b===a||c===a?.5:.03,C.zr.modShape(g.id))}}C.zr.refresh()},50)}}function k(){return function(){m&&clearTimeout(m);m=setTimeout(function(){for(var a=0;a<h;a++){C.sectorShapes[a].style.opacity=1;C.zr.modShape(C.sectorShapes[a].id);for(var b=0;b<h;b++)for(var c=0;c<f;c++){var d=C.chordShapes[a][b][c];d&&(d.style.opacity=.5,C.zr.modShape(d.id))}}C.zr.refresh()},50)}}
for(var h=this.groups.length,f=this.chordSeries.length,m,n=this.query(this.chordSerieSample,"itemStyle.normal.label.show"),q=this.query(this.chordSerieSample,"itemStyle.normal.label.color"),r=this.query(this.chordSerieSample,"itemStyle.normal.label.rotate"),s=this.query(this.chordSerieSample,"itemStyle.normal.label.distance"),C=this,u=0;u<h;u++){var w=this.groups[u],x=a[u],z=(this.clockWise?360-x[1]:x[0])+this.startAngle,D=(this.clockWise?360-x[0]:x[1])+this.startAngle,x={zlevel:this._zlevelBase,
style:{x:this.center[0],y:this.center[1],r0:this.innerRadius,r:this.outerRadius,startAngle:z,endAngle:D,brushType:"fill",opacity:1,color:this.getColor(w.name)},clickable:!0,highlightStyle:{brushType:"fill"}};x.style.lineWidth=this.deepQuery([w,this.chordSerieSample],"itemStyle.normal.lineStyle.width");x.highlightStyle.lineWidth=this.deepQuery([w,this.chordSerieSample],"itemStyle.emphasis.lineStyle.width");x.style.strokeColor=this.deepQuery([w,this.chordSerieSample],"itemStyle.normal.lineStyle.color");
x.highlightStyle.strokeColor=this.deepQuery([w,this.chordSerieSample],"itemStyle.emphasis.lineStyle.color");0<x.style.lineWidth&&(x.style.brushType="both");0<x.highlightStyle.lineWidth&&(x.highlightStyle.brushType="both");l.pack(x,this.chordSeries[0],0,c[u],u,w.name);if(n){var z=[z+D]/2,z=z%360,D=90>=z||270<=z,z=z*Math.PI/180,I=[Math.cos(z),-Math.sin(z)],H=this.showScaleText?35+s:s,I=b.scale([],I,this.outerRadius+H);b.add(I,I,this.center);var J={zlevel:this._zlevelBase-1,hoverable:!1,style:{text:w.name,
textAlign:D?"left":"right",color:q}};r?(J.rotation=D?z:Math.PI+z,D?J.style.x=this.outerRadius+H:J.style.x=-this.outerRadius-H,J.style.y=0,J.position=this.center):(J.style.x=I[0],J.style.y=I[1]);J.style.textColor=this.deepQuery([w,this.chordSerieSample],"itemStyle.normal.label.textStyle.color")||"#fff";J.style.textFont=this.getFont(this.deepQuery([w,this.chordSerieSample],"itemStyle.normal.label.textStyle"));J=new p(J);this.shapeList.push(J)}x.onmouseover=d(u);x.onmouseout=k();x=new e(x);this.shapeList.push(x);
this.sectorShapes.push(x)}},_buildChords:function(a,b){var d=a.length;if(d)for(var e=a[0][0].length,k=this.chordSerieSample.itemStyle.normal.chordStyle.lineStyle,h=this.chordSerieSample.itemStyle.emphasis.chordStyle.lineStyle,f=0;f<d;f++)for(var n=0;n<d;n++)for(var p=0;p<e;p++)if(!this.chordShapes[n][f][p]){var q=a[f][n][p][0],r=a[n][f][p][0],s=a[f][n][p][1],u=a[n][f][p][1];if(0===q-u||0===r-u)this.chordShapes[f][n][p]=null;else{var w;1===e?s-q<=u-r?w=this.getColor(this.groups[f].name):w=this.getColor(this.groups[n].name):
w=this.getColor(this.chordSeries[p].name);q={zlevel:this._zlevelBase,style:{center:this.center,r:this.innerRadius,source0:(this.clockWise?q:360-s)-this.startAngle,source1:(this.clockWise?s:360-q)-this.startAngle,target0:(this.clockWise?r:360-u)-this.startAngle,target1:(this.clockWise?u:360-r)-this.startAngle,brushType:"both",opacity:.5,color:w,lineWidth:k.width,strokeColor:k.color},clickable:!0,highlightStyle:{brushType:"both",lineWidth:h.width,strokeColor:h.color}};l.pack(q,this.chordSeries[p],p,
b[f][n][p],f+"-"+n,this.groups[f].name,this.groups[n].name,b[n][f][p]);q=new m(q);this.chordShapes[f][n][p]=q;this.shapeList.push(q)}}},_buildScales:function(a,c,d,e){for(var h=0;h<d.length;h++){for(var l=d[h][0],m=d[h][1],n=l;n<m;){var q=((this.clockWise?360-n:n)+this.startAngle)/180*Math.PI,r=[Math.cos(q),-Math.sin(q)],q=b.scale([],r,this.outerRadius+1);b.add(q,q,this.center);r=b.scale([],r,this.outerRadius+this.scaleLineLength);b.add(r,r,this.center);q={zlevel:this._zlevelBase-1,hoverable:!1,style:{xStart:q[0],
yStart:q[1],xEnd:r[0],yEnd:r[1],lineCap:"round",brushType:"stroke",strokeColor:"#666",lineWidth:1}};q=new f(q);this.shapeList.push(q);n+=this.scaleUnitAngle}if(this.showScaleText)for(n=k.range(0,a[h],5*e*this.scaleUnitAngle).toArray();l<m;)q=this.clockWise?360-l:l,q=(q+this.startAngle)%360,r=90>=q||270<=q,q={zlevel:this._zlevelBase-1,hoverable:!1,style:{x:r?this.outerRadius+this.scaleLineLength+4:-this.outerRadius-this.scaleLineLength-4,y:0,text:Math.round(10*n.shift())/10+c,textAlign:r?"left":"right"},
position:this.center.slice(),rotation:r?[q/180*Math.PI,0,0]:[(q+180)/180*Math.PI,0,0]},q=new p(q),this.shapeList.push(q),l+=5*this.scaleUnitAngle}},normalizeValue:function(a){var b=[],d=(new k(a)).max(),e,h;1E4<d?(e="k",h=.001):1E7<d?(e="m",h=1E-6):1E10<d?(e="b",h=1E-9):(e="",h=1);for(d=0;d<a.length;d++)b[d]=a[d]*h;return[b,e]},refresh:function(a){a&&(this.option=a,this.series=a.series);this.chordSeries=[];this.strokeFix=0;this.sectorShapes=[];this.chordShapes=[];this.scaleUnitAngle=this.scaleLineLength=
4;if(this.legend=this.component.legend)this.getColor=function(a){return this.legend.getColor(a)},this.isSelected=function(a){return this.legend.isSelected(a)};else{var b={},d={},e=0;this.getColor=function(a){if(d[a])return d[a];void 0===b[a]&&(b[a]=e++);for(var g=0;g<this.chordSeries.length;g++)if(this.chordSeries[g].name===a){d[a]=this.query(this.chordSeries[g],"itemStyle.normal.color");break}if(!d[a])for(var k=this.groups.length,g=0;g<k;g++)if(this.groups[g].name===a){d[a]=this.query(this.groups[g],
"itemStyle.normal.color");break}return d[a]||(d[a]=this.zr.getColor(b[a])),d[a]};this.isSelected=function(){return!0}}this.backupShapeList();this._buildShape()},reformOption:function(a){var b=d.merge;a=b(a||{},this.ecTheme.chord);a.itemStyle.normal.label.textStyle=b(a.itemStyle.normal.label.textStyle||{},this.ecTheme.textStyle)}},d.inherits(q,s),d.inherits(q,r),a("../chart").define("chord",q),q});
define("echarts/chart/forceLayoutWorker",["require","zrender/tool/vector"],function e$$0(q){function r(){this.subRegions=[];this.nSubRegions=0;this.node=null;this.mass=0;this.centerOfMass=null;this.bbox=new n(4);this.size=0}function s(){this.position=e.create();this.force=e.create();this.forcePrev=e.create();this.speed=e.create();this.speedPrev=e.create();this.mass=1;this.outDegree=this.inDegree=0}function p(d,b){this.source=d;this.target=b;this.weight=1}function f(){this.barnesHutOptimize=!1;this.barnesHutTheta=
1.5;this.preventOverlap=this.repulsionByDegree=!1;this.strongGravity=!0;this.edgeWeightInfluence=this.scaling=this.gravity=1;this.center=[0,0];this.height=this.width=500;this.maxSpeedIncrease=1;this.nodes=[];this.edges=[];this.bbox=new n(4);this._rootRegion=new r;this._rootRegion.centerOfMass=e.create();this._massArr=null;this._k=0}var e,m="undefined"==typeof window&&"undefined"==typeof q;m?e={create:function(d,b){var e=new Float32Array(2);return e[0]=d||0,e[1]=b||0,e},dist:function(d,b){var e=b[0]-
d[0],h=b[1]-d[1];return Math.sqrt(e*e+h*h)},len:function(d){var b=d[0];d=d[1];return Math.sqrt(b*b+d*d)},scaleAndAdd:function(d,b,e,h){return d[0]=b[0]+e[0]*h,d[1]=b[1]+e[1]*h,d},scale:function(d,b,e){return d[0]=b[0]*e,d[1]=b[1]*e,d},add:function(d,b,e){return d[0]=b[0]+e[0],d[1]=b[1]+e[1],d},sub:function(d,b,e){return d[0]=b[0]-e[0],d[1]=b[1]-e[1],d},normalize:function(d,b){var e=b[0],h=b[1],e=e*e+h*h;return 0<e&&(e=1/Math.sqrt(e),d[0]=b[0]*e,d[1]=b[1]*e),d},negate:function(d,b){return d[0]=-b[0],
d[1]=-b[1],d},copy:function(d,b){return d[0]=b[0],d[1]=b[1],d},set:function(d,b,e){return d[0]=b,d[1]=e,d}}:e=q("zrender/tool/vector");var n="undefined"==typeof Float32Array?Array:Float32Array;r.prototype.beforeUpdate=function(){for(var d=0;d<this.nSubRegions;d++)this.subRegions[d].beforeUpdate();this.mass=0;this.centerOfMass&&(this.centerOfMass[0]=0,this.centerOfMass[1]=0);this.nSubRegions=0;this.node=null};r.prototype.afterUpdate=function(){this.subRegions.length=this.nSubRegions;for(var d=0;d<
this.nSubRegions;d++)this.subRegions[d].afterUpdate()};r.prototype.addNode=function(d){if(0===this.nSubRegions){if(null==this.node){this.node=d;return}this._addNodeToSubRegion(this.node);this.node=null}this._addNodeToSubRegion(d);this._updateCenterOfMass(d)};r.prototype.findSubRegion=function(d,b){for(var e=0;e<this.nSubRegions;e++){var h=this.subRegions[e];if(h.contain(d,b))return h}};r.prototype.contain=function(d,b){return this.bbox[0]<=d&&this.bbox[2]>=d&&this.bbox[1]<=b&&this.bbox[3]>=b};r.prototype.setBBox=
function(d,b,e,h){this.bbox[0]=d;this.bbox[1]=b;this.bbox[2]=e;this.bbox[3]=h;this.size=(e-d+h-b)/2};r.prototype._newSubRegion=function(){var d=this.subRegions[this.nSubRegions];return d||(d=new r,this.subRegions[this.nSubRegions]=d),this.nSubRegions++,d};r.prototype._addNodeToSubRegion=function(d){var b=this.findSubRegion(d.position[0],d.position[1]),e=this.bbox;if(!b){var h=(e[2]-e[0])/2,g=(e[3]-e[1])/2,c=d.position[0]>=(e[0]+e[2])/2?1:0,f=d.position[1]>=(e[1]+e[3])/2?1:0,b=this._newSubRegion();
b.setBBox(c*h+e[0],f*g+e[1],(c+1)*h+e[0],(f+1)*g+e[1])}b.addNode(d)};r.prototype._updateCenterOfMass=function(d){null==this.centerOfMass&&(this.centerOfMass=e.create());var b=this.centerOfMass[0]*this.mass,k=this.centerOfMass[1]*this.mass,b=b+d.position[0]*d.mass,k=k+d.position[1]*d.mass;this.mass+=d.mass;this.centerOfMass[0]=b/this.mass;this.centerOfMass[1]=k/this.mass};f.prototype.initNodes=function(d,b,e){this.temperature=1;var h=d.length/2;this.nodes.length=0;for(var g="undefined"!=typeof e,c=
0;c<h;c++){var f=new s;f.position[0]=d[2*c];f.position[1]=d[2*c+1];f.mass=b[c];g&&(f.size=e[c]);this.nodes.push(f)}this._massArr=b;g&&(this._sizeArr=e)};f.prototype.initEdges=function(d,b){var e=d.length/2;this.edges.length=0;for(var h="undefined"!=typeof b,g=0;g<e;g++){var c=this.nodes[d[2*g]],f=this.nodes[d[2*g+1]];c&&f&&(c.outDegree++,f.inDegree++,c=new p(c,f),h&&(c.weight=b[g]),this.edges.push(c))}};f.prototype.update=function(){var d=this.nodes.length;this.updateBBox();this._k=.4*this.scaling*
Math.sqrt(this.width*this.height/d);if(this.barnesHutOptimize){this._rootRegion.setBBox(this.bbox[0],this.bbox[1],this.bbox[2],this.bbox[3]);this._rootRegion.beforeUpdate();for(var b=0;b<d;b++)this._rootRegion.addNode(this.nodes[b]);this._rootRegion.afterUpdate()}else{var k=0,h=this._rootRegion.centerOfMass;e.set(h,0,0);for(b=0;b<d;b++){var g=this.nodes[b],k=k+g.mass;e.scaleAndAdd(h,h,g.position,g.mass)}e.scale(h,h,1/k)}for(b=0;b<d;b++)g=this.nodes[b],e.copy(g.forcePrev,g.force),e.copy(g.speedPrev,
g.speed),e.set(g.force,0,0);for(b=0;b<d;b++){g=this.nodes[b];if(this.barnesHutOptimize)this.applyRegionToNodeRepulsion(this._rootRegion,g);else for(k=b+1;k<d;k++)this.applyNodeToNodeRepulsion(g,this.nodes[k],!1);0<this.gravity&&this.applyNodeGravity(g)}for(b=0;b<this.edges.length;b++)this.applyEdgeAttraction(this.edges[b]);k=e.create();for(b=0;b<d;b++){g=this.nodes[b];h=g.speed;e.scale(g.force,g.force,1/30);var c=e.len(g.force)+.1,c=Math.min(c,500)/c;e.scale(g.force,g.force,c);e.add(h,h,g.force);
e.scale(h,h,this.temperature);e.sub(k,h,g.speedPrev);c=e.len(k);if(0<c){e.scale(k,k,1/c);var f=e.len(g.speedPrev);0<f&&(c=Math.min(c/f,this.maxSpeedIncrease)*f,e.scaleAndAdd(h,g.speedPrev,k,c))}c=e.len(h);c=Math.min(c,100)/(c+.1);e.scale(h,h,c);e.add(g.position,g.position,h)}};f.prototype.applyRegionToNodeRepulsion=function(){var d=e.create();return function(b,k){if(b.node)this.applyNodeToNodeRepulsion(b.node,k,!0);else{e.sub(d,k.position,b.centerOfMass);var h=d[0]*d[0]+d[1]*d[1];if(h>this.barnesHutTheta*
b.size*b.size)e.scaleAndAdd(k.force,k.force,d,this._k*this._k*(k.mass+b.mass)/(h+1)*2);else for(h=0;h<b.nSubRegions;h++)this.applyRegionToNodeRepulsion(b.subRegions[h],k)}}}();f.prototype.applyNodeToNodeRepulsion=function(){var d=e.create();return function(b,k,h){if(b!=k){e.sub(d,b.position,k.position);var g=d[0]*d[0]+d[1]*d[1];if(0!==g){var c,f=this._k*this._k,l=b.mass+k.mass;this.preventOverlap?(g=Math.sqrt(g),g=g-b.size-k.size,0<g?c=f*l/(g*g):0>=g&&(c=10*f*l)):c=f*l/g;h||e.scaleAndAdd(b.force,
b.force,d,2*c);e.scaleAndAdd(k.force,k.force,d,2*-c)}}}}();f.prototype.applyEdgeAttraction=function(){var d=e.create();return function(b){var k=b.source,h=b.target;e.sub(d,k.position,h.position);var g=e.len(d),c;0===this.edgeWeightInfluence?c=1:1==this.edgeWeightInfluence?c=b.weight:c=Math.pow(b.weight,this.edgeWeightInfluence);if(this.preventOverlap&&(g=g-k.size-h.size,0>=g))return;b=-c*g/this._k;e.scaleAndAdd(k.force,k.force,d,b);e.scaleAndAdd(h.force,h.force,d,-b)}}();f.prototype.applyNodeGravity=
function(){var d=e.create();return function(b){e.sub(d,this.center,b.position);this.width>this.height?d[1]*=this.width/this.height:d[0]*=this.height/this.width;var k=e.len(d)/100;this.strongGravity?e.scaleAndAdd(b.force,b.force,d,k*this.gravity*b.mass):e.scaleAndAdd(b.force,b.force,d,this.gravity*b.mass/(k+1))}}();f.prototype.updateBBox=function(){for(var d=Infinity,b=Infinity,e=-Infinity,h=-Infinity,g=0;g<this.nodes.length;g++)var c=this.nodes[g].position,d=Math.min(d,c[0]),b=Math.min(b,c[1]),e=
Math.max(e,c[0]),h=Math.max(h,c[1]);this.bbox[0]=d;this.bbox[1]=b;this.bbox[2]=e;this.bbox[3]=h};f.getWorkerCode=function(){var d=e$$0.toString();return d.slice(d.indexOf("{")+1,d.lastIndexOf("return"))};if(m){var l=null;self.onmessage=function(d){if(d.data instanceof ArrayBuffer){if(l)for(var b=new Float32Array(d.data),e=(b.length-1)/2,h=0;h<e;h++)d=l.nodes[h],d.position[0]=b[2*h+1],d.position[1]=b[2*h+2]}else switch(d.data.cmd){case "init":l||(l=new f);l.initNodes(d.data.nodesPosition,d.data.nodesMass,
d.data.nodesSize);l.initEdges(d.data.edges,d.data.edgesWeight);l._token=d.data.token;break;case "updateConfig":if(l)for(b in d.data.config)l[b]=d.data.config[b];break;case "update":var g=d.data.steps;if(l){e=l.nodes.length;b=new Float32Array(2*e+1);l.temperature=d.data.temperature;if(.01<d.data.temperature){for(h=0;h<g;h++)l.update(),l.temperature*=d.data.coolDown;for(h=0;h<e;h++)d=l.nodes[h],b[2*h+1]=d.position[0],b[2*h+2]=d.position[1];b[0]=l._token}self.postMessage(b.buffer,[b.buffer])}else d=
new Float32Array,self.postMessage(d.buffer,[d.buffer])}}}return f});
define("echarts/chart/force","require ../component/base ./base ./forceLayoutWorker zrender/shape/Line ../util/shape/Icon ../config ../util/ecData zrender/tool/util zrender/config zrender/tool/vector ../util/ndarray ../chart".split(" "),function(a){function q(a,b,c,d,g){var h=this;e.call(this,a,b,c,d,g);m.call(this);this.__nodePositionMap={};this._nodeShapes=[];this._linkShapes=[];this._updating=!0;this._rawLinks=this._rawNodes=this._filteredLinks=this._filteredNodes=null;this._steps=1;this._coolDown=
.99;this.ondragstart=function(){r.apply(h,arguments)};this.ondragend=function(){p.apply(h,arguments)};this.ondrop=function(){};this.shapeHandler.ondragstart=function(){h.isDragstart=!0};this.onmousemove=function(){s.apply(h,arguments)};this._init()}function r(a){this.isDragstart&&a.target&&(a.target.fixed=!0,this.isDragstart=!1,this.zr.on(g.EVENT.MOUSEMOVE,this.onmousemove))}function s(){this._temperature=.8}function p(a,b){this.isDragend&&a.target&&(a.target.fixed=!1,b.dragIn=!0,this.isDragend=b.needRefresh=
!1,this.zr.un(g.EVENT.MOUSEMOVE,this.onmousemove))}function f(a,b){for(var c=a.length,d=[],e=0;e<c;e++)b(a[e],e)&&d.push(a[e]);return d}var e=a("../component/base"),m=a("./base"),n=a("./forceLayoutWorker"),l=a("zrender/shape/Line"),d=a("../util/shape/Icon"),b=a("../config"),k=a("../util/ecData"),h=a("zrender/tool/util"),g=a("zrender/config"),c=a("zrender/tool/vector"),t=a("../util/ndarray"),y="undefined"==typeof Float32Array?Array:Float32Array,v=window.requestAnimationFrame||window.msRequestAnimationFrame||
window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(a){setTimeout(a,16)},F;if("undefined"!=typeof Worker&&"undefined"!=typeof Blob)try{var L=new Blob([n.getWorkerCode()]);F=window.URL.createObjectURL(L)}catch(M){F=""}return q.prototype={constructor:q,type:b.CHART_TYPE_FORCE,_init:function(){var a=this;this.clear();this._updating=!0;this._buildShape();if(this._layoutWorker)this._layoutWorker.onmessage=function(b){.01>a._temperature?v(function(){a._step.call(a,b)}):a._step.call(a,
b)},this._layoutWorker.postMessage({cmd:"update",steps:this._steps,temperature:this._temperature,coolDown:this._coolDown});else{var b=function(){a._updating&&(a._step(),v(b))};v(b)}},_buildShape:function(){var a=this.component.legend,c=this.series,d;this._temperature=1;for(var e=this.shapeList.length=0,g=c.length;e<g;e++){var h=c[e];if(h.type===b.CHART_TYPE_FORCE){c[e]=this.reformOption(c[e]);d=c[e].name||"";if(F&&h.useWorker)try{this._layoutWorker||(this._layoutWorker=new Worker(F)),this._layout=
null}catch(k){this._layoutWorker=null,this._layout||(this._layout=new n)}else this._layout||(this._layout=new n),this._layoutWorker&&(this._layoutWorker.terminate(),this._layoutWorker=null);this.selectedMap[d]=a?a.isSelected(d):!0;if(this.selectedMap[d]){this.buildMark(e);c=h.categories;d=0;for(e=c.length;d<e;d++)c[d].name&&(a?this.selectedMap[d]=a.isSelected(c[d].name):this.selectedMap[d]=!0);this._preProcessData(h);this._nodeShapes.length=0;this._linkShapes.length=0;this._buildLinkShapes(h);this._buildNodeShapes(h);
this._initLayout(h);this._updateLinkShapes();this._forceSerie=h;break}}}},_preProcessData:function(a){this._rawNodes=this.query(a,"nodes");this._rawLinks=h.clone(this.query(a,"links"));var b=[],c={},d=0,e=this;this._filteredNodes=f(this._rawNodes,function(a,g){if(a&&!a.ignore){var h=-1;if("undefined"==typeof a.category||e.selectedMap[a.category])h=d++;return a.name&&(c[a.name]=h),b[g]=h,0<=h}});var g,k;this._filteredLinks=f(this._rawLinks,function(a,d){g=a.source;k=a.target;var e=!0,h="string"==typeof g?
c[g]:b[g];"undefined"==typeof h&&(h=-1);0<=h?a.source=h:e=!1;h="string"==typeof k?c[k]:b[k];return"undefined"==typeof h&&(h=-1),0<=h?a.target=h:e=!1,a.rawIndex=d,e})},_initLayout:function(a){var b=this._filteredNodes,d=this._filteredLinks,e=this._nodeShapes,g=b.length,k=this.query(a,"minRadius"),f=this.query(a,"maxRadius");this._steps=a.steps||1;this._coolDown=a.coolDown||.99;for(var l=this.parseCenter(this.zr,a.center),m=this.parsePercent(a.size,this.zr.getWidth()),n=this.parsePercent(a.size,this.zr.getHeight()),
p=Math.min(m,n),q=[],r=0;r<g;r++){var s=b[r];q.push(s.value||1)}r=new t(q);q=r.map(k,f).toArray();s=r.max();if(0!==s){k=r.mul(1/s,r).toArray();f=new y(2*g);for(r=0;r<g;r++){var v,s=b[r];if("undefined"!=typeof this.__nodePositionMap[s.name])v=c.create(),c.copy(v,this.__nodePositionMap[s.name]);else if("undefined"!=typeof s.initial)v=Array.prototype.slice.call(s.initial);else{s=l[0];v=l[1];var F=.8*p;v=[(Math.random()-.5)*F+s,(Math.random()-.5)*F+v]}s=e[r].style;s.width=s.width||2*q[r];s.height=s.height||
2*q[r];s.x=-s.width/2;s.y=-s.height/2;e[r].position=v;f[2*r]=v[0];f[2*r+1]=v[1]}g=d.length;b=new y(2*g);e=new y(g);for(r=0;r<g;r++)s=d[r],b[2*r]=s.source,b[2*r+1]=s.target,e[r]=s.weight||1;r=new t(e);s=r.max();0!==s&&(e=r.mul(1/s,r)._array,a={center:l,width:a.ratioScaling?m:p,height:a.ratioScaling?n:p,scaling:a.scaling||1,gravity:a.gravity||1,barnesHutOptimize:a.large},this._layoutWorker?(this._token=Math.round((new Date).getTime()/100)%1E7,this._layoutWorker.postMessage({cmd:"init",nodesPosition:f,
nodesMass:k,nodesSize:q,edges:b,edgesWeight:e,token:this._token}),this._layoutWorker.postMessage({cmd:"updateConfig",config:a})):(h.merge(this._layout,a,!0),this._layout.initNodes(f,k,q),this._layout.initEdges(b,e)))}},_buildNodeShapes:function(a){for(var b=this.query(a,"categories"),c=this._filteredNodes,e=c.length,g=this.component.legend,f=0;f<e;f++){var l=c[f],m=new d({style:{x:0,y:0},clickable:!0,highlightStyle:{}}),n=[],p=[],q=[];n.push(l);l.itemStyle&&(p.push(l.itemStyle.normal),q.push(l.itemStyle.emphasis));
if("undefined"!=typeof l.category){var r=b[l.category];r&&(r.itemStyle=r.itemStyle||{},r.itemStyle.normal=r.itemStyle.normal||{},r.itemStyle.normal.color=r.itemStyle.normal.color||g.getColor(r.name),n.push(r),p.unshift(r.itemStyle.normal),q.unshift(r.itemStyle.emphasis))}n.push(a);p.unshift(a.itemStyle.normal.nodeStyle);q.unshift(a.itemStyle.emphasis.nodeStyle);m.style.iconType=this.deepQuery(n,"symbol");m.style.width=m.style.height=2*(this.deepQuery(n,"symbolSize")||0);for(r=0;r<p.length;r++)p[r]&&
h.merge(m.style,p[r],!0);for(r=0;r<q.length;r++)q[r]&&h.merge(m.highlightStyle,q[r],!0);this.deepQuery(n,"itemStyle.normal.label.show")&&(m.style.text=l.name,m.style.textPosition="inside",p=this.deepQuery(n,"itemStyle.normal.label.textStyle")||{},m.style.textColor=p.color||"#fff",m.style.textAlign=p.align||"center",m.style.textBaseline=p.baseline||"middle",m.style.textFont=this.getFont(p));this.deepQuery(n,"itemStyle.emphasis.label.show")&&(m.highlightStyle.text=l.name,m.highlightStyle.textPosition=
"inside",p=this.deepQuery(n,"itemStyle.emphasis.label.textStyle")||{},m.highlightStyle.textColor=p.color||"#fff",m.highlightStyle.textAlign=p.align||"center",m.highlightStyle.textBaseline=p.baseline||"middle",m.highlightStyle.textFont=this.getFont(p));this.deepQuery(n,"draggable")&&(this.setCalculable(m),m.dragEnableTime=0,m.draggable=!0,m.ondragstart=this.shapeHandler.ondragstart,m.ondragover=null);n="";"undefined"!=typeof l.category&&(n=(r=b[l.category])&&r.name||"");k.pack(m,{name:n},0,l,h.indexOf(this._rawNodes,
l),l.name||"",l.value);this._nodeShapes.push(m);this.shapeList.push(m);this.zr.addShape(m)}},_buildLinkShapes:function(a){for(var b=this._filteredNodes,c=this._filteredLinks,e=c.length,g=0;g<e;g++){var f=c[g],m=b[f.source],n=b[f.target],p=new l({style:{xStart:0,yStart:0,xEnd:0,yEnd:0,lineWidth:1},clickable:!0,highlightStyle:{}});h.merge(p.style,this.query(a,"itemStyle.normal.linkStyle"),!0);h.merge(p.highlightStyle,this.query(a,"itemStyle.emphasis.linkStyle"),!0);"undefined"!=typeof f.itemStyle&&
(f.itemStyle.normal&&h.merge(p.style,f.itemStyle.normal,!0),f.itemStyle.emphasis&&h.merge(p.highlightStyle,f.itemStyle.emphasis,!0));f=this._rawLinks[f.rawIndex];k.pack(p,a,0,{source:f.source,target:f.target,weight:f.weight||0},f.rawIndex,m.name+" - "+n.name,f.weight||0,!0);this._linkShapes.push(p);this.shapeList.push(p);this.zr.addShape(p);a.linkSymbol&&"none"!==a.linkSymbol&&(f=new d({style:{x:-5,y:0,width:a.linkSymbolSize[0],height:a.linkSymbolSize[1],iconType:a.linkSymbol,brushType:"fill",color:p.style.strokeColor,
opacity:p.style.opacity,shadowBlur:p.style.shadowBlur,shadowColor:p.style.shadowColor,shadowOffsetX:p.style.shadowOffsetX,shadowOffsetY:p.style.shadowOffsetY},highlightStyle:{brushType:"fill"},position:[0,0],rotation:0}),p._symbolShape=f,this.shapeList.push(f),this.zr.addShape(f))}},_updateLinkShapes:function(){for(var a=c.create(),b=this._filteredLinks,d=0,e=b.length;d<e;d++){var g=b[d],h=this._linkShapes[d],f=this._nodeShapes[g.source],g=this._nodeShapes[g.target];h.style.xStart=f.position[0];h.style.yStart=
f.position[1];h.style.xEnd=g.position[0];h.style.yEnd=g.position[1];this.zr.modShape(h.id);if(h._symbolShape){h=h._symbolShape;c.copy(h.position,g.position);c.sub(a,f.position,g.position);c.normalize(a,a);c.scaleAndAdd(h.position,h.position,a,g.style.width/2+2);var k;0>a[1]?k=2*Math.PI-Math.acos(-a[0]):k=Math.acos(-a[0]);h.rotation=k-Math.PI/2;this.zr.modShape(h.id)}}},_update:function(a){this._layout.temperature=this._temperature;this._layout.update();for(a=0;a<this._layout.nodes.length;a++){var b=
this._layout.nodes[a].position,d=this._nodeShapes[a],e=this._filteredNodes[a];d.fixed||e.fixX&&e.fixY?c.copy(b,d.position):e.fixX?(b[0]=d.position[0],d.position[1]=b[1]):e.fixY?(b[1]=d.position[1],d.position[0]=b[0]):c.copy(d.position,b);if(d=e.name)(e=this.__nodePositionMap[d])||(e=this.__nodePositionMap[d]=c.create()),c.copy(e,b)}this._temperature*=this._coolDown},_updateWorker:function(a){if(this._updating){a=new Float32Array(a.data);var b=a[0]===this._token;if(b){for(var d=(a.length-1)/2,e=0;e<
d;e++){var g=this._nodeShapes[e],h=this._filteredNodes[e],f=a[2*e+1],k=a[2*e+2];g.fixed||h.fixX&&h.fixY?(a[2*e+1]=g.position[0],a[2*e+2]=g.position[1]):h.fixX?(a[2*e+1]=g.position[0],g.position[1]=k):h.fixY?(a[2*e+2]=g.position[1],g.position[0]=f):(g.position[0]=f,g.position[1]=k);if(h=h.name)(f=this.__nodePositionMap[h])||(f=this.__nodePositionMap[h]=c.create()),c.copy(f,g.position)}this._layoutWorker.postMessage(a.buffer,[a.buffer])}this._layoutWorker.postMessage({cmd:"update",steps:this._steps,
temperature:this._temperature,coolDown:this._coolDown});for(e=0;e<this._steps;e++)this._temperature*=this._coolDown;return b}},_step:function(a){if(this._layoutWorker){if(!this._updateWorker(a))return}else{if(.01>this._temperature)return;this._update()}this._updateLinkShapes();for(a=0;a<this._nodeShapes.length;a++)this.zr.modShape(this._nodeShapes[a].id);this.zr.refresh()},refresh:function(a){a&&(this.option=a,this.series=this.option.series);this.clear();this._buildShape()},dispose:function(){this._updating=
!1;this.clear();this.effectList=this.shapeList=null;this._layoutWorker&&this._layoutWorker.terminate();this._layoutWorker=null;this.__nodePositionMap={}}},h.inherits(q,m),h.inherits(q,e),a("../chart").define("force",q),q});
define("echarts/util/shape/HalfSmoothPolygon",["require","zrender/shape/Base","zrender/shape/util/smoothBezier","zrender/tool/util","zrender/shape/Polygon"],function(a){function q(a){r.call(this,a)}var r=a("zrender/shape/Base"),s=a("zrender/shape/util/smoothBezier"),p=a("zrender/tool/util");return q.prototype={type:"half-smooth-polygon",buildPath:function(f,e){var m=e.pointList;if(!(2>m.length))if(e.smooth){var n=s(m.slice(0,-2),e.smooth);f.moveTo(m[0][0],m[0][1]);for(var l,d,b,k=m.length,h=0;h<k-
3;h++)l=n[2*h],d=n[2*h+1],b=m[h+1],f.bezierCurveTo(l[0],l[1],d[0],d[1],b[0],b[1]);f.lineTo(m[k-2][0],m[k-2][1]);f.lineTo(m[k-1][0],m[k-1][1]);f.lineTo(m[0][0],m[0][1])}else a("zrender/shape/Polygon").prototype.buildPath(f,e)}},p.inherits(q,r),q});
define("echarts/chart/line","require ../component/base ./base zrender/shape/BrokenLine ../util/shape/Icon ../util/shape/HalfSmoothPolygon ../component/axis ../component/grid ../component/dataZoom ../config ../util/ecData zrender/tool/util zrender/tool/color ../chart".split(" "),function(a){function q(a,d,e,g,c){r.call(this,a,d,e,g,c);s.call(this);this.refresh(g)}var r=a("../component/base"),s=a("./base"),p=a("zrender/shape/BrokenLine"),f=a("../util/shape/Icon"),e=a("../util/shape/HalfSmoothPolygon");
a("../component/axis");a("../component/grid");a("../component/dataZoom");var m=a("../config"),n=a("../util/ecData"),l=a("zrender/tool/util"),d=a("zrender/tool/color");return q.prototype={type:m.CHART_TYPE_LINE,_buildShape:function(){var a=this.series;this.finalPLMap={};this._sIndex2ColorMap={};this._symbol=this.option.symbolList;this._sIndex2ShapeMap={};this.selectedMap={};this.xMarkMap={};for(var d={top:[],bottom:[],left:[],right:[]},e,g,c,f,l=0,n=a.length;l<n;l++)a[l].type==this.type&&(a[l]=this.reformOption(a[l]),
e=a[l].xAxisIndex,g=a[l].yAxisIndex,c=this.component.xAxis.getAxis(e),f=this.component.yAxis.getAxis(g),c.type==m.COMPONENT_TYPE_AXIS_CATEGORY?d[c.getPosition()].push(l):f.type==m.COMPONENT_TYPE_AXIS_CATEGORY&&d[f.getPosition()].push(l));for(var p in d)0<d[p].length&&this._buildSinglePosition(p,d[p]);this.addShapeList()},_buildSinglePosition:function(a,d){var e=this._mapData(d),g=e.locationMap,e=e.maxDataLength;if(0!==e&&0!==g.length){switch(a){case "bottom":case "top":this._buildHorizontal(d,e,g,
this.xMarkMap);break;case "left":case "right":this._buildVertical(d,e,g,this.xMarkMap)}g=0;for(e=d.length;g<e;g++)this.buildMark(d[g])}},_mapData:function(a){for(var d=this.series,e,g=0,c={},f,l,m=this.component.legend,n=[],p=0,q,r=0,s=a.length;r<s;r++)e=d[a[r]],l=e.name,this._sIndex2ShapeMap[a[r]]=this._sIndex2ShapeMap[a[r]]||this.query(e,"symbol")||this._symbol[r%this._symbol.length],m?(this.selectedMap[l]=m.isSelected(l),this._sIndex2ColorMap[a[r]]=m.getColor(l),q=m.getItemShape(l),q&&(q.style.iconType=
"legendLineIcon",q.style.symbol=this._sIndex2ShapeMap[a[r]],m.setItemShape(l,q))):(this.selectedMap[l]=!0,this._sIndex2ColorMap[a[r]]=this.zr.getColor(a[r])),this.selectedMap[l]&&(f=e.stack||"__kener__stack__"+a[r],"undefined"==typeof c[f]?(c[f]=g,n[g]=[a[r]],g++):n[c[f]].push(a[r])),p=Math.max(p,e.data.length);return{locationMap:n,maxDataLength:p}},_buildHorizontal:function(a,d,e,g){for(var c=this.series,f=e[0][0],l=c[f],m=this.component.xAxis.getAxis(l.xAxisIndex),n,p,q,r,s,B,C,u={},w,x,z=0;z<d&&
"undefined"!=typeof m.getNameByIndex(z);z++){p=m.getCoordByIndex(z);for(var D=0,I=e.length;D<I;D++){f=c[e[D][0]].yAxisIndex||0;n=this.component.yAxis.getAxis(f);s=r=C=B=n.getCoord(0);for(var H=0,J=e[D].length;H<J;H++)f=e[D][H],l=c[f],w=l.data[z],x="undefined"!=typeof w?"undefined"!=typeof w.value?w.value:w:"-",u[f]=u[f]||[],g[f]=g[f]||{min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY,sum:0,counter:0,average:0},"-"==x?0<u[f].length&&(this.finalPLMap[f]=this.finalPLMap[f]||[],this.finalPLMap[f].push(u[f]),
u[f]=[]):(0<=x?(r-=0<H?n.getCoordSize(x):s-n.getCoord(x),q=r):0>x&&(B+=0<H?n.getCoordSize(x):n.getCoord(x)-C,q=B),u[f].push([p,q,z,m.getNameByIndex(z),p,s]),g[f].min>x&&(g[f].min=x,g[f].minY=q,g[f].minX=p),g[f].max<x&&(g[f].max=x,g[f].maxY=q,g[f].maxX=p),g[f].sum+=x,g[f].counter++)}r=this.component.grid.getY();for(var G,D=0,I=e.length;D<I;D++)for(H=0,J=e[D].length;H<J;H++)f=e[D][H],l=c[f],w=l.data[z],x="undefined"!=typeof w?"undefined"!=typeof w.value?w.value:w:"-","-"==x&&this.deepQuery([w,l,this.option],
"calculable")&&(G=this.deepQuery([w,l],"symbolSize"),r+=2*G+5,q=r,this.shapeList.push(this._getCalculableItem(f,z,m.getNameByIndex(z),p,q,"horizontal")))}for(var K in u)0<u[K].length&&(this.finalPLMap[K]=this.finalPLMap[K]||[],this.finalPLMap[K].push(u[K]),u[K]=[]);D=0;for(I=e.length;D<I;D++)for(H=0,J=e[D].length;H<J;H++)f=e[D][H],0<g[f].counter&&(g[f].average=(g[f].sum/g[f].counter).toFixed(2)-0),q=this.component.yAxis.getAxis(c[f].yAxisIndex||0).getCoord(g[f].average),g[f].averageLine=[[this.component.grid.getX(),
q],[this.component.grid.getXend(),q]],g[f].minLine=[[this.component.grid.getX(),g[f].minY],[this.component.grid.getXend(),g[f].minY]],g[f].maxLine=[[this.component.grid.getX(),g[f].maxY],[this.component.grid.getXend(),g[f].maxY]];this._buildBorkenLine(a,this.finalPLMap,m,"horizontal")},_buildVertical:function(a,d,e,g){for(var c=this.series,f=e[0][0],l=c[f],m=this.component.yAxis.getAxis(l.yAxisIndex),n,p,q,r,s,B,C,u={},w,x,z=0;z<d&&"undefined"!=typeof m.getNameByIndex(z);z++){q=m.getCoordByIndex(z);
for(var D=0,I=e.length;D<I;D++){f=c[e[D][0]].xAxisIndex||0;n=this.component.xAxis.getAxis(f);s=r=C=B=n.getCoord(0);for(var H=0,J=e[D].length;H<J;H++)f=e[D][H],l=c[f],w=l.data[z],x="undefined"!=typeof w?"undefined"!=typeof w.value?w.value:w:"-",u[f]=u[f]||[],g[f]=g[f]||{min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY,sum:0,counter:0,average:0},"-"==x?0<u[f].length&&(this.finalPLMap[f]=this.finalPLMap[f]||[],this.finalPLMap[f].push(u[f]),u[f]=[]):(0<=x?(r+=0<H?n.getCoordSize(x):n.getCoord(x)-
s,p=r):0>x&&(B-=0<H?n.getCoordSize(x):C-n.getCoord(x),p=B),u[f].push([p,q,z,m.getNameByIndex(z),s,q]),g[f].min>x&&(g[f].min=x,g[f].minX=p,g[f].minY=q),g[f].max<x&&(g[f].max=x,g[f].maxX=p,g[f].maxY=q),g[f].sum+=x,g[f].counter++)}r=this.component.grid.getXend();for(var G,D=0,I=e.length;D<I;D++)for(H=0,J=e[D].length;H<J;H++)f=e[D][H],l=c[f],w=l.data[z],x="undefined"!=typeof w?"undefined"!=typeof w.value?w.value:w:"-","-"==x&&this.deepQuery([w,l,this.option],"calculable")&&(G=this.deepQuery([w,l],"symbolSize"),
r-=2*G+5,p=r,this.shapeList.push(this._getCalculableItem(f,z,m.getNameByIndex(z),p,q,"vertical")))}for(var K in u)0<u[K].length&&(this.finalPLMap[K]=this.finalPLMap[K]||[],this.finalPLMap[K].push(u[K]),u[K]=[]);D=0;for(I=e.length;D<I;D++)for(H=0,J=e[D].length;H<J;H++)f=e[D][H],0<g[f].counter&&(g[f].average=(g[f].sum/g[f].counter).toFixed(2)-0),p=this.component.xAxis.getAxis(c[f].xAxisIndex||0).getCoord(g[f].average),g[f].averageLine=[[p,this.component.grid.getYend()],[p,this.component.grid.getY()]],
g[f].minLine=[[g[f].minX,this.component.grid.getYend()],[g[f].minX,this.component.grid.getY()]],g[f].maxLine=[[g[f].maxX,this.component.grid.getYend()],[g[f].maxX,this.component.grid.getY()]];this._buildBorkenLine(a,this.finalPLMap,m,"vertical")},_buildBorkenLine:function(a,f,h,g){for(var c=this.series,m,q,r,s,L,M,E,A,B,C,u,w,x,z=a.length-1;0<=z;z--)if(x=a[z],A=c[x],C=f[x],A.type==this.type&&"undefined"!=typeof C){m=this._sIndex2ColorMap[x];q=this.query(A,"itemStyle.normal.lineStyle.width");r=this.query(A,
"itemStyle.normal.lineStyle.type");s=this.query(A,"itemStyle.normal.lineStyle.color");L=this.getItemStyleColor(this.query(A,"itemStyle.normal.color"),x,-1);M="undefined"!=typeof this.query(A,"itemStyle.normal.areaStyle");E=this.query(A,"itemStyle.normal.areaStyle.color");for(var D=0,I=C.length;D<I;D++){u=C[D];if(B=this._isLarge(g,u))u=this._getLargePointList(g,u);else for(var H=0,J=u.length;H<J;H++)B=A.data[u[H][2]],(this.deepQuery([B,A],"showAllSymbol")||h.isMainAxis(u[H][2])&&"none"!=this.deepQuery([B,
A],"symbol")||this.deepQuery([B,A,this.option],"calculable"))&&this.shapeList.push(this._getSymbol(x,u[H][2],u[H][3],u[H][0],u[H][1],g));B=new p({zlevel:this._zlevelBase,style:{miterLimit:q,pointList:u,strokeColor:s||L||m,lineWidth:q,lineType:r,smooth:this._getSmooth(A.smooth),shadowColor:this.query(A,"itemStyle.normal.lineStyle.shadowColor"),shadowBlur:this.query(A,"itemStyle.normal.lineStyle.shadowBlur"),shadowOffsetX:this.query(A,"itemStyle.normal.lineStyle.shadowOffsetX"),shadowOffsetY:this.query(A,
"itemStyle.normal.lineStyle.shadowOffsetY")},hoverable:!1,_main:!0,_seriesIndex:x,_orient:g});n.pack(B,c[x],x,0,D,c[x].name);this.shapeList.push(B);M&&(w=new e({zlevel:this._zlevelBase,style:{miterLimit:q,pointList:l.clone(u).concat([[u[u.length-1][4],u[u.length-1][5]],[u[0][4],u[0][5]]]),brushType:"fill",smooth:this._getSmooth(A.smooth),color:E?E:d.alpha(m,.5)},hoverable:!1,_main:!0,_seriesIndex:x,_orient:g}),n.pack(w,c[x],x,0,D,c[x].name),this.shapeList.push(w))}}},_isLarge:function(a,d){return 2>
d.length?!1:"horizontal"==a?.5>Math.abs(d[0][0]-d[1][0]):.5>Math.abs(d[0][1]-d[1][1])},_getLargePointList:function(a,d){var e;"horizontal"==a?e=this.component.grid.getWidth():e=this.component.grid.getHeight();for(var g=d.length,c=[],f=0;f<e;f++)c[f]=d[Math.floor(g/e*f)];return c},_getSmooth:function(a){return a?.3:0},_getCalculableItem:function(a,d,e,g,c,f){var l=this.series[a].calculableHolderColor||this.ecTheme.calculableHolderColor;a=this._getSymbol(a,d,e,g,c,f);return a.style.color=l,a.style.strokeColor=
l,a.rotation=[0,0],a.hoverable=!1,a.draggable=!1,a.style.text=void 0,a},_getSymbol:function(a,d,e,g,c,f){var l=this.series[a],m=l.data[d];a=this.getSymbolShape(l,a,m,d,e,g,c,this._sIndex2ShapeMap[a],this._sIndex2ColorMap[a],"#fff","vertical"==f?"horizontal":"vertical");return a.zlevel=this._zlevelBase+1,this.deepQuery([m,l,this.option],"calculable")&&(this.setCalculable(a),a.draggable=!0),a},getMarkCoord:function(a,d){var e=this.series[a],g=this.xMarkMap[a],c=this.component.xAxis.getAxis(e.xAxisIndex),
e=this.component.yAxis.getAxis(e.yAxisIndex);return!d.type||"max"!=d.type&&"min"!=d.type&&"average"!=d.type?["string"!=typeof d.xAxis&&c.getCoordByIndex?c.getCoordByIndex(d.xAxis||0):c.getCoord(d.xAxis||0),"string"!=typeof d.yAxis&&e.getCoordByIndex?e.getCoordByIndex(d.yAxis||0):e.getCoord(d.yAxis||0)]:[g[d.type+"X"],g[d.type+"Y"],g[d.type+"Line"],g[d.type]]},refresh:function(a){a&&(this.option=a,this.series=a.series);this.backupShapeList();this._buildShape()},ontooltipHover:function(a,d){for(var e=
a.seriesIndex,g=a.dataIndex,c,f,l=e.length;l--;)if(c=this.finalPLMap[e[l]])for(var m=0,n=c.length;m<n;m++){f=c[m];for(var p=0,q=f.length;p<q;p++)g==f[p][2]&&d.push(this._getSymbol(e[l],f[p][2],f[p][3],f[p][0],f[p][1],"horizontal"))}},addDataAnimation:function(a){for(var d=this.series,e={},g=0,c=a.length;g<c;g++)e[a[g][0]]=a[g];for(var f,l,m,n,p,g=this.shapeList.length-1;0<=g;g--)if(m=this.shapeList[g]._seriesIndex,e[m]&&!e[m][3]){if(this.shapeList[g]._main&&1<this.shapeList[g].style.pointList.length)n=
this.shapeList[g].style.pointList,a=Math.abs(n[0][0]-n[1][0]),c=Math.abs(n[0][1]-n[1][1]),p="horizontal"==this.shapeList[g]._orient,e[m][2]?("polygon"==this.shapeList[g].type&&(m=n.length,this.shapeList[g].style.pointList[m-3]=n[m-2],p?this.shapeList[g].style.pointList[m-3][0]=n[m-4][0]:this.shapeList[g].style.pointList[m-3][1]=n[m-4][1],this.shapeList[g].style.pointList[m-2]=n[m-1]),this.shapeList[g].style.pointList.pop(),p?(f=a,l=0):(f=0,l=-c)):(this.shapeList[g].style.pointList.shift(),"polygon"==
this.shapeList[g].type&&(m=this.shapeList[g].style.pointList.pop(),p?m[0]=n[0][0]:m[1]=n[0][1],this.shapeList[g].style.pointList.push(m)),p?(f=-a,l=0):(f=0,l=c)),this.zr.modShape(this.shapeList[g].id,{style:{pointList:this.shapeList[g].style.pointList}},!0);else{if(e[m][2]&&this.shapeList[g]._dataIndex==d[m].data.length-1){this.zr.delShape(this.shapeList[g].id);continue}if(!e[m][2]&&0===this.shapeList[g]._dataIndex){this.zr.delShape(this.shapeList[g].id);continue}}this.shapeList[g].position=[0,0];
this.zr.animate(this.shapeList[g].id,"").when(500,{position:[f,l]}).start()}}},f.prototype.iconLibrary.legendLineIcon=function(a,d){var e=d.x,g=d.y,c=d.width,l=d.height,m=l/2;d.symbol.match("empty")&&(a.fillStyle="#fff");d.brushType="both";var n=d.symbol.replace("empty","").toLowerCase();if(n.match("star"))m=n.replace("star","")-0||5,--g,n="star";else if("rectangle"==n||"arrow"==n)e+=(c-l)/2,c=l;var p="";n.match("image")&&(p=n.replace(/^image:\/\//,""),n="image",e+=Math.round((c-l)/2)-1,c=l+=2);if(n=
f.prototype.iconLibrary[n]){var q=d.x,r=d.y;a.moveTo(q,r+m);a.lineTo(q+5,r+m);a.moveTo(q+d.width-5,r+m);a.lineTo(q+d.width,r+m);n(a,{x:e+4,y:g+4,width:c-8,height:l-8,n:m,image:p})}else a.moveTo(e,g+m),a.lineTo(e+c,g+m)},l.inherits(q,s),l.inherits(q,r),a("../chart").define("line",q),q});
define("echarts/chart/bar","require ../component/base ./base zrender/shape/Rectangle ../component/axis ../component/grid ../component/dataZoom ../config ../util/ecData zrender/tool/util zrender/tool/color ../chart".split(" "),function(a){function q(a,d,b,e,f){r.call(this,a,d,b,e,f);s.call(this);this.refresh(e)}var r=a("../component/base"),s=a("./base"),p=a("zrender/shape/Rectangle");a("../component/axis");a("../component/grid");a("../component/dataZoom");var f=a("../config"),e=a("../util/ecData"),
m=a("zrender/tool/util"),n=a("zrender/tool/color");return q.prototype={type:f.CHART_TYPE_BAR,_buildShape:function(){var a=this.series;this.selectedMap={};this.xMarkMap={};this._sIndex2colorMap={};for(var d={top:[],bottom:[],left:[],right:[]},b,e,h,g,c=0,m=a.length;c<m;c++)a[c].type==f.CHART_TYPE_BAR&&(a[c]=this.reformOption(a[c]),b=a[c].xAxisIndex,e=a[c].yAxisIndex,h=this.component.xAxis.getAxis(b),g=this.component.yAxis.getAxis(e),h.type==f.COMPONENT_TYPE_AXIS_CATEGORY?d[h.getPosition()].push(c):
g.type==f.COMPONENT_TYPE_AXIS_CATEGORY&&d[g.getPosition()].push(c));for(var n in d)0<d[n].length&&this._buildSinglePosition(n,d[n],this.xMarkMap);this.addShapeList()},_buildSinglePosition:function(a,d,b){var e=this._mapData(d),f=e.locationMap,e=e.maxDataLength;if(0!==e&&0!==f.length)switch(a){case "bottom":case "top":this._buildHorizontal(e,f,d,b);break;case "left":case "right":this._buildVertical(e,f,d,b)}},_mapData:function(a){for(var d=this.series,b,e=0,f={},g,c,m=this.component.legend,n=[],p=
0,q,r=0,s=a.length;r<s;r++)b=d[a[r]],c=b.name,m?(this.selectedMap[c]=m.isSelected(c),this._sIndex2colorMap[a[r]]=m.getColor(c),q=m.getItemShape(c),q&&(0<b.itemStyle.normal.borderWidth&&(q.style.x+=1,q.style.y+=1,q.style.width-=2,q.style.height-=2,q.style.strokeColor=q.highlightStyle.strokeColor=b.itemStyle.normal.borderColor,q.highlightStyle.lineWidth=3,q.style.brushType="both"),m.setItemShape(c,q))):(this.selectedMap[c]=!0,this._sIndex2colorMap[a[r]]=this.zr.getColor(a[r])),this.selectedMap[c]&&
(g=b.stack||"__kener__stack__"+a[r],"undefined"==typeof f[g]?(f[g]=e,n[e]=[a[r]],e++):n[f[g]].push(a[r])),p=Math.max(p,b.data.length);return{locationMap:n,maxDataLength:p}},_buildHorizontal:function(a,d,b,e){b=this.series;for(var f=d[0][0],g=b[f],c=this.component.xAxis.getAxis(g.xAxisIndex),m,n=this._mapSize(c,d),q=n.gap,r=n.barGap,s=n.barWidthMap,M=n.barWidth,E=n.barMinHeightMap,A,n=n.interval,B,C,u,w,x,z,D,I,H,J=0;J<a&&"undefined"!=typeof c.getNameByIndex(J);J++){B=c.getCoordByIndex(J)-q/2;for(var G=
0,K=d.length;G<K;G++){g=b[d[G][0]].yAxisIndex||0;m=this.component.yAxis.getAxis(g);w=u=z=x=m.getCoord(0);for(var N=0,O=d[G].length;N<O;N++)f=d[G][N],g=b[f],I=g.data[J],H="undefined"!=typeof I?"undefined"!=typeof I.value?I.value:I:"-",e[f]=e[f]||{min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY,sum:0,counter:0,average:0},"-"!=H&&(0<H?(A=0<N?m.getCoordSize(H):w-m.getCoord(H),1==O&&E[f]>A&&(A=E[f]),u-=A,C=u):0>H?(A=0<N?m.getCoordSize(H):m.getCoord(H)-z,1==O&&E[f]>A&&(A=E[f]),C=x,x+=A):(A=0,
u-=A,C=u),e[f][J]=B+(s[f]||M)/2,e[f].min>H&&(e[f].min=H,e[f].minY=C,e[f].minX=e[f][J]),e[f].max<H&&(e[f].max=H,e[f].maxY=C,e[f].maxX=e[f][J]),e[f].sum+=H,e[f].counter++,0===J%n&&(D=this._getBarItem(f,J,c.getNameByIndex(J),B,C,s[f]||M,A,"vertical"),this.shapeList.push(new p(D))));N=0;for(O=d[G].length;N<O;N++)f=d[G][N],g=b[f],I=g.data[J],H="undefined"!=typeof I?"undefined"!=typeof I.value?I.value:I:"-","-"==H&&this.deepQuery([I,g,this.option],"calculable")&&(u-=this.ecTheme.island.r,C=u,D=this._getBarItem(f,
J,c.getNameByIndex(J),B+.5,C+.5,(s[f]||M)-1,this.ecTheme.island.r-1,"vertical"),D.hoverable=!1,D.draggable=!1,D.style.lineWidth=1,D.style.brushType="stroke",D.style.strokeColor=g.calculableHolderColor||this.ecTheme.calculableHolderColor,this.shapeList.push(new p(D)));B+=(s[f]||M)+r}}G=0;for(K=d.length;G<K;G++)for(N=0,O=d[G].length;N<O;N++)f=d[G][N],0<e[f].counter&&(e[f].average=(e[f].sum/e[f].counter).toFixed(2)-0),C=this.component.yAxis.getAxis(b[f].yAxisIndex||0).getCoord(e[f].average),e[f].averageLine=
[[this.component.grid.getX(),C],[this.component.grid.getXend(),C]],e[f].minLine=[[this.component.grid.getX(),e[f].minY],[this.component.grid.getXend(),e[f].minY]],e[f].maxLine=[[this.component.grid.getX(),e[f].maxY],[this.component.grid.getXend(),e[f].maxY]],e[f].isHorizontal=!0,this.buildMark(f)},_buildVertical:function(a,d,b,e){b=this.series;for(var f=d[0][0],g=b[f],c=this.component.yAxis.getAxis(g.yAxisIndex),m,n=this._mapSize(c,d),q=n.gap,r=n.barGap,s=n.barWidthMap,M=n.barWidth,E=n.barMinHeightMap,
A,n=n.interval,B,C,u,w,x,z,D,I,H,J=0;J<a&&"undefined"!=typeof c.getNameByIndex(J);J++){C=c.getCoordByIndex(J)+q/2;for(var G=0,K=d.length;G<K;G++){g=b[d[G][0]].xAxisIndex||0;m=this.component.xAxis.getAxis(g);w=u=z=x=m.getCoord(0);for(var N=0,O=d[G].length;N<O;N++)f=d[G][N],g=b[f],I=g.data[J],H="undefined"!=typeof I?"undefined"!=typeof I.value?I.value:I:"-",e[f]=e[f]||{min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY,sum:0,counter:0,average:0},"-"!=H&&(0<H?(A=0<N?m.getCoordSize(H):m.getCoord(H)-
w,1==O&&E[f]>A&&(A=E[f]),B=u,u+=A):0>H?(A=0<N?m.getCoordSize(H):z-m.getCoord(H),1==O&&E[f]>A&&(A=E[f]),x-=A,B=x):(A=0,B=u,u+=A),e[f][J]=C-(s[f]||M)/2,e[f].min>H&&(e[f].min=H,e[f].minX=B+A,e[f].minY=e[f][J]),e[f].max<H&&(e[f].max=H,e[f].maxX=B+A,e[f].maxY=e[f][J]),e[f].sum+=H,e[f].counter++,0===J%n&&(D=this._getBarItem(f,J,c.getNameByIndex(J),B,C-(s[f]||M),A,s[f]||M,"horizontal"),this.shapeList.push(new p(D))));N=0;for(O=d[G].length;N<O;N++)f=d[G][N],g=b[f],I=g.data[J],H="undefined"!=typeof I?"undefined"!=
typeof I.value?I.value:I:"-","-"==H&&this.deepQuery([I,g,this.option],"calculable")&&(B=u,u+=this.ecTheme.island.r,D=this._getBarItem(f,J,c.getNameByIndex(J),B+.5,C+.5-(s[f]||M),this.ecTheme.island.r-1,(s[f]||M)-1,"horizontal"),D.hoverable=!1,D.draggable=!1,D.style.lineWidth=1,D.style.brushType="stroke",D.style.strokeColor=g.calculableHolderColor||this.ecTheme.calculableHolderColor,this.shapeList.push(new p(D)));C-=(s[f]||M)+r}}G=0;for(K=d.length;G<K;G++)for(N=0,O=d[G].length;N<O;N++)f=d[G][N],0<
e[f].counter&&(e[f].average=(e[f].sum/e[f].counter).toFixed(2)-0),B=this.component.xAxis.getAxis(b[f].xAxisIndex||0).getCoord(e[f].average),e[f].averageLine=[[B,this.component.grid.getYend()],[B,this.component.grid.getY()]],e[f].minLine=[[e[f].minX,this.component.grid.getYend()],[e[f].minX,this.component.grid.getY()]],e[f].maxLine=[[e[f].maxX,this.component.grid.getYend()],[e[f].maxX,this.component.grid.getY()]],e[f].isHorizontal=!1,this.buildMark(f)},_mapSize:function(a,d,b){for(var e=this.series,
f,g={},c={},m,n=0,p=0,q,r,s,E,A=1,B=0,C=d.length;B<C;B++){s=!1;for(var u=0,w=d[B].length;u<w;u++){f=d[B][u];E=e[f];if(!b)if(s)g[f]=m;else if(m=this.query(E,"barWidth"),"undefined"!=typeof m){g[f]=m;p+=m;n++;s=!0;for(var x=0,z=u;x<z;x++)g[d[B][x]]=m}c[f]=this.query(E,"barMinHeight");q="undefined"!=typeof q?q:this.query(E,"barGap");r="undefined"!=typeof r?r:this.query(E,"barCategoryGap")}}var D;if(d.length!=n)if(b)b=a.getGap(),q=0,D=Math.floor(b/d.length),0>=D&&(A=Math.floor(d.length/b),D=1);else{if(b=
"string"==typeof r&&r.match(/%$/)?Math.floor(a.getGap()*(100-parseFloat(r))/100):a.getGap()-r,"string"==typeof q&&q.match(/%$/)?(q=parseFloat(q)/100,D=Math.floor((b-p)/((d.length-1)*q+d.length-n)),q=Math.floor(D*q)):(q=parseFloat(q),D=Math.floor((b-p-q*(d.length-1))/(d.length-n))),0>=D)return this._mapSize(a,d,!0)}else if(b=1<n?"string"==typeof r&&r.match(/%$/)?Math.floor(a.getGap()*(100-parseFloat(r))/100):a.getGap()-r:p,D=0,q=1<n?Math.floor((b-p)/(n-1)):0,0>q)return this._mapSize(a,d,!0);return{barWidthMap:g,
barMinHeightMap:c,gap:b,barWidth:D,barGap:q,interval:A}},_getBarItem:function(a,d,b,f,h,g,c,m){var p=this.series,q=p[a],r=q.data[d],s=this._sIndex2colorMap[a],M=[r,q],E=this.deepQuery(M,"itemStyle.normal.color")||s,A=this.deepQuery(M,"itemStyle.emphasis.color"),B=this.deepMerge(M,"itemStyle.normal"),s=B.borderWidth,M=this.deepMerge(M,"itemStyle.emphasis");f={zlevel:this._zlevelBase,clickable:!0,style:{x:f,y:h,width:g,height:c,brushType:"both",color:this.getItemStyleColor(E,a,d,r),radius:B.borderRadius,
lineWidth:s,strokeColor:B.borderColor},highlightStyle:{color:this.getItemStyleColor(A,a,d,r),radius:M.borderRadius,lineWidth:M.borderWidth,strokeColor:M.borderColor},_orient:m};f.highlightStyle.color=f.highlightStyle.color||("string"==typeof f.style.color?n.lift(f.style.color,-.3):f.style.color);0<s&&f.style.height>s&&f.style.width>s?(f.style.y+=s/2,f.style.height-=s,f.style.x+=s/2,f.style.width-=s):f.style.brushType="fill";f.highlightStyle.textColor=f.highlightStyle.color;f=this.addLabel(f,q,r,b,
m);if("insideLeft"==f.style.textPosition||"insideRight"==f.style.textPosition||"insideTop"==f.style.textPosition||"insideBottom"==f.style.textPosition){switch(f.style.textPosition){case "insideLeft":f.style.textX=f.style.x+5;f.style.textY=f.style.y+f.style.height/2;f.style.textAlign="left";f.style.textBaseline="middle";break;case "insideRight":f.style.textX=f.style.x+f.style.width-5;f.style.textY=f.style.y+f.style.height/2;f.style.textAlign="right";f.style.textBaseline="middle";break;case "insideTop":f.style.textX=
f.style.x+f.style.width/2;f.style.textY=f.style.y+2.5;f.style.textAlign="center";f.style.textBaseline="top";break;case "insideBottom":f.style.textX=f.style.x+f.style.width/2,f.style.textY=f.style.y+f.style.height-2.5,f.style.textAlign="center",f.style.textBaseline="bottom"}f.style.textPosition="specific";f.style.textColor=f.style.textColor||"#fff"}return this.deepQuery([r,q,this.option],"calculable")&&(this.setCalculable(f),f.draggable=!0),e.pack(f,p[a],a,p[a].data[d],d,b),f},getMarkCoord:function(a,
d){var b=this.series[a],e=this.xMarkMap[a],f=this.component.xAxis.getAxis(b.xAxisIndex),b=this.component.yAxis.getAxis(b.yAxisIndex),g;!d.type||"max"!=d.type&&"min"!=d.type&&"average"!=d.type?e.isHorizontal?(g="string"==typeof d.xAxis&&f.getIndexByName?f.getIndexByName(d.xAxis):d.xAxis||0,e=e[g],e="undefined"!=typeof e?e:"string"!=typeof d.xAxis&&f.getCoordByIndex?f.getCoordByIndex(d.xAxis||0):f.getCoord(d.xAxis||0),f=[e,b.getCoord(d.yAxis||0)]):(g="string"==typeof d.yAxis&&b.getIndexByName?b.getIndexByName(d.yAxis):
d.yAxis||0,e=e[g],e="undefined"!=typeof e?e:"string"!=typeof d.yAxis&&b.getCoordByIndex?b.getCoordByIndex(d.yAxis||0):b.getCoord(d.yAxis||0),f=[f.getCoord(d.xAxis||0),e]):f=[e[d.type+"X"],e[d.type+"Y"],e[d.type+"Line"],e[d.type]];return f},refresh:function(a){a&&(this.option=a,this.series=a.series);this.backupShapeList();this._buildShape()},addDataAnimation:function(a){for(var d=this.series,b={},f=0,h=a.length;f<h;f++)b[a[f][0]]=a[f];for(var g,c,m,n,p,f=this.shapeList.length-1;0<=f;f--)h=e.get(this.shapeList[f],
"seriesIndex"),b[h]&&!b[h][3]&&"rectangle"==this.shapeList[f].type&&(p=e.get(this.shapeList[f],"dataIndex"),a=d[h],b[h][2]&&p==a.data.length-1?this.zr.delShape(this.shapeList[f].id):b[h][2]||0!==p?("horizontal"==this.shapeList[f]._orient?(n=this.component.yAxis.getAxis(a.yAxisIndex||0).getGap(),m=b[h][2]?-n:n,g=0):(c=this.component.xAxis.getAxis(a.xAxisIndex||0).getGap(),g=b[h][2]?c:-c,m=0),this.shapeList[f].position=[0,0],this.zr.animate(this.shapeList[f].id,"").when(500,{position:[g,m]}).start()):
this.zr.delShape(this.shapeList[f].id))}},m.inherits(q,s),m.inherits(q,r),a("../chart").define("bar",q),q});
define("echarts/chart/pie","require ../component/base ./base zrender/shape/Text zrender/shape/Ring zrender/shape/Circle zrender/shape/Sector zrender/shape/BrokenLine ../config ../util/ecData zrender/tool/util zrender/tool/math zrender/tool/color ../chart".split(" "),function(a){function q(a,b,e,f,h){r.call(this,a,b,e,f,h);s.call(this);var k=this;k.shapeHandler.onmouseover=function(a){a=a.target;var b=d.get(a,"seriesIndex"),c=d.get(a,"dataIndex"),e=d.get(a,"special"),f=a._lastAddRadius,g=a.style.startAngle,
h=a.style.endAngle,l=a.highlightStyle.color;(e=k.getLabel(b,c,e,f,g,h,l,!0))&&k.zr.addHoverShape(e);(a=k.getLabelLine(b,c,f,a.style.r0,a.style.r,g,h,l,!0))&&k.zr.addHoverShape(a)};this.refresh(f)}var r=a("../component/base"),s=a("./base"),p=a("zrender/shape/Text"),f=a("zrender/shape/Ring"),e=a("zrender/shape/Circle"),m=a("zrender/shape/Sector"),n=a("zrender/shape/BrokenLine"),l=a("../config"),d=a("../util/ecData"),b=a("zrender/tool/util"),k=a("zrender/tool/math"),h=a("zrender/tool/color");return q.prototype=
{type:l.CHART_TYPE_PIE,_buildShape:function(){var a=this.series,b=this.component.legend;this.selectedMap={};this._selected={};var h,k,m;this._selectedMode=!1;for(var n=0,p=a.length;n<p;n++)a[n].type==l.CHART_TYPE_PIE&&(a[n]=this.reformOption(a[n]),h=a[n].name||"",this.selectedMap[h]=b?b.isSelected(h):!0,this.selectedMap[h]&&(h=this.parseCenter(this.zr,a[n].center),k=this.parseRadius(this.zr,a[n].radius),this._selectedMode=this._selectedMode||a[n].selectedMode,this._selected[n]=[],this.deepQuery([a[n],
this.option],"calculable")&&(m={zlevel:this._zlevelBase,hoverable:!1,style:{x:h[0],y:h[1],r0:10>=k[0]?0:k[0]-10,r:k[1]+10,brushType:"stroke",lineWidth:1,strokeColor:a[n].calculableHolderColor||this.ecTheme.calculableHolderColor}},d.pack(m,a[n],n,void 0,-1),this.setCalculable(m),m=10>=k[0]?new e(m):new f(m),this.shapeList.push(m)),this._buildSinglePie(n),this.buildMark(n)));this.addShapeList()},_buildSinglePie:function(a){for(var b=this.series[a],d=b.data,e=this.component.legend,f,h=0,k=0,l=0,m=Number.NEGATIVE_INFINITY,
n=0,p=d.length;n<p;n++)f=d[n].name,e?this.selectedMap[f]=e.isSelected(f):this.selectedMap[f]=!0,this.selectedMap[f]&&!isNaN(d[n].value)&&(0!==+d[n].value?h++:k++,l+=+d[n].value,m=Math.max(m,+d[n].value));for(var q=100,r=0,s=b.clockWise,x=b.startAngle.toFixed(2)-0,z,D=b.minAngle||.01,h=360-D*h-.01*k,I,k=b.roseType,H,J,n=0,p=d.length;n<p;n++)if(f=d[n].name,this.selectedMap[f]&&!isNaN(d[n].value)){e?I=e.getColor(f):I=this.zr.getColor(n);f=q;q=d[n].value/l;"area"!=k?z=s?x-q*h-(0!==q?D:.01):q*h+x+(0!==
q?D:.01):z=s?x-360/p:360/p+x;z=z.toFixed(2)-0;q=(100*q).toFixed(2);H=this.parseRadius(this.zr,b.radius);J=+H[0];H=+H[1];"radius"==k?H=d[n].value/m*(H-J)*.8+.2*(H-J)+J:"area"==k&&(H=Math.sqrt(d[n].value/m)*(H-J)+J);if(s){var G;G=x;x=z;z=G}0<n&&15>Math.abs(x-z)&&4>f&&this._needLabel(b,d[n],!1)&&"center"!=this.deepQuery([d[n],b],"itemStyle.normal.label.position")?r+=4>q?20:-20:r=0;this._buildItem(a,n,q,r,d[n].selected,J,H,x,z,I);s||(x=z)}},_buildItem:function(a,b,e,f,h,k,l,m,n,p){var q=this.series;h=
this.getSector(a,b,e,h,k,l,m,n,p);d.pack(h,q[a],a,q[a].data[b],b,q[a].data[b].name,e);h._lastAddRadius=f;this.shapeList.push(h);(h=this.getLabel(a,b,e,f,m,n,p,!1))&&(d.pack(h,q[a],a,q[a].data[b],b,q[a].data[b].name,e),h._dataIndex=b,this.shapeList.push(h));(f=this.getLabelLine(a,b,f,k,l,m,n,p,!1))&&(d.pack(f,q[a],a,q[a].data[b],b,q[a].data[b].name,e),f._dataIndex=b,this.shapeList.push(f))},getSector:function(a,b,d,e,f,l,n,p,q){d=this.series[a];var r=d.data[b],s=[r,d],C=this.parseCenter(this.zr,d.center),
u=this.deepMerge(s,"itemStyle.normal")||{},s=this.deepMerge(s,"itemStyle.emphasis")||{};q=this.getItemStyleColor(u.color,a,b,r)||q;var w=this.getItemStyleColor(s.color,a,b,r)||("string"==typeof q?h.lift(q,-.2):q);f={zlevel:this._zlevelBase,clickable:!0,style:{x:C[0],y:C[1],r0:f,r:l,startAngle:n,endAngle:p,brushType:"both",color:q,lineWidth:u.borderWidth,strokeColor:u.borderColor,lineJoin:"round"},highlightStyle:{color:w,lineWidth:s.borderWidth,strokeColor:s.borderColor,lineJoin:"round"},_seriesIndex:a,
_dataIndex:b};e?(e=((f.style.startAngle+f.style.endAngle)/2).toFixed(2)-0,f.style._hasSelected=!0,f.style._x=f.style.x,f.style._y=f.style.y,l=this.query(d,"selectedOffset"),f.style.x+=k.cos(e,!0)*l,f.style.y-=k.sin(e,!0)*l,this._selected[a][b]=!0):this._selected[a][b]=!1;this._selectedMode&&(f.onclick=this.shapeHandler.onclick);this.deepQuery([r,d,this.option],"calculable")&&(this.setCalculable(f),f.draggable=!0);if(this._needLabel(d,r,!0)||this._needLabelLine(d,r,!0))f.onmouseover=this.shapeHandler.onmouseover;
return f=new m(f),f},getLabel:function(a,c,d,e,f,h,l,m){var n=this.series[a],q=n.data[c];if(this._needLabel(n,q,m)){m=m?"emphasis":"normal";var r=b.merge(b.clone(q.itemStyle)||{},n.itemStyle),s=r[m].label,u=s.textStyle||{},w=this.parseCenter(this.zr,n.center),x=w[0],w=w[1],z,D;f=((h+f)/2+360)%360;var n=this.parseRadius(this.zr,n.radius),I;return s.position=s.position||r.normal.label.position,"center"==s.position?(z=x,D=w,I="center"):"inner"==s.position?(n=(n[0]+n[1])/2+e,z=Math.round(x+n*k.cos(f,
!0)),D=Math.round(w-n*k.sin(f,!0)),l="#fff",I="center"):(n=n[1]- -r[m].labelLine.length+e,z=x+n*k.cos(f,!0),D=w-n*k.sin(f,!0),I=90<=f&&270>=f?"right":"left"),"center"!=s.position&&"inner"!=s.position&&(z+="left"==I?20:-20),q.__labelX=z-("left"==I?5:-5),q.__labelY=D,new p({zlevel:this._zlevelBase+1,hoverable:!1,style:{x:z,y:D,color:u.color||l,text:this.getLabelText(a,c,d,m),textAlign:u.align||I,textBaseline:u.baseline||"middle",textFont:this.getFont(u)},highlightStyle:{brushType:"fill"},_seriesIndex:a,
_dataIndex:c})}},getLabelText:function(a,b,d,e){a=this.series[a];b=a.data[b];e=this.deepQuery([b,a],"itemStyle."+e+".label.formatter");if(!e)return b.name;if("function"==typeof e)return e.call(this.myChart,a.name,b.name,b.value,d);if("string"==typeof e)return e=e.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}").replace("{d}","{d0}"),e=e.replace("{a0}",a.name).replace("{b0}",b.name).replace("{c0}",b.value).replace("{d0}",d),e},getLabelLine:function(a,c,d,e,f,h,l,m,p){var q=this.series[a];
e=q.data[c];if(this._needLabelLine(q,e,p)){p=p?"emphasis":"normal";var r=b.merge(b.clone(e.itemStyle)||{},q.itemStyle)[p].labelLine;p=r.lineStyle||{};var s=this.parseCenter(this.zr,q.center),u=s[0],s=s[1];d=this.parseRadius(this.zr,q.radius)[1]- -r.length+d;l=(l+h)/2%360;h=k.cos(l,!0);l=k.sin(l,!0);return new n({zlevel:this._zlevelBase+1,hoverable:!1,style:{pointList:[[u+f*h,s-f*l],[u+d*h,s-d*l],[e.__labelX,e.__labelY]],strokeColor:p.color||m,lineType:p.type,lineWidth:p.width},_seriesIndex:a,_dataIndex:c})}},
_needLabel:function(a,b,d){return this.deepQuery([b,a],"itemStyle."+(d?"emphasis":"normal")+".label.show")},_needLabelLine:function(a,b,d){return this.deepQuery([b,a],"itemStyle."+(d?"emphasis":"normal")+".labelLine.show")},reformOption:function(a){var c=b.merge;return a=c(a||{},this.ecTheme.pie),a.itemStyle.normal.label.textStyle=c(a.itemStyle.normal.label.textStyle||{},this.ecTheme.textStyle),a.itemStyle.emphasis.label.textStyle=c(a.itemStyle.emphasis.label.textStyle||{},this.ecTheme.textStyle),
a},refresh:function(a){a&&(this.option=a,this.series=a.series);this.backupShapeList();this._buildShape()},addDataAnimation:function(a){for(var b=this.series,d={},e=0,f=a.length;e<f;e++)d[a[e][0]]=a[e];var h={},k={},m={},n=this.shapeList;this.shapeList=[];for(var p,q,r,s={},e=0,f=a.length;e<f;e++)p=a[e][0],q=a[e][2],r=a[e][3],b[p]&&b[p].type==l.CHART_TYPE_PIE&&(q?(r||(h[p+"_"+b[p].data.length]="delete"),s[p]=1):r?s[p]=0:(h[p+"_-1"]="delete",s[p]=-1),this._buildSinglePie(p));e=0;for(f=this.shapeList.length;e<
f;e++)switch(p=this.shapeList[e]._seriesIndex,a=this.shapeList[e]._dataIndex,a=p+"_"+a,this.shapeList[e].type){case "sector":h[a]=this.shapeList[e];break;case "text":k[a]=this.shapeList[e];break;case "broken-line":m[a]=this.shapeList[e]}this.shapeList=[];e=0;for(f=n.length;e<f;e++)if(p=n[e]._seriesIndex,d[p]&&(a=n[e]._dataIndex+s[p],a=p+"_"+a,b=h[a]))if("sector"==n[e].type)"delete"!=b?this.zr.animate(n[e].id,"style").when(400,{startAngle:b.style.startAngle,endAngle:b.style.endAngle}).start():this.zr.animate(n[e].id,
"style").when(400,0>s[p]?{startAngle:n[e].style.startAngle}:{endAngle:n[e].style.endAngle}).start();else if("text"==n[e].type||"broken-line"==n[e].type)if("delete"==b)this.zr.delShape(n[e].id);else switch(n[e].type){case "text":b=k[a];this.zr.animate(n[e].id,"style").when(400,{x:b.style.x,y:b.style.y}).start();break;case "broken-line":b=m[a],this.zr.animate(n[e].id,"style").when(400,{pointList:b.style.pointList}).start()}this.shapeList=n},onclick:function(a){var b=this.series;if(this.isClick&&a.target){this.isClick=
!1;for(var e,f=a.target,h=f.style,m=d.get(f,"seriesIndex"),n=d.get(f,"dataIndex"),p=0,q=this.shapeList.length;p<q;p++)if(this.shapeList[p].id==f.id){m=d.get(f,"seriesIndex");n=d.get(f,"dataIndex");if(h._hasSelected)f.style.x=f.style._x,f.style.y=f.style._y,f.style._hasSelected=!1,this._selected[m][n]=!1;else{var r=((h.startAngle+h.endAngle)/2).toFixed(2)-0;f.style._hasSelected=!0;this._selected[m][n]=!0;f.style._x=f.style.x;f.style._y=f.style.y;e=this.query(b[m],"selectedOffset");f.style.x+=k.cos(r,
!0)*e;f.style.y-=k.sin(r,!0)*e}this.zr.modShape(f.id,f)}else this.shapeList[p].style._hasSelected&&"single"==this._selectedMode&&(m=d.get(this.shapeList[p],"seriesIndex"),n=d.get(this.shapeList[p],"dataIndex"),this.shapeList[p].style.x=this.shapeList[p].style._x,this.shapeList[p].style.y=this.shapeList[p].style._y,this.shapeList[p].style._hasSelected=!1,this._selected[m][n]=!1,this.zr.modShape(this.shapeList[p].id,this.shapeList[p]));this.messageCenter.dispatch(l.EVENT.PIE_SELECTED,a.event,{selected:this._selected,
target:d.get(f,"name")},this.myChart);this.zr.refresh()}}},b.inherits(q,s),b.inherits(q,r),a("../chart").define("pie",q),q});
define("_chart","require echarts/chart/gauge echarts/chart/funnel echarts/chart/scatter echarts/chart/k echarts/chart/radar echarts/chart/chord echarts/chart/force echarts/chart/line echarts/chart/bar echarts/chart/pie".split(" "),function(a){a("echarts/chart/gauge");a("echarts/chart/funnel");a("echarts/chart/scatter");a("echarts/chart/k");a("echarts/chart/radar");a("echarts/chart/chord");a("echarts/chart/force");a("echarts/chart/line");a("echarts/chart/bar");a("echarts/chart/pie")});